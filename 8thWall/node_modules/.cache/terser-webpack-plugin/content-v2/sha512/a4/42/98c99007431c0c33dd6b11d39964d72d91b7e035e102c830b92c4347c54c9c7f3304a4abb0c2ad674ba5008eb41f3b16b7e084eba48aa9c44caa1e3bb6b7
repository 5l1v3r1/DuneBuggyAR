{"code":"!function(e){var t={};function a(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var n in e)a.d(i,n,function(t){return e[t]}.bind(null,n));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,\"a\",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p=\"/\",a(a.s=0)}([function(e,t,a){\"use strict\";a.r(t);var i=\"7c7d7f8081838383828280807f80807e7d7d7e7f818487888b8b8c8c8d8e8e8e8f909092939494959696969797999a9a9c9b9b9b9a98999a9999999b9c9e9fa1a3a4a5a6a7a8a8a9a7a5a4a4a2a19f9d9b9a99979593918f8c8987858483807e7d7b7a7775706d6a6867666665676667696b6c6f707376797c7e81838487898a8888868586888888848281807e7e7e7d7d7c7d7c7d7d7d7d7e7f8081828282838384858686868685868687878788888584807d797672706f6d6b6a68676666666667676868686665646261605e5e5e5e5f606262646566666868696868676463615f5d5e5f5f6163646566686a6b6d6e707375757777777777777678787a7b7b7d7e7f808282848382828080818080807f7f7f808385888a8b8e8f9292919292929294969797979798989898999a9b9c9c9d9c9b9b9a9b9b9a9a9a9c9da0a1a3a3a4a5a6a8a9a9a9a7a7a5a4a2a0a09e9c9a99979493918f8d8a8785838281807e7c7b7775716d6a676666656566666668696b6d6f7175797b7e7f828486878a8a88878788898a88868482807f7f7f7e7e7d7d7e7e7d7d7d7f808281838283848484868687868786888788888887888685807d797672706f6d6b6a686766676666666767696a6a686665636362616162636465676668686a6b6b6c6c6a6967666362605f606263646667686a6c6d6d6f717476767677777776767677797b7b7c7e7e7f80818384848483838181828181818080818486898b8d9093939393949494959798999999989999999a9b9b9c9c9e9d9e9c9c9b9d9b9b9b9c9d9fa1a3a4a4a5a6a7a8a8a9a9a8a7a6a5a3a1a09e9c9b99979493918f8d8b8986858482817f7e7b7873716e6a67656464636466656668696b6e7074777b7c7f80838687898a8a8989898a8b89888583818181817f7e7e7e7e7f7f7e7e7e818283838385848586878688888787888888888888888685807d7976726f6d6c6b6a696868686767676767696b6c6b6968666666656565666769696b6b6c6d6d6e6e6d6d6b6968656563626263656768696a6b6d6e70717476777778787777767677787a7b7c7d7e7e7e7f8082838486858483838383828282828283878a8c8f91949596969696979899999a9a9b9c9b9c9c9c9c9d9d9f9f9f9e9d9c9b9d9c9d9d9d9fa0a3a4a4a5a5a7a7a7a7a8a8a8a8a7a6a4a2a19f9d9b9a98969492918e8c8a87878583827f7e7b7874726d6b68656363646464646465676a6c6f7275787c7e81838587898a8c8c8b8b8c8d8b8a868483828281807f7f7f7f80807e7f80808383838485868686878888898989898989898989888785807b7774716f6e6c6b6b6a69686667686767686a6b6e6d6d6b6a696968696a6a6b6c6d6e6f6f717171716f6f6d6b6a66646464646566696a6c6c6e6f7173757677787978787777787878787a7b7c7d7d7d7f7f8182828486868685858384848383848587898c8d8e929496979899999a9a9a9b9b9e9e9d9d9e9f9f9e9f9fa1a1a09f9e9c9e9e9d9e9e9fa1a3a4a4a4a6a6a7a7a6a6a8a7a7a8a8a6a4a2a1a09e9d9b9a98969391908d8a8987858482817f7c7975726d6a6765636363626262626365676a6c7074777a7c7f828587888a8c8d8d8d8d8d8c8c8985848483818180818081817f8081818183838484858687888888898a8a898a8a8a8a8a8a8887847f7a7674716f6e6d6c6c6b69686767676868696a6c6e6d6d6c6b6b6b6b6c6c6e6e6f707172727373737270706f6c6a6966666667696a6c6c6d6e6f717274767778787979797777777879797a7b7d7d7d7d7e7f81828385868687878786858584858687888b8c8f91929496989a9c9c9c9b9c9d9e9e9f9f9fa0a1a0a0a0a1a2a1a0a09f9e9f9f9e9fa0a2a4a5a4a4a4a6a7a6a6a7a7a7a7a7a7a7a8a5a3a2a19f9e9c9b98979593918f8c8a87868583827f7c7975726e6b696664636362605f60606266676a6e7275797b7e8285868a8b8d8e8e8f8e8f8f8d8a87858584828282828282818282818282848585858787888889898a8a898a8b8b8c8b8b8a8987847f7a7673716f6e6d6d6c6a6a686867676868696b6c6c6c6c6d6d6c6d6d6f70707272727374757675757473706e6d6a696868696a6b6c6e6e6f70717374767778797a79797979787879797a7b7c7c7e7c7e7e7f808283868787888888888888878788888b8d8f909193959698999b9b9c9d9e9fa1a1a1a2a2a1a3a2a2a2a4a4a2a2a0a0a0a1a0a0a0a2a4a6a5a5a6a6a5a6a5a5a6a7a6a6a7a6a7a7a8a6a5a3a19f9d9b9a98969593908e8b88868684827f7d7976736e6a67666563626160605f60616566696c6f75777a7e8185878a8c8e8f908f8f90908f8c88878685858483838383828383828384868788868889898a8a8b898b8b8c8c8c8e8d8c8a8987837e7a7673716f6e6d6c6c6b6a686868686869696c6c6b6b6b6b6c6f6f707273737474757576767877767473716e6d6b6a696a6c6d6e6e707171737474777778787978797a7979787878797a7b7b7c7d7d7d7e7f80818387898889898a8a8b8a8a898a8b8c8e90929394969797999a9c9c9ea0a1a3a4a4a3a4a4a4a4a4a4a5a4a4a3a3a2a1a2a2a1a2a4a5a6a6a7a7a6a6a6a5a5a5a5a6a5a5a6a6a7a8a8a6a5a2a09e9d9a99989693928f8c8987868583817e7a77736f6b69676664646361605f5f606264676b6d7074797c8185878a8c8f8f918f909190908e8b8887868584848383838383838384858687888889898b8b8d8b8c8b8c8c8c8d8d8d8c8b8985827d797573726f6d6c6c6b6b6b6a6a6968696a6b6b6b696968696c6e70737575767677777879787978777573716e6d6a6b6c6d6e6f6f71717273747678787979797a7978797978787878797a7b7c7b7c7b7c7d7f7f80838587898a8a8b8d8b8b8b8b8c8d8f9093949496979798999a9c9c9d9fa1a3a5a5a5a5a5a7a6a6a6a6a6a5a5a3a4a3a3a3a3a4a5a7a8a9a8a8a7a7a7a6a5a4a4a4a4a5a5a6a7a8a9a7a5a4a2a19e9c9b99979693918d8a88878684817f7b7875716d6a6968676564636160605f606265676b6e72777c7f8286898c8f909290909090908e8d8a898786858584848483848585868687898a898a8b8b8c8d8d8d8d8d8d8e8e8f8e8d8a8784817c787573706f6d6c6b6d6c6b6b6a6a696a6b6b6a69676767686a6e70737577797979797979797a797775736f6f6c6c6c6d6f6f7071717373747677797a78797a7877777778767677767979797b7b7a797b7c7d7e80838586898a8c8d8e8d8d8e8e8e8f919294979898989998999a9c9d9e9fa1a3a6a8a7a7a8a8a8a8a7a7a7a6a6a7a5a5a4a4a5a5a6a7a9a8a8a7a7a6a5a5a4a4a4a4a4a5a6a6a7a8a8a8a7a5a3a2a09d9b9b999693908d8b89868684817f7d7a76726f6c6b696766666464626060616263676b6e72767a7e83868b8d8f92919191909191918f8d8a888787878685858584858787888889898a8b8c8d8e8e908e8f8f8e8e8f8e8d8c8986827e7a7875726f6e6d6c6c6c6a6a6b6b6b6a6b6b6b6867656565676a6d70737678797a7a7b7b7b7b7a7b7875726f6e6d6c6d6e6f7172737272737577797a7a787878777576767575767576767878797879787a7a7c7e81838487888a8d8e8d8e8f8f929392949596999b9b9a9b9a9a9b9c9e9e9fa1a3a7a8a9a8a8a9a9a9aaa9a8a8a8a8a7a7a7a6a6a7a8a9a9a7a7a7a8a6a6a6a4a4a4a4a4a4a5a6a7a8a8a8a8a6a4a3a1a09d9b999694918d8a8988868482807e7b7773716e6c6b6a69676764636362626465686a6e7275797d82878c8e9192929291909090908f8f8c8a8889888887868686878889888889898b8c8d8d8e8f8f8f9090918f8e8d8c8b8885807c79787472706e6d6c6b6c6b6b6b6b6b6a6b6b69676563646265696d70737577797c7c7c7c7d7c7c7b797673716f6e6e6e6e70717273737374767879797878787775747472727274747475767676767777797b7d7f83858687898b8d8f8f8e8f919294949697989b9c9b9c9c9b9b9b9e9fa1a1a2a4a6a9aaaaaaaaaaaaa9a9a9abababa9a9a8a7a8a9a9a8a7a7a6a7a7a7a7a7a6a5a4a4a4a4a5a6a7a6a7a7a7a7a6a4a2a09e9b999493908d8a8a87868482817e7c797672706f6c6c6a696866666465656768686b6e71757a7d83888c8f9293939293929190908f8d8c8b8b8a8a8a89888887878889898a8b8b8b8c8e8e8f9090909190908f8e8c8a8985827e7a79767472706e6d6d6c6b6a6b6b6b6b6b6a6a67656463616264686d70737578797a7c7d7e7e7d7c7b79767371706f6e6f6f71737373737475777878777676757473727270707172717273747375757677797b7d80848687888b8c8e8f90909193939697999a9a9d9e9e9d9d9d9c9e9fa1a2a3a3a4a6a8abaaababababababacadadababaaaaaaa9aaa8a8a8a7a6a6a7a8a7a7a7a6a5a4a4a4a4a5a5a6a5a5a5a5a6a5a3a19f9b999592918c8b888887858482817d7b787573716f6c6b6a696868686969696a6a6c7073777b80858a8e9092949594939392918f8f8d8b8b8b8b8b8b8b8a8a8889898a8b8b8b8c8d8d8e909090919090908e8e8c8b898683807c7a777573716f6e6e6d6c6b6b6b6b6c6a696867656362605f6165696e7174767778797b7c7d7f7d7c7a79767371706f6f6f707172737374757778777676757474727170706f6f6f707072737372747576787a7c7f818486898a8c8c8e8f909394969697999a9b9d9fa09f9fa09fa0a0a1a2a3a4a5a6a7a8aaababacabacaeafafaeaeaeadacababaaa9a9a8a7a6a6a7a8a9a9a8a8a6a5a4a5a4a4a3a4a4a3a3a3a4a5a5a4a19f9b999691908d8b89888786858482807e7a787572706e6c6c6b6b6b6b6b6c6d6e6e6f71757a7e83888c90939596969494939391918f8d8b8a8a8a8b8d8c8b8b8b8b8b8b8b8b8c8d8e8f8f8f8e8f8f8f8f8e8e8c8b898785817f7b787675737170706f6e6d6c6b6b6c6a686867656362605f5f61656b6f7274767778797a7a7c7d7d7b7a78757371706f7071727273737475767876767574737171706e6e6e6e6e6e6f72717273727476777a7b7d7f828486888a8b8d8e90929497999a9b9c9e9e9fa0a1a1a1a1a2a2a4a4a4a6a6a7a8a9ababadadafafb0b0b0b0b0afafafadababaaa8a8a7a8a8a7a8aaababaaa8a7a6a5a4a3a2a2a2a1a1a2a2a2a5a6a4a29e9c9a9693918e8c8a8a898888868483807d7a797773706f6d6c6c6c6c6d6f7071707375777c80858c909397999897979595939291908f8c8b8a898a8b8c8d8c8c8c8b8c8d8d8e8e8f8f8f8e8e8e8e8e8d8d8c8b89878683807e7b7976747372716f6f6e6d6d6c6c6a6967666463615e5e5e5f63676c707374757677777879797b7a7877767472716f70707273737373757577787675747271706e6e6e6e6d6e6e6f7071717172737576787b7d7e8082858688898b8d8e919496989b9d9ea0a0a0a1a1a2a3a3a3a5a5a5a5a6a6a7a9aaabacadafb0b1b2b2b1b1afb0b0afaeadacaaa9a7a7a7a8a8a9aaacadacacaaa8a7a5a4a3a2a1a1a0a0a0a2a2a3a4a4a3a19e9b989593908e8d8c8b8a8a89878582807e7c797671706e6d6d6d6e707172747474767a7f848a8f94979a9a9a99979695959392918f8d8b8a8a8a8a898b8b8c8c8d8e8e8d8f8f8f8d8d8c8d8d8c8c8c8b8989878683817f7c7a7876747371706f6f6e6d6d6d6b6967656463615f5d5c5e62656a6e7273747474757576777878777675747271706f707071727272737575757574737371706e6e6d6d6d6d6e6e6f7071727273747678797c7e8082838586898c8e8e919395999a9d9fa1a3a3a3a3a4a4a4a4a3a5a5a6a7a6a7a8a9abacaeb1b2b3b4b4b3b2b1b1afb0afafaeacaba8a8a6a7a9abacacadafafadaba9a8a7a5a3a1a19fa09e9ea0a2a3a3a5a4a2a09d9a99969492908f8e8c8c8a88868583817d7a7774716f6e6d6f70717375767677797d82888e9296999c9a9c9a98969595949392908e8d8b8b8a8989898a8a8c8c8e8f8f8f8e8d8e8d8b8b8b8c8b8b8988868484817f7e7c79787674737170706f6f6f6d6d6c6966656361605e5c5d6065696d71737274737373737373747574737272706f6d6e6f70707171727374747472737271716e6e6c6d6d6e6e6e6f6f71727373747676787a7d8080828486888b8d90919395999b9da0a1a4a4a5a5a5a5a5a6a5a6a5a7a6a7a6a8a9ababadafb1b2b4b5b4b4b3b2b1afafaeaeadabaaa9a7a7a8aaabacadafb0b0aeadabaaa8a6a4a2a09f9f9e9fa0a2a3a3a4a5a4a3a19e9c9a989696939291908e8b89878783807d7a7674716f6f707173757677787a7d81858c9297999c9c9c9c9a9997969696959492918d8c8b8b89888988898b8b8e8f8e8d8d8c8c8b89898a8a888786858483817f7e7c7b797776747372706f6e6f6f6e6d6b69666361605f5e5d5f63676b6f71717272727171717070707171706f6e6d6c6c6c6e6d6f70727273747372717171706f6e6d6c6c6d6c6d6f7071717373747677787a7b7e8082848686898c8f929497999b9ea1a3a4a6a8a7a7a7a6a6a6a6a6a6a6a6a7a9a8aaabacaeafb1b2b4b5b5b4b3b2b1b0aeaeaeacaba9a8a8a8a9acadafb0b1b2b0b0aeadaba9a6a5a2a1a09f9f9f9fa1a2a3a4a6a7a6a3a19f9d9c9a9897979593918f8d8a8886827f7b78757471727373747778787b7d8185898f95989b9d9e9d9d9c9a9897979898969492908d8b8a89898888898a8b8d8d8e8d8c8b8a89898887878785838282807f7e7c7c79797775747371706f6f6f6e6f6d6b6866646361615f6063676a6e70717171706f706f6e6e6d6e6e6d6c6b6a6a6a6a6a6c6d6d6d6f7071727271716f6f706f6e6d6c6c6c6d6e6f71717274747576787a7b7c8082838486888a8d9194969a9c9fa2a5a7a8a9aaaaaaa8a7a8a8a8a6a7a7a7a7a7a9abacadafb0b1b2b4b5b5b4b4b3b1b0afadacacabaaa9a8a9abadaeb0b1b2b1b1b0b0aeaca9a7a5a3a2a1a1a0a0a0a0a1a3a4a5a8a8a4a3a1a09e9d9c9a9998969492908c8a8783807d7b7876757475767678797c7e8185898d93989a9d9e9f9f9d9b9a9998989a99969594918f8d8d8a898989898a8b8c8c8d8d8c8b89898787878786848381807e7d7d7b7a7a7877767472706f6f6f6e6f6f6e6c6967656464626364686b6d70707170706f6f6d6c6c6b6a6b6b6a696867676668686769696a6c6d6e6f7071706f6f6f6d6d6e6d6d6d6d6f70727475757677797a7c7d7e8182858687898b8f9396999b9fa2a6a7aaabababacaaaaa9a9a8a8a8a7a7a7a7a8aaacadafafb1b2b3b4b4b3b4b4b3b1b1afaeadabababababacacaeb0b1b2b2b1b1b0b0aeadaba9a7a5a3a2a1a1a0a0a1a1a2a4a6a8a7a8a5a4a2a19f9e9e9c9a999895938f8c898682807d7a79797878797a7b7c7e8284888c9096999c9d9e9e9e9e9c9a999899999a98969493918f8c8b8a8a898a8a8b8b8c8b8c8b8b89888787878786848382807f7d7c7b7a797877767472706f6f6f6f70716f6d6a696866666767696b6d6f7070706f6f6e6c6b6a6969686767676566656666656566676768686a6b6c6d6f6f6e6e6e6d6d6f6f6e6e6e6f727375767677797b7c7d7f8082848687898b8d9094989c9ea3a5a8aaabacadadadacabaaa9a9a8a7a7a7a6a6a8aaacaeafb0b1b2b3b3b3b4b4b3b3b1b0b0afaeadacadadaeaeaeb0b1b2b2b2b1b1b1b0afadabaaa8a7a6a4a2a2a1a1a1a1a3a5a6a7a9a8a7a6a3a2a1a1a09f9c9b9a9795928e8b8985837f7e7c7c7c7c7c7d7d7f8184878b8e9397999c9c9c9c9d9c9c9b9a999a9a9999979594928e8d8b898a8a8b8a8a8a8b8a8a8b8b8a898888888887868483817f807d7c7b7a7979767472716f6f6f717172716f6d6c6b6a6b6b6c6c6e6f707070706f6e6d6b6a676767666665656364646363636464646465666768696a6b6d6e6e6f6e6e6f6f7070717174757678797b7c7d7e7f8181858688898b8d9194979b9ea2a4a7a7aaabadaeafaeaeadacacaaaaa9a8a8a7a8a8aaacafb0b1b2b2b3b5b4b4b5b5b4b3b2b0aeaeadaeaeafb0b0b0b2b2b2b3b2b2b2b1b1b0aeadabaaa9a6a6a5a4a3a2a2a2a3a5a7a8a9a9a8a8a7a5a4a3a2a19e9d9c9b9896918f8c888582817f807f808080818384878a8e919497999a9b9a9a9b9b9b999a9999999a97969492908d8b8a89898a8a89898a8a8b8a8a8a8a8a8a89898988878684838280807e7d7b7a7a777574737171727273757473706f6f6e70706f7071707070706e6e6c6b6a6867666564646363626261616161616162626263656567686a6b6d6f6f6f707071727273757779797b7d7d7e808182828488898a8c8e9194979b9ea0a3a5a6a8a9aaadaeb0afafafaeadababa9a8a7a7a8aaabacafb1b2b3b4b4b6b6b7b6b5b4b3b2b1b0b0afb0b0b1b1b2b2b2b2b2b2b3b2b2b1b0b1afaeadaaa9a9a8a7a6a5a4a4a4a5a6a7a7a7a8a9a8aaa8a8a5a4a3a1a09f9d9a9895918e8b8986858484848484848586878a8d9093949798999a9b9a99999a99999a9a9997969593908d8b898889898a8a89898a8a8b8a8a8a8b8c8c8b8b8a8888888785838382807f7e7c7b7b7a777675757576777878777574747374747272727270706e6d6c6b6b6967666564636362615f5f606061605f5f606061616263646667696c6e7171727373747576787a7b7d7f81818283858586888c8d8e909295989c9fa0a1a3a4a5a7a8aaacafb0b0b0b0afaeadaba9a8a8a8a8aaacaeb0b2b4b5b6b7b7b7b7b7b6b5b5b3b3b2b2b2b2b3b3b4b4b3b3b2b2b2b2b2b2b2b1b0b0aeaeabaaa9a9a8a7a7a6a5a4a5a5a7a7a7a7a8a8a9aaa9a8a5a4a3a2a0a09d9c999593908d8b8a88888887878988888b8c909194959799999999999798989897979897969492908e8c8a89888a8a8a8b8a8a8a8a8b8a8a8b8c8d8e8f8d8d8c8c8a89888785848382817f7e7f7e7d7c7a7a7a7a7b7c7c7b79787777777675747371706f6e6c6a6a696766656462616161615f5f5f5f5f5e5e5d5d5e5f5f6062636465686b6e71747375757776787b7d7f80828485858788888a8b8f909294979a9d9ea0a2a3a3a5a6a6a8a9acaeb0b1b2b1b1b0aeabaaa9aaaaaaabacafb1b2b3b6b7b9bab9b8b7b6b6b5b5b5b5b4b5b6b6b6b6b5b4b4b4b3b3b3b2b2b1b1b0afaeadacabaaa9aaa8a8a7a6a5a5a5a5a5a5a6a6a7a8aaaba9a8a6a4a4a3a1a09e9c9a9794918f8e8d8b8b8b8b8b8c8d8f909294959697999999999897979796979796959391908d8b8a89898a898a8a8c8c8b8b8c8b8b8b8d8d8e8f8f8f8f8e8e8c8b8a8988878484838383828382818180808080807f7e7c7c7a79797977757372706f6d6b6968676665636261605f5f5e5d5c5d5c5c5d5d5b5c5c5d5d5e5f626364676a6d717375767879797b7d808284878889898a8c8d8e8e939597999c9fa0a0a2a3a3a4a4a6a6a8a9abaeb0b1b2b2b2b1afacabaaabaaaaabadafb1b2b5b7b8b9babab8b8b8b6b7b6b7b7b7b8b8b8b8b7b6b7b5b5b3b3b2b3b2b1b1b0afafadacabababa9a8a8a8a6a6a5a3a3a3a4a4a5a6a8a9abaaa9a8a7a6a5a3a0a09e9b99979593908f8e8e8e8f8f8f90919294969798989999999997969696959696959392908d8d8b8a8a8988898a8b8d8d8c8c8d8d8d8d8e8e8f8f8f909091908e8d8c8b8a8887878586868687878786868484858483827f7e7d7d7b7a78767473716f6d6a696866666562615f5e5e5c5c5b5b5a5b5b5b5b5a5b5b5b5b5d5d5f606264676b6f7276787a7a7c7d808385888a8b8c8e8f9091929298989a9da0a1a2a2a3a3a4a4a5a6a7a8aaabacaeb0b3b3b3b2afaeacababababadadafb2b3b6b7b9bababababab8b7b8b9babababbbbbababab9b7b6b5b4b4b4b3b3b2b1b1b0aeaeadacabaaaaa9a8a7a7a5a4a3a3a2a2a3a3a5a7a8a8aaaaa9a8a8a7a5a2a19e9e9b9896969492919191919191929395969898999a9a9a9a99989696959595959392908e8d8c8b8b8a8988888a8c8d8f8f8f8f8f8f8f8f8f908f8f8f909091908f8e8c8c8b8988898989898b8b8a8a8a8887878786848281807f7c7b79787774716f6c6a6867656463605f5e5c5b5a5a5a5a59595a5858585859595a5b5c5d5e606366696d7175787b7d7f808285888b8d8f8f9193939596969b9c9ea1a2a3a3a4a4a4a4a5a6a6a8a9aaabacaeb1b2b3b4b3b2afadacacacacadaeb0b3b4b6b7babbbbbcbbbbbbb9bababcbdbdbebdbdbcbbbab8b7b6b6b5b4b4b4b2b2b1afaeaeacacababaaaaa9a8a7a5a3a2a1a0a1a1a3a5a5a7a8a9a9aaaaa9a8a5a4a29f9c9b99989896959393939393949495969899999b9b9a9b9a9a989695959595939291908e8d8b8a8a8a89898a8b8c8f90919191919192919190909090909090908f8e8e8d8d8c8c8a8b8c8c8d8d8c8c8b8a8987888786858382807e7c7b797774726f6c6a6766646361605d5b5a59595959585958575757575757575859595b5d5f6164686c7174777b7e818487898b8e90919395969797989a9ea1a1a3a3a3a5a4a5a5a5a5a7a7a8a9aaabacaeb0b1b3b3b4b4b2afaeaeaeaeaeafb1b3b4b6b8bababcbcbcbcbcbbbdbdbfbfbfbfbfbfbdbbbbb9b8b7b7b6b5b4b4b3b2b0b0aeaeadacacabababaaa9a7a5a2a1a09f9fa0a1a3a4a6a8a9a9aaaaaaa8a6a4a2a09e9c9b98989697959595959595969798999a9b9c9a9a9a9b9a9997969594949392908f8d8c8a8a8b8a898a8a8b8d909192939494949494949392919191908f8f8f8f8e8d8c8c8d8c8d8e8e8e8f8f8d8d8b8a8989888788868382807e7b7a777573706d6a68666461605e5c5a595757575757575757565455565556565758585b5e6164676b6f73777a7e8185898d90919394969799999b9c9da0a1a2a3a3a4a5a5a6a6a5a6a7a8a9a9aaacacadafb0b2b3b4b3b3b1b1b0afb0b0b2b3b5b6b7b9babcbdbdbcbcbdbebec0c0c0c0c0bfbebebdbbbab8b8b6b6b5b5b4b3b2b1b0aeaeadacacacababaaa8a6a4a19f9e9d9d9f9fa1a2a4a6a7a8a8aaaba9a7a5a3a1a09d9b999897979796969797979898999a9a9b9b9998999a999998979596959492918f8e8b8b8b8b8b8a8c8a8b8d9093949696969797979796949493929190908f8f8f8e8e8d8c8c8d8e8f908e8e8d8d8c8a89898988888785827f7d7c7b787573716e6b696663615f5c5b58565655555655565554545353535354555556575a5d5f6366696e7276797c82868b8e9294969698999b9c9d9fa0a1a2a3a4a5a5a5a6a7a6a7a6a8a8aaaaabacadadafb1b2b2b4b4b3b2b2b2b2b2b3b4b5b7b8b8bbbbbebebebebebfc0c0c0c0c1c0c0c0c0bfbdbcbbbab9b8b7b6b5b5b4b3b1b0afaeadadacacacaaa8a7a4a39f9d9c9b9b9d9da0a2a4a5a6a7a8aaababa8a6a3a29f9f9c9b9a9998979797979899999b9b9c9b9a9a9998989999989897979796959492908e8c8c8c8c8c8b8b8a8a8d909395979899999a9a9a999896969492929091908f8f8e8d8d8d8f8e8f8e8f8e8d8c8c8b8a88898988878583807e7c7b787673726e6c696663615e5b5a5855535353545353535251505150515153545657595c5f61656a6d7174787d81878c90939698999a9a9b9d9ea0a1a0a1a3a4a4a4a6a6a7a7a7a8a8aaaaabacacacadafb0b1b3b3b3b4b4b4b4b4b4b6b8babbbbbdbdbebfc1c1c0c1c0c0c2c1c1c0c0bfc0c0bfbebdbcbbb9b8b7b6b5b5b4b3b2b0afaeaeadacadaaa9a7a5a3a19e9b99989a9a9c9ea1a1a3a5a7a8a9aaaba9a9a5a3a2a19f9d9d9b9a9a9899999a9b9b9c9c9c9b9b999898979797989797979797969493908f8d8e8d8d8c8b8b8a8b8d919498999a9b9b9d9c9d9b999898959594929191908f8e8d8d8e8e8d8e8e8e8d8d8c8c8b8a88888888878684817f7d7a797775726f6c696764615e5b59565453515251515050504f4f4e4e4e5051525455585b5e6265686d7175787d82878d92949899999a9b9c9e9ea0a0a1a1a3a4a5a6a6a7a7a8a8a8aaa9ababadadadadaeb0b0b2b3b3b4b5b5b5b6b6b8babbbdbfc0c0c1c2c3c4c4c4c2c3c2c1c1c0c1c0bfbfbebebdbcbbbab9b8b7b6b6b5b3b2b1b0afaeaeadaba9a7a6a4a29f9b99979597999b9c9fa0a3a4a6a8a8aaababaaa7a6a4a2a19f9e9e9d9c9b9a9a9c9c9b9c9c9d9c9b9898989697979797969796989796949491908f8e8c8c8c8b8a8b8d9295989b9c9d9e9f9f9e9d9a9a9897959393929291908e8e8d8d8d8c8d8d8d8d8d8c8b8b898888888888878482807e7c7a777572706d6a6763615e5b595653525150504e4e4d4d4d4e4e4e4e4f50515255585b5f6265696d72757a7e84898e929699999b9b9c9d9e9f9fa0a1a1a3a4a5a6a7a8a8a8a9a9a9aaacacadadadadaeafb1b3b4b5b5b6b7b8b8b8b9bcbec0c1c2c3c5c4c7c7c6c5c5c4c3c2c2c1c0c1bfbfbebfbebcbcbbbabab7b7b6b5b4b3b2b1b0aeaeadaaa8a6a4a2a09d9996949496979a9b9d9fa2a3a4a7a9a9abababaaa7a6a4a4a4a2a1a19f9d9d9d9d9e9e9e9d9e9d9b999796979596979797979799999796949392908e8d8b8c8b8b8c9093989a9d9e9e9fa1a19f9d9c999897949492929191918f8e8c8c8c8d8c8d8c8d8c8c8a8a888887878887868683817f7d7c797774716e6b6765615f5c5a565552504f4e4c4b4b4c4c4d4e4f4e4f4f505255585b5d62676a6f72777b81868a9093979a9a9b9c9d9e9e9e9fa0a0a2a3a4a6a6a8a8a8a9a9a9a9aaababacadadaeaeafb1b2b3b4b5b7b7b9bababbbdbec1c2c4c4c6c7c9c8c7c6c5c5c5c3c2c1c0c0c0bebfbebebdbcbbbbbab9b8b7b5b5b3b2b1b1b0b0acaaa8a5a3a19f9a969392949597999a9c9ea0a2a4a6a7aaabacacaba9a7a6a5a6a4a3a2a2a0a0a0a09f9ea09f9e9d9b9997969696969595969797989a9896959492908d8d8c8b8b8b8d9094999c9e9fa0a1a1a09f9d9b9a989694939191908f8f8e8c8b8c8b8b8b8b8b8c8b8a898787878687878686858582807e7d7a787774716d6a6663605d5a585553514f4d4b4a4a4c4d4f505150504f505254575a5d62666b7073797e83888d9295999b9b9b9c9e9e9e9e9e9fa0a2a3a4a5a6a7a8a8a8a7a8a9aaaaacadadaeaeaeafb0b2b3b4b6b8b8bababbbcbebfc1c2c4c5c7c9cbc9c8c8c6c5c5c4c3c2c1c0c0bfbebebebcbdbbbabab9b8b8b6b4b3b2b2b1b0afadaba8a5a3a09d99949292939496999a9b9e9fa2a3a5a7a9abacacada9a9a8a7a5a5a5a3a3a2a2a1a1a0a0a1a09f9e9b9997959595969695959697999999979694928f8d8c8d8c8b8b8f92979a9d9fa0a2a2a19f9e9d9a98979493929190908f8e8c8b8a898a8a898a8a8a898988868685858585868684848383817f7d7b797672706b6864615f5c595654514f4c4b4b4b4d4f52525251514f50515456595e63676c70767b81868b9095989b9d9d9d9d9d9e9d9d9e9ea0a1a3a4a5a7a7a8a8a7a7a8a7a9aaaaabacacacadafafb1b2b4b6b7b8bbbbbdbdbebfc0c3c4c6c7c9cacccbc9c7c8c7c6c4c4c3c2c1c0bfbfbebdbdbcbabab9b8b8b6b4b3b2b0b0b0afada9a8a5a2a09d98949191939497989a9c9d9fa1a2a5a6a9abababadabaaa9a8a8a7a7a6a4a4a4a3a3a1a2a4a29f9e9c9a97959395959595959798999998989694918f8e8e8d8c8c8d9094989b9ea1a2a2a1a09f9d9c999896949291908e8e8e8c8b8a888888888888888988888786858484838383848483828182817f7c797774716e6b6765615f5b5755524e4c4a4a4b4e50525352525151515153565a5f63686e73797f84898e93979a9e9e9e9e9d9d9c9c9c9d9fa0a1a3a4a6a6a6a7a6a6a6a6a6a6a8a8a8aaaaabacadafb0b1b3b5b7b9bbbbbbbcbec0c1c2c4c5c7c9cbcccdcccacacacac8c7c6c5c4c3c2c1c0bebebcbbbbb9b8b6b4b3b2b0b0b0b0b0aca9a7a5a2a09c9793909091939597999b9d9e9fa2a4a6a8a9acacacadacababa9a9a9a7a6a6a6a5a3a3a2a3a2a09f9d9a97949493949495969798989998979593908f8f8e8e8d8d8f9296999da0a3a3a2a1a09e9c9b9996959492908e8e8c8b8b8988888787878787878788888785838383828181818080807f7f7f7f7e7b7976736f6c6a6764615e5956524f4b4a4a4c4f51525152515252525253575b61676c72777c82868d91959b9ea0a1a09f9d9c9b9c9c9d9ea0a2a3a4a6a5a5a5a5a4a4a4a4a4a5a5a6a7a8a8aaabacaeb1b2b5b6b8b9b9bbbcbec0c1c3c5c7c8cacbcccfcfcfcecdcccbcac9c9c7c6c5c5c4c2c0bebdbbbab8b5b4b1b0b0b0b0b0b0adaaa7a4a29f9b9792909090929496989b9c9ea0a2a4a5a8aaabacacadafaeacabaaaba9a9a7a7a6a5a4a4a5a5a2a19d9b98959394939395969798989997969593918f8e8e8d8e8e9194979c9fa1a4a3a2a09f9d9b9a9896949392918f8e8c8a898887878686858585868687868585848281807f7f7f7e7e7e7d7c7d7d7d7d7a7774716e6c6966635f5b57524f4c494b4e4f52525252525253535355595f646a6f757b80868b8f93989da1a1a2a1a09e9c9c9b9b9d9ea1a2a3a4a5a4a4a4a4a3a4a3a2a2a2a3a3a4a5a5a8a9aaacadafb1b3b5b7b9babbbebfc2c4c6c9cbcccdcdcfd0d2d2d1d0cecdcccbcbcac9c8c7c6c4c1bfbebcb9b7b4b2b1b0b0b0b0b1afaba8a4a19e9b9693908f90919395989b9d9e9fa2a3a5a8aaabadacaeb0b0aeacacababaaa9a8a7a7a6a5a6a5a4a29e9c9895949594939495969897989796949291908e8e8e8d8f92959a9da0a2a4a2a2a09f9d9b9997969494939291908d8c8a88878686858584848483848483828381807f7d7c7c7c7b7b7b7a7a7a7c7d7b797573706d6b6864605c5954514d4c4c4e51535252535455545456595d62686d737a7f84898d91979ba0a1a3a3a19e9d9c9c9b9c9e9fa2a3a4a3a3a4a3a3a2a2a2a1a1a0a0a1a2a2a2a3a4a6a7a9abadaeb1b2b5b6b8babdc0c2c4c7c9cbcccecfd0d1d3d4d3d2d1cfcfcfcdcdcccbcacac6c4c2c0bebcbab7b4b2b1b1b2b2b2afaca8a5a29e9b9693908f8f909295989a9c9da0a1a4a5a7aaabadaeaeaeafafafaeadacabaaa8a8a8a8a8a8a7a6a3a09e9a979595949495969697979797959392918f8d8d8c8e9093979b9fa1a3a3a2a2a09e9d9b9a98979695949492918f8d8a898887868684838282828281818180817e7c7b7b7a7a7a787979797a7c7c7c7a7875726f6c6965615d5a5753504e4e50515354545555555556595d61666c72777d83888c9095999ea1a2a3a3a09e9d9c9b9c9d9d9fa2a2a3a4a3a3a3a2a2a1a09e9e9e9f9fa09fa0a0a1a3a4a5a8aaacaeb0b2b4b7babcbfc1c3c7c9cccdcecfd0d0d3d4d7d6d5d3d2d2d1d0cfcecccbcac8c5c3c1bfbcb9b6b4b3b2b2b2b3b0aca8a6a39f9b9794918f90909294989a9c9ea0a2a3a6a7a9a9acadadafaeb0b0afafaeadadacacabababaaa8a7a6a29f9c999695959495969696979795959392908f8e8d8d8f9294989da1a2a4a3a2a1a09f9e9b999898989695959391908f8d8a88878685858382818080807e7e7d7c7c79787878787877777878797a7b7b7c797774716e6a6764605e5956545251525353555657565757585c61666b70777c82878c8f92979b9fa1a5a4a2a09e9b9c9c9c9e9fa0a2a3a2a2a1a1a1a1a09e9d9c9b9b9c9c9c9d9c9d9e9fa1a3a5a7a9acadb0b3b5b8bbbec0c4c6c8cbcdcecfd0d2d3d5d6d7d7d7d5d5d3d2d2d0d0cecccbc8c7c4c2c0bcbab8b5b4b4b3b3afaba8a5a29f9b9895929191929396989b9c9da0a3a4a5a7a8a9abacadadadaeafb0b0b0afaeaeadacadacabaaa8a7a5a19c999896949494959696969696959291908e8d8e8d9093969b9ea1a4a5a4a2a2a09f9e9c9c9a9998989695949391908e8c898786868583817f7e7d7c7c7c7a7a79777777767776767576767778787a7a7a7875726f6c6a6663605d5a58555454545557585858595a5c61666b71767b81868a8f93969a9ea1a3a4a3a09e9d9d9d9d9d9e9fa1a1a1a1a1a0a09f9d9d9b9a99989898999a9a999b9b9c9ea0a2a4a6a9acaeb2b4b7babdc0c2c5c7cacdcecfd1d2d4d5d7d8dad9d8d7d7d5d5d3d2d0d0cecccac7c5c3c0bebbb8b6b6b4b2afaba8a6a19f9d9a97959393949597999a9c9ea1a3a5a6a8a9a9a9abacadaeaeafb1b0b1b0b0afaeadaeaeacabaaa7a5a39e9b99979695949695969696949392908f8e8d8d8f9295999da0a4a5a6a5a4a3a1a09f9e9d9c9b9a989796949392908e8c8a8886858482807e7d7c7b7a7a78777676757575757474747373757575777779797874716e6c696663615f5c59595756585a5b5a5b5d5e61656a71767a8084898d9296999da1a2a3a3a2a09f9e9d9e9e9ea0a1a2a2a1a0a09f9e9d9b99989796969595969797979899999c9c9ea1a3a7aaadb0b3b6b9bcbec1c4c6c9cccecfd1d2d4d5d7d8d9dadad9d9d8d8d6d6d3d2d0cfcccbc8c6c3c1bfbcbab6b4b0aeaaa7a4a19f9e9c9b99979596989a9b9b9c9ea1a3a5a7a8a9a9aaaaacadaeaeafb0b0b0b0b0b0afafafafaeacaaa8a6a29f9c9a989896969796969594939290908e8d8d8e9094979b9fa2a4a6a7a5a4a4a2a1a09e9d9d9b9a999795949292908e8c8a87868483817e7c7b7a7979777775747474737373727271717272727375777778797573716f6c69686663615e5c5c5c5d5e5f60616264666b6f757a8083888c9193989ca0a3a4a4a2a0a09f9e9e9f9fa0a0a1a2a2a1a09f9d9b9997969595949393939494949595969798999b9fa1a5a8abafb2b5b8bbbebfc3c5c8cbcecfd1d3d4d6d7d9d8d9dadbdbdadad8d7d6d4d2d1cecccbc9c5c4c0bdbab7b4b1aeaba7a4a2a09f9f9d9b9a9a9a9b9d9d9c9d9ea0a4a5a7a9aaaaa9aaabadaeaeafb1b1b0afafb0b1b1b0b0aeadaba9a7a4a09e9c9a9899989897969694939291908f8d8d909296999da0a4a6a7a6a5a4a3a2a1a09f9e9c9b9a9897959492908f8d8b88868583827f7e7c7b7a7978787675747372727171706f6f6e6f6f7073747676797976757372706d6b696764636261626264666667686a6b6f747a7f83868a8e93979a9fa2a5a5a3a2a0a09fa09f9fa0a1a1a1a1a1a19f9e9c9a9795949493929291919191929292939495969a9c9fa2a6a9aeb1b5b7babcc0c3c5c8cacdd0d2d3d5d7d8d9dadadadbdcdedcdbd9d7d6d4d2d0cecccac8c5c2bfbbb8b4b1aeaba8a5a2a1a1a09f9f9e9e9f9e9e9e9d9d9e9fa3a5a7a9a9a9a9a9abacacaeafb0b0b0afb0b1b1b2b1afafaeabaaa8a5a29f9e9c9b999a9a989797949391918f8f8f8f9094989ca0a2a4a6a6a6a5a4a3a1a1a09e9e9b9a9897959493918f8d8b8988868482807e7c7b7b7b7a79787775747372716f6e6e6c6c6d6d6e6f717274767877797876747371706c6b696868676768696c6c6e6e6e7073777d8185888d91959a9da1a5a5a5a3a1a1a09fa0a0a1a1a2a2a2a2a2a09e9c9a989594939291908f8e8e8e8e8f8e8e8f919395989b9ea1a5a8acb0b4b7babdbfc2c5c8cbced0d3d4d6d8d8d9dadbdbdcdddfdfdddbd9d7d4d3d1cfcdcbc9c6c4c1bdb9b5b2b0adaaa6a4a3a2a3a2a2a1a1a2a1a0a09f9e9ea0a3a5a6a7a8a9a8a9abacacaeb0b1b1b0b0b0b1b2b2b1b1afaeaba9a8a6a3a1a09f9d9c9c9a999797959492908f8e8e9193969a9ea1a3a5a6a6a6a5a3a2a1a09f9e9c9b9a9896959392908f8d8a89868483827f7e7d7c7a7a7a7a7978767473726f6d6d6c6c6a6b6c6d6f7072737575767778787877757371706f6e6e6d6e6e6f707171717273767a7e83878b8f93979b9fa3a5a6a5a2a1a0a0a1a1a2a2a2a2a3a3a3a19f9d9a9895949391908f8e8e8c8b8b8b8c8b8c8c8e9194979a9da1a4a8acafb4b7babdc0c3c6c9cbced0d2d5d5d8d9dbdcdddddddedfe0dedddad9d6d4d2d1cecdcbc8c5c2bebbb7b6b3b0aca9a7a5a5a4a3a3a3a3a3a3a2a19f9e9ea0a2a4a6a7a8a9a9aaaaabacaeafb0b0b0b0b1b1b2b2b1b1b1afacaba9a6a5a3a2a09f9d9d9c999897969492918f8f909296999ca0a1a2a3a4a5a5a5a2a1a09e9e9c9b999896959392918e8d8b898886848281807f7e7c7b7b7a7a7a79767572716e6d6d6c6b6a696a6c6e6f71727374747576787a7977767575757474747373737475757475777a7e81868a8e91969a9ea1a3a7a6a4a4a2a1a1a1a2a2a3a3a4a4a3a39f9e9c9897949293918f8e8d8c8a8988888888898a8b8d9294999ea0a4a9acb0b4b7babdc1c4c6c9cccdd0d2d5d6d8dadbdbdddddddededfe0dedcdad7d5d4d2d0cfccc9c7c4c0bdbab8b5b3b0aca9a7a8a6a6a5a5a4a4a3a2a0a09f9fa1a3a4a6a7a9a9aaaaabacadafafb0b0b1b1b2b2b2b3b2b1b0afacaca9a7a5a4a4a1a09f9d9b9a99989794929191929295989c9fa1a2a3a4a4a4a3a3a2a09f9d9d9b9a9896959491908e8c8b88888685838281807f7e7d7c7b7a7a79777573716e6e6b6b6c6a69696a6b6c6e6f707170727375787a7c7b7a797a7a7a7b7a79787777777879797b7e8185898d9094989c9fa3a5a8a7a5a4a3a1a1a2a2a2a3a4a4a4a3a29f9d9b9895949392908e8c8a898886868685848687898c9194989ba0a4a9adb1b5b9bcbfc2c5c7caccced1d3d5d7d9dadcdcdcdddddedfe0e1dedddad8d6d4d3d2d0cdcbc8c4c2bfbdbab8b5b1afaba8a9a7a7a7a6a6a5a4a2a2a1a0a1a2a3a5a6a9a9aaaaaaabacaeaeafb0b0b1b3b2b3b2b1b2b1b0aeadaaa9a8a7a5a4a2a09e9e9b99999896949393929394989b9ea0a1a3a2a3a3a2a2a1a09f9d9d9b999897969493918e8d8b8987868584838281817f7e7d7c7a797977767472706e6e6d6c6b6a6969696a6a6b6c6d6e6f707273777a7b7d7f7f7e7f7f807f7d7d7c7c7b7c7d7d7f8285898d9093979a9ea1a5a7a9a9a8a5a3a3a3a2a3a3a3a4a4a3a2a09f9e9a97969593908e8d8a88878584838383838486878c9093969b9fa4a8adb2b6b9bdc1c3c6c8cbcecfd2d5d8d8dadbdcdcdcdddddfdfe0e2e0dedcd9d7d6d5d4d2cfccc8c6c3c1bfbdbbb7b3b0adabaaa9a9a8a6a6a6a4a4a3a2a2a2a3a4a5a7a8a9a9aaababacadafafb0b0b1b2b3b3b3b2b1b1b1aeacaba8a7a6a6a5a2a09f9f9b9a9997979593949597999b9ea0a1a2a1a1a1a2a1a0a09e9e9d9b9a989796949492908e8c8a89878684848281807f7f7d7c79787676757371706f6e6d6c6b6b69676767676767696a6c6d6f717477797b7e8081838383838382807f7f7f8080828385898d909497999da0a3a6a9aaa9a7a5a5a4a3a3a4a4a4a5a4a3a19f9e9c99979695938f8d8a8886858483828181828285888c8f93979b9fa4a8adb1b6babec1c4c7c9ccced2d3d6d8d9dcdcdcdddddededfe0e1e1e1dfdedbdad8d6d5d2d0cdcac7c5c3c0bfbcb8b5b0adaaabaaaaa9a8a7a6a5a5a4a3a4a4a6a6a7a8aaa9a9aaaaabadaeafb0b1b1b2b3b3b3b3b3b3b1b0aeaca9a8a7a6a6a4a2a1a09d9b9998979695949697999c9e9f9fa0a0a0a0a09f9e9e9d9e9d9c9a999796959492918f8e8c8a888885858383817f7e7d7c7a7877747271706f6d6c6b6c6b6a696765646565656567696a6d6f7174767a7c7e81838587888887858585858585868686898d8f9396999c9fa3a5a8abaca9a8a7a6a5a5a4a4a4a5a3a3a2a19f9e9b9a989794918e8b898685848382828181818384888b8e93979ba1a5a9adb2b6bbbec1c4c7caced1d3d5d7d9dadbdcdddddededfe0e1e2e2e2e1dfdedbdad7d7d4d1cecbc9c6c5c2c0bdb9b6b1aeacacababaaaaa9a7a6a6a5a6a6a7a7a8aaaaaaaaababaaacadafafb1b2b3b3b4b4b5b4b4b3b1b0aeacaaa8a7a6a6a4a3a1a09e9b99989897969697999c9e9f9f9f9f9f9f9f9f9d9d9b9c9b9a9b9a989796939391908f8d8b8a898786848281807f7d7b7978767472706f6d6b6a6a6a6968676663636362626465676a6c6e707275777a7c7e828487898a8b8b8a8a898a8a8b8a8a8a8c8f92969a9c9ea1a4a8abadacaba9a8a7a7a7a6a6a5a5a4a3a2a19f9d9c9a999693908d8a878684838483828181818385888c9094999ea2a7aaafb3b7babfc3c5c8cbced1d4d6d9d9dbdbdbdddedfdfdfe0e2e3e4e4e3e1dfdedcdad7d5d2d0cdcbc8c5c3c1bfbab5b2afadacacacadababaaa9a8a8a9a9aaaaababacacababacacadafb0b1b2b3b4b5b5b5b5b4b4b3b2b0aeacaba8a8a6a6a5a3a2a09f9c9b99989798999a9c9d9f9e9f9e9e9d9d9d9c9b9a99999998999a999695949290908d8b8a898886858382807f7d7c7a77767472706e6d6a686766666565636261606161636466696b6e6f717476787b7d808387888a8c8f8e8e8f8f9090908f8e8d9093969a9c9fa2a4a7a9acadadacaaa9a8a7a8a8a8a7a6a5a4a2a2a09e9b9a989693908d8a8887868685858383828384868a8c91969aa0a4a9adb1b5b9bcbfc2c5c8cbced1d3d6d8dadadbdcdddddfdfe0e1e2e3e5e5e5e3e1dfdddbd8d5d3d1cfccc9c6c5c3bfbbb6b4b0afaeaeaeaeadadacabaaaaaaababaaababadadacadadaeaeafafb1b2b3b4b5b5b5b5b5b4b3b1afadacaba9a7a7a7a6a4a3a19e9c9b9a99999a9b9d9e9e9e9d9d9d9c9b9b9a99989797969696979797979593918f8d8d8b898887858484827f7d7c7a777674716f6c6b69676564626262626160606162636566686c6e70727475787a7d7f8285888a8c8d909192939394939492929294969a9c9fa1a3a6a8aaacaeadacaaaaa9a8a9a9a9a8a7a5a4a3a1a09e9c9a999693918d8a8988888787868685858687888b8e92979ca0a5aaaeb2b6babdc0c3c6c9ccced1d3d6d8d9dadadcdddedfe0e1e2e2e3e5e6e6e5e2dfdddad8d6d4d1d0cdcbc8c6c4c2bdb9b5b2b0b0b0afaeaeacacacababaaa9a9a9ababacacacacadadadaeafb0b3b3b4b5b6b6b6b6b5b4b1afadacaaa9a8a8a7a6a4a2a19f9e9d9c9c9c9d9d9e9f9e9d9d9b9b999a989796959494939394949596969392918f8d8b8a898786858583817f7c7a787673706e6c69686665646260616060606162636566686a6c6f7173747577797c7e8284878a8b8d8f9093949697989796969697989a9c9ea1a3a5a8a9abadafaeadabaaa9aaa9a9a9a8a8a6a4a3a29f9e9d9a989694908f8c8b8a898a898888878788888b8e9095999da1a6abafb4b7bbbdc1c3c7c9cbcdd1d3d5d6d8d8dadbdddfe0e1e2e2e4e5e6e8e8e5e2dfdddbdad7d5d2d0cfcccac7c6c3bfbbb7b5b3b1b1aeaeadadababaaa9a9a9a8aaaaaaabababacacadacadafb1b3b4b5b6b7b7b7b7b5b5b2afadabaaa9a8a7a7a6a4a3a1a09f9d9c9d9e9e9e9f9f9e9d9c9a9998979595939291919291909193939393908f8e8c8a898786858482817f7c7a777472706d6b696766646461605f60606162636566686a6c6d707274757677787b7d808386898a8c8e8f91939597999a9a9a999a9a9c9c9fa1a3a4a6a8a9acaeafaeaeacabaaaaa9a9a9a8a8a6a5a3a2a09e9d9a99989492908e8d8c8b8b8a8a8a8a898a8c8e9094989c9fa3a8acb0b4b8bcbfc2c5c8caccced0d2d4d6d8dadbdcdddfe0e2e2e3e5e6e7e8e7e5e2e0dddbdad7d6d4d2d1cdcccac7c5c0bdbab8b5b2b0aeaeacababaaa9a9a8a9a9aaabaaabababababadaeafafb2b3b4b5b6b8b7b8b7b6b4b3b0aeacaaa9a8a7a7a6a4a3a2a19f9e9e9f9f9f9f9f9e9d9c9a99989695949290908f908f8d8d8e8f8f9091908e8c8a8987868483817f7d7c79767472706e6b696765636362616060616264646667696c6e6f707375777778797b7d7f828587898b8d8f91929495989a9b9c9c9c9e9f9fa0a1a2a5a6a7a8aaadafafafaeaeadababaaa9aaa9a8a7a5a3a3a09e9c9b9a98969392918f8e8d8c8c8b8b8c8c8d8e919296999ea0a4a8adb1b5babec1c4c7c9cacccfd0d2d4d6d7d9dbdcdee0e1e2e3e5e6e6e8e9e6e5e2e0dedddbd8d6d4d3d2d0ceccc9c6c3bfbdb9b6b4b1afaeadacaaaaa9a9a9a9aaabababaaabaaabacaeadb0b1b2b3b4b4b5b6b7b8b7b7b5b3b1afacaaa9a8a7a7a6a4a3a3a1a1a1a1a19f9f9e9e9e9c9a9997959492918f8e8d8c8c8c8a8a8a8b8c8c8d8e8d8c8a88858482807e7d7a78767371716e6d6a68676664646463626265656667696a6c6e71727475777879797a7c7e818285888a8c8f9091949596989a9c9da09fa2a3a2a4a4a5a6a8a9aaabadaeafafafaeacabababaaaaa9a8a7a5a5a2a19f9c9b9a999996959291908e8e8e8d8c8d8e8f919395999c9ea2a5aaaeb2b6bbbfc2c4c8cacbccced1d3d5d6d8d9dbdddfe0e2e3e3e5e6e7e8e9e7e4e2e0dedddbdad8d6d5d3d2d0cecbc8c5c2bebab6b4b1afafadacabaaa9a9a9aaaaacadacacabacacadaeafb1b2b3b5b4b4b4b5b6b6b5b5b4b4b2afadabaaa9a7a7a6a5a5a3a2a2a1a1a2a09d9c9b9a999895949391908e8d8c8a8a898887868686888888898988878683817f7d7b7978757372706e6e6c6b6a69686868686766676768696a6b6c6f707274767778797a7a7b7d7f828486898c8e8f9192949697999b9d9fa1a3a4a5a6a7a7a8a9aaaaabacadafafb0afaeadacacabababa9a9a8a6a5a2a09f9d9e9c9c9b999795939291919090909090919396989a9ea0a3a6aab0b4b7bcbec2c5c8cacccecfd1d4d5d6d9dbdbdddfe1e3e3e4e6e7e8e9e8e7e5e3e1dfdedcdbd9d8d6d4d2d1cfccc9c6c3bfbbb7b4b2b1afaeaeacaca9aaaaacadadadadacacacaeafafb0b2b2b4b5b4b3b3b3b4b4b4b4b4b3b2b0adabaaa9a8a8a7a6a5a4a3a3a2a2a09f9d9a9998959593918f8e8c8b898987868684828182838383838383838483817f7c7978767472706f6f6e6d6c6c6b6c6c6c6c6c6c6c6b6b6c6c6d6e6f717274757778787a7a7b7c7d80828486898c8f9092939596989a9c9ea1a3a5a6a7a8a9aaabacacacadadaeafafafafaeadacacababaaaaa9a7a6a5a2a0a09e9f9f9f9d9c9a989694949393939293939596999a9d9fa2a5a9acb0b5b9bdbfc2c5c7caccced0d1d4d5d7d8dbdbdddfe1e2e5e6e6e8e9ebe9e7e6e3e2e0dededcdbd9d7d7d5d3d1cecbc8c4c0bcb9b5b4b2b0afafadacabaaabacaeaeaeaeaeaeadafb0b1b1b2b3b5b5b4b3b2b2b2b2b2b2b3b2b3b1afadabaaaaa9a8a7a6a5a3a3a2a2a09e9c9a97949391908e8c8b898786858382817f7e7d7d7d7d7e7e7e7e7f81807d7b7977757372706f6d6e6d6d6e6e6e6e6f707170706f6e6f6e6e6f71717474757778797a7b7b7c7e7e808384888a8d8f91939495979a9b9ea1a4a5a6a7a9aaababacadadaeafafafb0b0afaeaeaeadacacababaaa8a7a5a4a3a0a1a0a0a0a0a09e9d9a9a9897969695959697989a9b9d9fa2a4a7aaaeb1b6babebfc2c5c7cacccecfd1d4d6d7d9dbdcdde0e2e4e5e6e7e8e9ebe9e8e7e4e3e2e0dfdddcdbd9d9d6d5d2d0ccc8c5c2bebab7b5b3b2b0afaeadacabacadaeafafafafafafb1b1b2b3b3b4b6b5b4b3b2b1b1b1b0b2b2b1b1b1b0aeacabaaaaa9a8a6a5a4a3a3a2a09d99979392908c8b8a888786848382807e7d7b7a787878787979797a7b7c7b7a797675737270706e6e6e6e6e6f70707071737373737372717071727375767678797a7b7c7c7d7d7f80818486888a8d8f91939597989b9da0a2a5a7a8a8aaababadaeaeafb0b1b1b1b0afaeaeaeaeaeacacabaaa9a8a6a5a4a3a2a2a1a1a1a1a1a19f9e9c9a9a9998989897999a9c9da0a2a5a6a9acb0b4b6babdc0c2c5c6c9ccced0d2d5d7d9dadbdcdee1e4e5e6e7e9e9eaeaeae8e7e5e4e2e1e0dfdddcdbdad8d6d3d1cdc9c7c3c0bdbab7b5b3b1b0aeaeaeadadaeafafafb0b0b0b2b2b3b3b4b4b5b6b6b4b4b2b0afb0b0b0b0b1b0b0b0afaeadacacabaaa7a6a5a4a2a09f9c9893918e8c8a888684838281807d7c7a797774747372737373747576777876757473737171706f6e6e6f70717172737374747575737373737474767778797a7b7b7c7d7e7e7f8081838587898b8e90939495989b9d9ea2a5a7a8a9aaababacaeaeb0b1b1b2b1b0afaeaeadadadadacaaaaa9a9a7a6a4a3a4a3a3a3a3a3a2a3a2a1a19f9e9d9c9c9b9b9b9b9d9ea1a2a4a7a9abafb2b4b7bbbcbfc2c3c6c9ccced0d2d4d7d9dadbdddee1e4e6e7e7e8e9e9eae9e9e7e6e4e3e2e1e0dededddbd8d7d4d1cecac8c5c2bfbbb9b5b5b3b1b0afaeadadaeafb0b0b1b1b2b3b2b4b4b4b5b6b6b6b4b1b0afafafaeafafb0afafaeafaeaeaeaeacaaa8a6a5a3a09f9d9a96918e8b8887838281807e7d7c7b7a777573716e6d6d6d6d6e6f707172747574737371717070706f707072737374747375757676757575757777777a7b7c7b7c7d7e7e80818283848587898b8d8f92949698999b9da0a3a6a8aaabaaabacacaeafb0b1b2b2b0aeaeacacacadacacabaaa9a8a8a7a6a5a5a4a3a5a6a5a4a4a5a4a4a3a2a0a09f9e9d9d9d9d9fa0a2a4a7a9abafb2b1b5b8babdbfc1c3c6cacccdd0d3d6d7d9dadcdde0e1e4e6e7e8e8e9e9eaeae9e9e7e6e4e3e2e1e0dfdddbd9d6d5d2ceccc9c6c2c0bebab8b5b4b2b1b1b0afafafb0b0b2b2b3b4b4b4b4b5b5b6b7b7b6b3b1afafaeaeadaeaeaeadadadadadafaeafadaaa8a5a2a09f9d9a97938e8b8885827f7e7c7b7a7a7a787674726f6d6b696969696a6a6b6d6e70737473727170717171707272737474757576767677777777777878797a7b7d7e7e7e808081838484858788898b8d8f919496989a9b9d9fa1a4a6a8aba9ababacadaeafb0b1b1b0afaeadacababaaaaaba9a9a9a9a9a8a7a7a6a5a5a7a6a7a7a6a6a7a6a6a5a3a2a1a09fa09fa0a1a3a5a6a9abaeb0b2b5b7b9bbbdbfc1c3c6c9cbcdd0d2d5d7d9dbdddedfe2e3e5e6e8e8e8e9e8e8e9e8e8e6e4e4e3e1e0e0dedcdad7d6d3d0cdcac7c4c1bfbcb9b7b6b5b3b2b2b2b1b1b1b2b2b3b4b4b4b6b6b6b7b6b7b8b7b4b1afaeadadacacacadadacadacacadaeaeacaaa7a4a19e9c999794908d8884817f7c7b797977767675726f6d6b696765656565646666686a6d6f7171706f706f6f70717172737475757676777777777879797a7b797c7e7f80808182838586878788898a8c8e90929498999a9c9e9ea1a2a5a7a8aaabacacadaeaeafb0b1b1b0aeadadabababaaa9aaa9aaaaa9a9a8a8a7a7a6a6a8a8a9a9a9a9a9a8a8a7a6a4a5a3a3a2a2a2a3a4a7a8abaeb1b2b4b6b8b9bcbebfc1c4c6c9cbcdd1d2d5d7dadbdddee1e2e3e5e6e6e7e7e7e8e8e9e8e6e6e3e3e2e0e0dfdedcdad8d5d3d0cdcac8c5c2c0bdbbb8b7b7b6b4b4b4b3b2b3b3b3b3b5b5b6b7b7b7b7b7b7b8b6b4b0afadadacababaaabacacacacacadadaeaca9a6a39f9c9a9794918e8a86817f7d79777574737171706d6a67656563626161616062626466686a6c6e6e6d6e6e6f70707272737475767677787878797a7b7b7b7b7d7e7f81828283858687898a8b8b8b8d8d90919496999b9c9fa0a1a2a4a5a8a8a9abacadadaeafafb0b1b1b0afaeaeacabaaaaa9a9aaa9aaa9a9aaa9a9a9a8a8a9aaaaaaabacabaaaaa9a7a7a6a6a6a5a5a5a5a6a8abacb0b2b4b6b7b9bbbcbdbfc1c5c6c9cbced1d3d5d7dadcdde0e1e2e4e5e5e7e7e6e7e7e8e7e6e6e4e2e1e0e0dfdededddad9d7d3d1cfcbc9c6c3c1bebcbbbab9b9b7b6b6b6b5b4b3b4b4b5b7b8b8b8b8b7b8b7b7b5b2b0aeadacaaaaa9aaabacacacacacadadacaaa8a4a19d9a9794928e8b87837f7c7976737272706d6b6867656361605f5e5d5d5c5d5d5f60626567696c6d6c6d6c6d6e707172727374767778797a7b7b7c7d7d7e7d7e7f81818384858688898a8c8c8d8e8f90919395979a9c9f9fa1a3a4a5a6a8a9aaabadaeaeafb0b0b1b2b3b1b0afaeadacabaaaaa9aaa9aaaaaaaaabaaa9aaaaacacacacacadacababaaaaa9a9a8a8a8a7a8a8a8aaacafb1b4b5b7b8b9bbbdbec1c2c5c6c9ccced0d2d5d7d9dbdedee0e1e3e4e4e5e6e6e6e8e7e6e5e4e3e1e0e0dfdedddcdcdbd9d7d4d1cfcccac7c5c2c0bdbcbcbbbababab8b6b5b5b5b5b7b8b8b9b8b8b9b8b8b8b7b5b2b0afadabaaaaa9a9ababacabacacadacaba9a7a4a09c9895918e8b8885807d797672706d6b6a686663615f5f5d5c5b5a5a5959595a5c5d6062636668696b6a6b6c6c6e6f70717373757778797b7c7d7e7e7e7e7f7f80818284858588898b8d8d8f90909192949597999c9ea1a2a3a5a5a6a6a8aaaaabadadafb0b0b0b1b2b2b1b1afafaeaeabababaaabaaabababacacacacacabaeadadadaeaeaeadadababacabaaaaaaaaaaa9abacaeb0b3b5b7b8b9babcbdbfc1c4c5c7caccced1d3d5d7d9dbdcdee0e1e2e2e3e4e4e6e7e7e6e4e4e3e2e0dfdfdddddddcdbdbd9d6d5d3d0cdcbc9c6c4c2c0bfbdbdbcbcbbb9b8b7b7b8b8bab9bababab9b9b9b9b9b7b5b2b0afadabaaa9a9a9aaaaababacacaeacabaaa6a39f9b96938e8b8885827d7975716d6b686765635f5e5b5a5a5a5958575756565757595b5c5d5f61646566686b6a6c6d6e6f7071737576797a7b7c7e7f7f7f808181818283858687898b8d8f9091929393949597999b9c9fa1a2a3a5a6a6a7a9aaabacadadaeafb1b1b2b3b2b2b1b0b0afaeadacacababababacadadaeaeaeadaeafaeaeafafaeafaeafaeadadacacabadacadacaeaeb0b2b4b6b8b9babbbdbec1c2c4c6c8cacdcfd1d3d5d7d9dbdddedfe1e2e2e3e4e4e5e6e5e4e3e2e2e0dfdededcdcdcdbdbdad8d7d6d3d0cecdcac7c5c4c2c2c1bfbebdbcbbbababababbbbbcbbbbbbbab9bab9b9b6b4b2b0afadaba9a9aaa9aaaaabacadadadadaaa8a5a29e9a96918d8985827e7b76716d6a676462605d5c5a5857575656555554535354545556585a5c5d5e606264686a6b6b6c6e6f7172747677797a7c7d7f7f808081828283848588888a8d8f9191929494959697999a9b9da0a1a3a4a5a6a7a8a9ababacacaeaeafb0b2b2b3b2b2b2b0b1b0afaeaeadacacacacaeaeafafafafb0afafafafafb0b0b0b0afafafafafaeaeaeaeaeafb0b0b2b3b5b7b8babbbdbebfc1c3c4c6c9cbcccfd1d3d5d8dadcdcdedee0e0e2e3e4e4e5e4e3e2e2e1e0dedededcdcdadadadad9d8d7d6d3d1d1cecbc9c7c6c5c4c3c2c0bfbebdbdbcbcbdbdbdbdbdbcbbbab9babab9b6b3b1b1afacacaba9aaaaaaaaabacaeaeaeaba8a5a2a09c9994908c8883807b76726c696662605d5c5a5756545454535352515151515150515253555758595b5d6064676a6b6c6d6f7172747577797a7c7d7f7f7f80828284848687898a8b8e8f91929494959697999a9b9c9e9fa0a2a3a4a5a7a8aaababadacadaeafb0b1b2b3b2b2b2b1b0b0afafaeadaeaeadaeafafb0b0b0b0afafafaeb0b0b0b1b1b1b1b2b1b1b0afb0b1b1b0b1b2b3b3b6b7b9babbbdbebfc0c1c3c4c6c9cbcdcfd1d3d5d7d9dbdcdddedfe1e2e2e4e4e3e3e2e1e0dfdedddcdcdbdbdbd9d9d8d8d7d6d5d4d3d1cecdcac9c8c7c6c5c4c2c0bfbebebebebfbfbfbebebcbcbabababab9b6b4b1b0afadabaaa9a9aaaaaaaaacadadadaaa7a4a19d9a98938e8a86817d78726e6966615e5c5a585653525151504f4f4d4d4c4d4b4c4b4d4d4e4f51525456595b5f6466696a6c6f717273747677797c7d7e7f7f81828384868788898c8c8f9092939495969797999b9b9c9e9fa0a1a2a4a5a7a9aaaaabacadadaeafafb0b1b2b3b3b2b1b0b0afafafaeaeaeaeaeaeafb0b0afafaeaeaeaeafb0b1b1b2b2b3b2b3b3b2b1b1b2b2b2b3b4b4b6b7b9babbbcbebfbfc1c1c3c5c6c8cacdced2d3d5d7d9dadbdddddedfe1e2e3e3e2e2e1dfdedddcdbdbdad8d8d9d8d7d7d6d5d5d4d4d4d1cfcecbcac9c8c7c6c5c3c2c1c0c0c0c1c0c0bfbebebcbcbbbcbcbbb8b4b3b1b0afadababaaaaa9aaaaaaabacadaba9a6a29f9c9996928d88837f7a75706a66625e5b59565452504e4d4d4d4b494948474747464647484a4b4c4d4f5254575c5f63686b6c6d707172737576787a7b7d7e7f7f8183848687898a8c8d8e9092949495969798999b9b9d9e9f9fa1a2a3a5a6a8a9aaababacadadafafafb1b1b2b3b2b3b2b0b0b0afafafaeafafafaeafaeaeaeaeaeadadafb0b0b2b2b3b3b4b4b5b4b3b3b4b5b5b5b6b7b8b8babbbcbdbebfc0c1c1c1c3c6c8caccced1d3d5d6d8dadadbdddedfe0e1e2e1e1dfdfdedddbdadad9d7d7d6d7d6d5d5d4d4d4d3d2d2d1d0cecdcccbcac9c8c6c4c3c2c2c2c2c2c2c1c1bfbfbfbdbcbcbcbbb8b5b3b1b0aeaeacacaaaaaaaaaaababacabaaa8a5a29e9a9793908c87817d77726d67625e5b595653504d4c4b4a48474544434242414141414242444647484a4d5054585b6064696b6d6f707172747678797a7b7e7f808283858688898b8c8e8f91929495969797999a9a9c9d9f9f9fa1a2a4a4a5a7a8aaaaacacacadaeafafb0b1b2b2b2b3b3b2b1b0b0afafb0b0afaeafaeadacacacadacadaeafb1b2b3b3b4b5b5b6b6b6b5b6b6b7b8b8b8b9b9babbbcbdbdbfbfbfc0c1c3c4c6c9cbcdd0d2d4d6d7d9dadcdddedfe1e0e1e0dfdedddcdbd9d9d7d7d6d5d5d4d4d3d3d2d2d2d2d1d1cfcfcfcfcecdcbcbc9c7c6c4c4c4c4c4c3c4c3c2c0c0bfbdbcbdbdbbb8b5b3b1b0afadacabaaaaa9aaaaaaabababaaa8a4a19d9995928f8b857f7a756f6a645f5b5855514e4c4947464543413f3e3d3d3d3c3c3c3d3d3e3f42424447494c5054585d6165696c6e6f707274747678797b7d7f8182838588888a8c8d8f9091929495969698989a9c9c9d9e9fa0a1a3a3a5a6a8a9aaabacacacacadaeafb0b1b1b1b2b2b3b2b2b1b1b0b0b0afb0afaeadabaaaaaaabaaacadafb0b1b2b4b5b5b6b6b7b7b7b7b8b8b8b9bababababbbbbdbdbebebfc0c1c1c3c5c6c9ccced0d3d5d7d7d8dadcdddee0e0dfdedddddbd9d9d7d6d6d5d4d3d3d2d2d1d1d1d1d0cfcfcfcecfcdcdcccdcccbcac9c7c6c5c6c5c5c4c4c4c2c1c1bfbdbebdbdbbb8b6b4b2b1afaeacaaaaa9aaa9a9a9abacaaaaa7a3a09c9894918c89847e79746d68615c5855514e4a4844434241403d3c3b3a38373837373738393b3d3e404245494c5155595e62666a6d6e707273747677797b7d7f8182838587898a8b8e909091939496959799999b9c9d9e9fa1a1a2a4a4a5a6a8a9aaaaabaaacacadadaeb0b0b0b0b1b2b3b3b3b3b2b1b1b1b0b0aeaeacaba9a8a8aaa9aaabadafb0b1b3b4b6b6b6b7b7b7b8b9b9b9b9b9bababababbbcbdbdbebfbfc0c2c3c4c6c8cacccfd1d4d4d7d8dadbdddededededddbd9d9d7d6d6d5d4d3d3d2d1d0d0d0cfcfcfcecececdcdcdcccccbcacbcbcbcbcac8c8c8c8c8c7c5c5c3c2c1c0bfbebebebbb8b7b4b2b0afaeadabaaaaaaa9a9a9abababa9a7a3a09c9792908c87827d77726b66605a56514d4a4643413f3d3e3c39383735333232323232333536393a3d3f43474a4e52565a5f63676c6e707173747577787b7d7f81838586888a8b8b8e9091929395969697999a9a9c9d9fa1a1a3a4a5a6a7a7a9a9a9aaaaabacadaeaeafafb0b1b2b1b3b3b3b3b3b3b2b2b1b0afaeadaba9a9a8a8a8a8aaabacadafb0b1b2b4b5b6b6b7b8b9b9b9b9b9b9babab9babbbdbdbdbebfc0c0c1c3c5c6c7cacbcdcfd0d2d4d7d9dbdddddddcdbdbd9d7d7d5d4d4d3d2d1d1d0cfcecfcfcecdcdcccdcccccbcbcbc9cacac9cac9cacacac9c9c9c8c7c6c6c5c3c2c1c0bfc0bfbbb8b6b4b2b0afaeadacacabaaaaaaa9aaaaaaa9a6a39f9b97928e8a85817c76706a635d57534e4a46423f3d3b3a3a39373433312f2e2d2e2e2e2f313234363a3c3e43474b4f53585b6064686d6f7071737476787b7d7f82848585878a8b8c8d8f92929596969899999b9c9d9e9fa1a3a3a4a6a7a8a8a8a9aaaaabacacacadaeaeafafb0b1b1b1b2b3b3b3b3b2b1b1b0adacaaa9a9a7a7a8a7a9a9aaabadaeaeb0b1b3b4b5b6b7b8b9b9b9b9b9b9babababbbcbcbdbebebfc1c1c2c3c5c6c6c9cbcbcdced0d2d4d7dbdbdbdbdbdad9d7d5d4d3d2d1d1d1cfd0cfcecdcdcdcccccccccbcbcac9c9c9c9c8c9c8c9c8c9c8c9c9cac9c9c9c8c7c6c5c3c1c0bfc0bebbb9b5b3b1afaeadacabacabababa9a9a9a9a9a9a7a49f9b96928d8984807b766f68635c56504b46423f3b393736353432302e2d2b2a29292a2a2b2c2d313235383b3f43474c50545a5d62666b6e6f71737476787a7d8081838686888a8b8d8e909394959798999a9b9c9d9e9f9fa1a2a3a4a6a7a8a7a7a8aaaaaaababacadaeafafb0b0b0b0b1b2b3b3b2b2b1b0b0adacaba9a8a8a8a7a8a9a9aaaaacacadaeaeb0b1b3b4b5b7b7b9bab9b9b9bab9bababbbdbebfbfbfc0c0c1c3c4c6c6c7c9cacacbcccdd0d3d6d7d8d9d8d8d8d7d5d4d2d1d0d0cfcecdcccccccccbcbcac9c9cac9c9c8c8c9c8c8c8c8c7c7c7c7c7c7c7c8c8c9cac8c7c5c5c4c2c2c0c0bdbbb8b5b3b0afadacacababacabaaaaaaaaa9a7a8a6a29f9a96918e8885807a756e68615c544f48433f3b38363432312f2d2c2b292825252424252628292b2e3135393c4044484d51555b5f63676c6e71727476787b7d8081848587898b8c8d8f9193949697999a9b9c9e9e9ea0a0a0a2a3a4a6a7a7a7a7a7a8a9aaaaaaabacaeaeafafb0afafb0b0b0b1b1b1b0aeadacaaa9a8a7a7a7a7a8a9a9a9ababacadadafafb0b1b3b5b6b6b8b9b9b9bababababbbcbdbfbfc0c0c1c1c2c3c5c6c7c8c9c9cacbcccdcfd1d4d5d6d7d7d7d5d4d3d1cfcfcececdcbcccbcbcacacbc9c9c8c8c8c8c6c6c6c6c6c8c7c6c6c6c6c5c6c6c7c7c8c8c8c8c7c6c5c4c4c2c1c0bdbab8b5b3b1afadacacababacababaaaaaba9a7a6a5a29f9a97928e89857f79736e68615b534e47413c383532302e2e2b2a292725242222222122232426282a2d3135393d4145494e53575c6165696e707274777a7c7e8183848688898b8d8e9093949698989a9b9c9e9fa0a0a0a1a1a1a3a4a6a6a6a6a6a7a7a7a9a9a9aaacacadaeaeaeaeaeafafafb0b0afadadabaaa9a8a7a7a6a7a7a8a8a9a9aaababacacaeafafb0b2b3b5b6b8b9b9bbbbbbbbbbbbbcbebfbfc1c1c2c2c3c5c6c6c7c8c9cacacbcccecfd1d2d3d4d5d4d4d2d1d0cfcecdcbcbcac9cac9c8c9c8c9c8c8c7c5c6c5c5c5c5c6c6c6c6c5c5c6c5c5c5c5c6c5c5c6c7c9c7c6c5c5c3c2c1bfbcb9b7b5b3b0afadadacababababaaaaabacaba9a6a5a39e9a96938f89857f7a736e686159534c45403a35312f2d2b2927252322211f1f1f1e1e1f21212326282a2e32363b3f43464c50555a5e64686d71727577797c7d80838486898b8c8e8f9192959698999b9d9e9fa0a1a1a2a1a2a3a3a4a5a6a6a6a5a6a6a7a7a8a9a9abababadadadadadadacadadaeadacabaaaaa9a8a7a6a7a7a7a8a8a9a9a9aaaaaaacadaeaeb0b1b2b4b6b7b8babbbbbcbcbcbdbdbfc0c1c1c2c2c3c4c5c5c6c6c7c9cacaccccccced0d1d2d4d3d2d1d0cfcecdcbcac9c9c8c7c7c6c6c7c7c7c6c6c4c4c3c3c3c3c3c5c5c5c4c4c4c5c3c4c4c3c3c4c4c5c7c8c7c6c5c5c4c3c1c0bdb9b7b6b3b1b0aeacacabababababababababa8a7a6a49f9b97938f8a857f79746d686159524c453e38332f2c2b282523221f1d1d1d1c1b1c1c1e1e20212225292d3235393e4045494e53585c61666a70737577797b7e81838587898b8d8f9091939698999b9c9d9fa0a0a1a2a3a2a3a3a4a4a4a4a5a6a5a6a6a6a7a8a8a9aaababacacacababaaababaaaaaaa9a9a8a8a8a8a7a6a6a6a7a7a8a8a9a9a9abababacaeaeaeb0b1b3b5b6b8b9bababbbcbcbdbebfc1c2c2c2c2c3c4c4c5c6c6c7c8c9cacbcbcccecfd1d2d1d1d1d0cfcdcbcbc9c8c8c7c6c4c4c4c4c4c4c4c4c4c3c2c1c1c2c2c2c3c4c4c4c3c2c3c3c2c2c2c2c3c4c5c7c7c8c7c5c5c4c3c2bfbcbab7b6b3b2afaeadadabacacacacacadadaba9a8a6a39f9c99938f89848079746e676059514a433c37322e2b282523211f1c1c1a1a1a1a1a1b1c1d1e202326292c3034393b3f43484c51555b60656a6f7376777a7c7e818486878a8c8e8f91939496999a9b9d9e9f9e9fa0a1a2a3a2a3a4a4a5a5a6a5a5a5a5a6a7a7a8a8a8a9abababaaaaa8a8a8a8a7a8a8a9a8a8a8a7a7a6a7a6a6a7a7a8a9a8a9a9aaabacadadaeaeafb0b2b4b6b7b7b8b9babbbcbdbdbfc0c2c2c3c3c2c3c3c4c6c6c7c8c8c9cbcacbcececfd0d1d1d0cfcdcbc9c8c7c6c5c5c4c2c1c0c1c2c2c1c1c1c0c0bfbebfc0c1c2c1c2c3c1c0c1c0c1c0c0c0c1c2c4c6c7c7c7c5c5c4c4c2bebbb8b6b4b3b2b0aeaeacacacadacacadaeadaaa9a8a7a4a09c97938f89847e7a736f685f58504a433c36302c292523201f1c1b191918181818191b1c1e202224292c3134373c3f42464b4f54595f64686e7277797b7d7f818486888a8d8f90929495989a9b9c9c9d9c9e9f9fa0a1a1a2a2a3a3a3a4a6a5a6a4a5a5a5a6a7a7a8a9aaa9aaa9a8a7a6a5a5a5a6a7a7a7a7a7a7a7a6a6a7a7a7a8a8a8aaaaaaababacadadadaeafb0b1b3b3b5b6b6b7b8b9babcbdbebfc1c1c2c1c2c2c3c4c5c6c7c8c8c9cacacbcccdcfcfd0d0cfcccccac8c7c5c4c4c2c2bfbebebfbebebebebfbebdbdbdbebebebec0c0c0c0bfbebebebdbfbfc0c1c3c6c6c6c7c5c4c4c3c1bebbb9b7b5b4b2b1afadadacadacacacadacadaaa9a8a7a3a09c98928e8a857f79746f6960585149433c36312c292522201e1b1817171617171617191b1d1f2124272b2f33363a3e41464a4e53585d62686d7176797b7d80838486898b8d8f92939597999a9b9b9b9c9c9c9d9e9fa0a0a2a1a1a2a2a3a4a5a5a5a5a4a5a6a6a7a8a8a8a9a8a7a6a5a3a3a4a5a5a5a7a8a7a6a6a6a6a7a7a8a8a9a9a9aaabababacadadadaeafb0afb0b2b3b4b4b5b6b7b9babbbcbcbdbfc0c0c0c0c2c2c4c5c6c7c8c8c9c9cacacccececfcfcdcdcccac8c7c5c3c2c1c0bfbdbcbbbbbbbbbabbbcbbbbbabbbbbcbcbdbebebebebebdbdbebdbdbebec0c2c4c5c6c7c7c5c5c3c1bebbb8b7b5b3b2b0afadadadaeadacabacacadaaa9a8a6a4a09c97928f8b867f7a747069625a524a433d37312c292522211d1a1815151515151617191a1c1f2124282a2e3135393d42464a4e53585c61676c7175797c7f818385888a8d8e90929496979a9b9a9b9a9a9b9b9c9d9e9fa0a0a1a1a2a1a2a3a4a3a3a3a4a5a5a7a7a6a7a7a8a7a5a4a3a2a2a3a4a5a5a5a6a6a6a6a7a7a7a8a8a8a9a9aaaaabacacacaeaeafaeafafb0b1b2b3b4b3b5b6b7b8b9b9babbbcbdbdbdbfbfc0c1c2c4c5c6c7c7c9c9c9cacbcdcececdcdcccac9c6c5c3c2c0bfbdbbbbbab9b8b8b7b7b7b8b8b8b8b8b8b9b9babbbcbdbcbcbcbcbdbcbcbdbebfc2c2c4c6c7c7c6c5c3c1bdbbb9b8b6b4b2b1b0afadaeaeadadacacadadaaa9a7a6a2a09c98938e8a85807b75706a625b524c463e39342e2a2624211e1a181615141414151719191c1e2123272a2e31353a3d41474a4f53585c61666b7073777c7f818487898c8d8f91929497999a9b9a9a9a9a9a9b9c9d9ea0a0a1a1a1a1a1a1a2a2a3a3a4a4a5a5a6a7a7a7a6a7a6a5a4a3a3a2a3a3a4a4a4a5a6a6a6a7a7a7a8a9aaa9aaabababacacadaeafafafafafb0b1b2b3b4b4b5b6b8b8b9b9bababbbbbbbdbdbdbec0c1c2c4c5c7c7c7c8c9cacbcccdcdcdcccac9c7c5c4c1bfbebdbbbab9b9b6b6b5b4b4b4b4b5b6b6b6b6b7b7b8b9b9babbbbbbbcbcbcbbbbbdbec0c2c3c4c6c7c7c5c4c0bdbbb9b8b6b4b3b1b0afafafafaeadadadaeadaba9a9a4a19e9b97938f8a86817b76716b625a534d47413b36302b2825231f1c1816151515151617191a1c1e2124272b2f32363a3d42464a4f53585c61656a6e73777c7f8286888a8d8e90919395989b9b9a999a9a9a9b9b9b9c9e9fa1a1a1a1a0a0a1a2a2a3a3a4a4a5a5a5a6a7a6a6a5a4a3a2a2a2a2a2a3a2a3a4a5a6a6a7a7a7a9a9aaaaaaaaabababacacadaeaeaeaeafafb0b1b2b2b3b4b5b5b7b8b9b9bababbbabbbbbcbcbdbebfc1c2c3c5c6c8c8c9cacacccccdcbcac8c7c6c3c2bfbebcbab8b7b7b5b3b3b3b2b1b0b1b1b2b3b3b4b4b5b6b7b7b8b8b9bababbbbbababcbebfc0c2c3c5c6c7c5c3c0bebbbab9b6b5b3b2b1b0afafb0afafaeafb0aeacaba9a5a29e9996918e8986807c76706a625a534d49423c37312c2927241f1c1a171716161717191a1b1c1f2125282b2f33363a3f42464b5053585c6164696e72777c7f8386878a8e8f90929496999a9a9a9a999a9a9b9b9b9d9d9fa0a2a1a1a0a0a1a1a2a3a3a4a4a5a5a6a6a6a5a5a3a3a2a1a1a1a1a2a2a3a3a4a5a6a7a7a8a8a9a9ababababababacacadadaeaeaeaeafafb0b1b2b3b3b4b5b6b7b7b9b9b9b9babababbbbbbbcbdbebfbfc2c3c5c7c8c8c9cacbcbcbcac9c7c6c4c2bfbebcbab8b6b5b3b2b1b0b0aeaeaeaeaeafb0afb0b1b1b3b3b4b5b6b6b7b8b8b9b9b9babcbdbfc1c2c3c6c6c6c4c0bebbbab9b7b5b4b3b2b2b1b1b0afaeb0b0b0b0acaba8a5a29d9995918b8883807b756f6a625a544e49433d37322d2a2622211e1b1918181918191a1b1c1f202225292d3032363a3e42474b5054585c60656a6e73777b808385878a8c8f90929596999a9a9998989a9a9a9a9b9c9d9fa0a0a0a09fa0a1a1a0a1a3a4a4a5a5a5a4a4a4a4a2a2a1a0a09fa0a1a2a2a3a4a5a6a7a8a8a8a9aaaaaaabacababacacacacadaeadaeaeafafb1b3b3b4b4b5b6b7b8b9b9b8bab9b9babababbbbbcbcbdbfc0c1c3c6c6c7c9c9c9c9c9c9c8c6c5c2c0bfbdbab9b6b4b3b2b0afaeadababaaabacacacadaeadafafb0b2b3b3b5b7b6b7b8b9b9babbbdbebfc2c3c4c5c7c5c1bebbbabab8b6b5b3b2b2b2b2b1b0b1b0b1b2b0aeaca8a49f9c9894908b86827e7a756f6a625b544d48443f39332e2b2724211e1c1b1b1a1b1b1c1c1d1f202325272a2e3135383b3f43474c5054585d61666b6f73787c7f838588898c8f9393959899989999999999999a9b9b9c9d9f9fa0a09f9f9fa0a0a0a2a3a4a4a4a5a4a4a3a3a1a09f9e9e9f9e9f9fa0a1a3a4a5a6a7a8a9a9a9a9aaababacacabacacacacacadaeaeafafb0b1b2b3b3b4b5b6b7b7b8b8b9b9b9b9b9babababbbcbcbdbebfc0c3c5c6c7c9c8c9c9c9c9c7c4c3c1c0bebbb9b7b6b3b1afaeacabaaa9a8a8a8a8a8a9a9abababacaeafb1b2b3b5b6b7b8b8b8bababcbdbfbfc1c3c5c7c5c1bebcbbbab9b7b5b5b3b2b2b2b2b1b1b1b2b3b1afaca7a39f9c97938f8a86827d79746f69635b554f4a45403a342f2b262422201e1d1d1e1e1e1e1f2022232528292c303336393c3f44484c5156595e62666c7074797c808285878a8c8f9294969798999999999898999a9b9b9c9e9f9f9fa0a09e9f9fa0a1a1a2a3a4a4a4a3a2a1a09f9e9e9d9d9d9e9ea0a0a1a2a4a5a7a8a8a9aaaaaaaaabababacabacabacadacadadaeafaeb0b0b2b3b3b4b5b6b7b7b8b8b9b9b8b9b9b9bababbbabcbdbebfc1c2c3c5c7c8c8c8c9c8c8c5c4c3c0bfbdbbb9b7b5b3b0aeacaaa8a6a5a5a4a4a5a6a6a7a8a9aaaaacadaeb0b2b4b5b6b6b7b8b9bababcbebfc1c3c4c5c4c0bebcbbbab9b7b6b4b4b3b2b2b2b1b2b2b3b3b1afaba7a39f9b97928e8a85807c78736e69635c56504b46413b36302b272423201e1e1f1f20212122232427292a2d2f3235383b3e4145494c52555a5e62686d71757a7e818385888a8b8e919496989898999999999a9a9a9a9b9c9d9e9e9f9f9f9f9f9fa0a0a0a1a2a2a2a2a1a09e9d9d9c9c9c9c9d9e9e9fa0a1a2a3a5a6a7a9aaa9a9aaababababacacabacacacacadaeaeaeaeb0b1b1b2b3b4b5b6b7b7b8b8b9b8b8b9b9b9b9b9babbbbbcbdbfc0c2c3c5c6c7c6c7c8c8c7c6c4c2c0bebdbab9b7b5b1afacaaa8a6a3a2a1a1a1a1a3a3a4a6a7a9a9ababadafb2b4b5b6b7b8b8b9b9babcbdbec1c2c3c4c4c1bebebcbab9b8b6b5b5b4b3b3b2b2b3b3b3b4b2afaca8a29e9a96928e8a86817c78736e69645e57524d48433d38312c2825232120202122232524262628292b2e313335383b3e4144474a4f52575b5f64686d73787c7f818386888b8d8f919495979898989899999b9b9b9b9b9c9e9e9e9e9e9f9f9fa0a09fa1a1a1a1a0a09e9d9c9b9a9b9a9b9b9d9d9e9fa0a1a3a3a4a6a7a8aaa9aaaaababababacabacacacacadadadaeafafb0b0b1b2b3b3b5b6b6b7b8b8b8b8b9b9b9b9b9b9babbbcbcbebfc0c1c3c3c5c5c6c6c7c7c7c5c4c2c1bfbdbbb8b6b4b1afaca9a6a3a1a09e9e9e9fa1a1a2a4a6a6a8a9abadb0b2b3b5b6b7b8b8b8babbbbbdbec0c1c2c3c3c1bfbebcbab9b8b7b5b4b4b4b4b3b4b3b3b3b2b2b0aca8a39f9b98948f8b87817d79746f6b65605a544f4a453e38322d292625232324242526272829292b2d2f313435383a3d3f4346484d5054585c61666a6f74787d80828386898a8c8e919395979898989899999a9b9b9c9c9d9d9e9e9e9f9e9f9f9fa09fa0a0a19f9e9d9d9b999999999a9b9c9c9d9e9fa0a1a2a3a4a5a7a7a9a9a9a9ababababacacacacacadadadadadaeafafb0b1b2b3b4b5b6b7b7b7b8b9b8b9b9b9b9b9b9bbbbbcbdbebfc0c1c1c3c3c4c4c5c6c7c6c5c4c3c1bebdbbb8b6b3b0aeaaa7a4a19f9d9d9d9c9d9ea0a2a3a4a5a6a9acadb0b2b4b5b6b6b8b8b9babbbcbdbfc0c0c2c2c3c3c1bdbcbab9b9b7b7b5b4b3b4b4b5b4b4b4b3b2b1ada8a4a09d9995908c8783807b76726d67625c57524d47403b34302c29272526252627282a2b2d2e3030323337383a3d404346484b4e51565a5e62676c71757a7e80828486898b8e8f92939596979898999999999a9a9a9b9c9d9d9d9d9d9d9e9f9f9e9f9f9f9e9d9c9c9a99989898999a9a9c9c9d9e9fa0a1a2a3a4a5a7a8a9a9a9aaaaabacacacacacacacadacacadadaeafafb1b1b2b4b4b6b7b6b7b8b8b8b9babab9b9b9bababbbcbdbebec0c1c2c2c3c3c3c3c5c6c7c6c5c3c1c0bebbb8b6b3b0ada9a6a3a19e9b9b9b9a9b9d9ea0a2a3a6a7aaacaeb0b3b4b4b5b7b8bab9bababcbdbebfc0c0c2c2c3c2bfbcbbbab9b7b6b5b5b4b5b5b6b6b6b5b4b3b2afaaa6a39f9b98938e8985817e79746e68635e58544f48443d38322f2c2a292a29292a2c2e2f3131333536383a3c3d404345484b4e5155595c61666a6e74777c7f818283878a8b8e90919495969798989898999899999a9a9b9b9a9b9c9c9d9d9e9e9e9e9d9c9b9b9898989897979899999a9b9d9d9e9fa0a2a2a4a4a6a6a7a9a9aaaaaaacacacadacacacacacabacadadaeaeb0b0b0b2b4b4b6b6b7b7b7b8b8b8b9bab9b9b9b9babcbcbebebfbfc1c1c2c2c2c2c3c4c5c5c5c4c3c1bfbdbbb8b6b2afaca9a5a39f9e9b9a99999a9c9c9ea0a2a5a7a9abaeb1b2b3b5b5b6b8b8babbbbbcbcbdbfbfbfc0c1c3c2bfbdbcbbb9b7b7b6b5b6b6b7b7b8b7b5b4b4b3b0aca8a4a19e9a96918b87827f7a756f6a65605b55514b46403a3732302e2e2d2c2d2e303132333537393a3b3d3e414345484b4e5155575b5f64686c71757a7e80828385878a8d8d90929495969797989897969797979898999899999a9a9b9c9b9c9b9b9a9898979795959696979899999a9c9d9d9e9fa0a2a2a4a4a5a6a8a9a9aaabababacacadacacabacababacadadaeaeafb0b1b1b3b4b5b6b6b7b7b8b8b9b9bab9b9bababbbbbcbdbebfc0c0c1c1c2c2c2c2c3c3c5c5c4c4c2c0bdbbb9b6b3b0ada8a6a3a09d9a999898989a9b9d9fa2a4a6a8abadafb2b2b2b4b5b7bababbbbbcbcbdbebfbfbfc0c1c3c0bebdbcbab8b7b6b5b5b6b7b8b8b8b7b6b4b4b1ada9a5a29f9b97928d8883807b76716c66625c57524d47423d39363533323231313233343436393b3c3e4041434446484b4e5153565a5d6166696e73777b8082848486888b8d8f909394969696979696969494949596969697979798989899999999989695959494949596969798999a9b9c9c9d9fa0a0a2a3a3a4a5a6a7a8a9aaaaababacacadadadabababacacadadaeaeafb0b0b1b3b3b5b6b6b6b6b8b8b8b9b9b9babababbbbbdbdbebfc0c1c1c1c2c2c2c1c1c2c4c4c4c3c1c0bebcb9b7b4afada9a5a29f9c9a98979797989a9d9ea0a3a5a8aaacadafb0b1b2b4b5b8b9b9babbbbbdbebfbfbec0c1c3c1c0bebcbbb9b8b6b6b6b7b8b9b9b8b8b7b5b2b0ada9a6a29f9d98928e8884807c76726e69636059544f49443f3c3a383735353536353738383b3c3f404143444647494b4e505456595c6064676c7175797d8184858687898c8f90919394969595959595949393939394949494949595969796979696949493939393949596969797999a9b9b9c9d9ea0a1a1a3a3a4a5a6a7a8aaaaaaacadadaeafaeaeadadacacacacadaeafafb0b0b1b1b3b4b5b6b6b7b7b8b8b9babababababbbbbcbebebfc0c0c1c1c2c2c1c0c0c1c2c2c3c3c2c0bebcb9b7b4afada8a5a29f9c999695959697999b9ea0a2a3a6a7aaabacadb0b0b2b3b6b7b9babbbbbcbdbcbdbdbfc1c2c2bfbebcbabab8b8b7b8b8bab9b9b8b7b7b6b3b0aeaaa6a29f9c98948e8b86817d79736f6b67625b56514b4743413f3c3c3a393a3a3a3b3c3c3e4042434446494a4c4d4f505356595c5f62666b6f73787c8083868888888a8c8f9193939496959595939393929392929292929293949495949594949392919191929394949596979899999a9a9c9d9e9fa0a1a3a4a4a5a6a8a9ababacadadaeaeafafafaeaeaeaeadadaeafafafafb0b1b1b2b4b6b6b6b6b7b6b7b9bababababbbcbcbdbebfc0bfc0c1c2c2c2c1c0c1c0c1c2c3c3c2c1bfbcb9b7b4b0aca8a5a19e9a989695959597999a9c9ea0a2a4a6a7a8a9acacadb0b1b3b6b7b8b9babbbcbcbcbdbfc0c2c2c1bdbcbbbab9b8b9b8b9bab9bab8b8b7b5b3b1aeaaa6a3a09d9995908c8884807c78746f6a66605a544e4c4946434240403f3f3e3e3f404142434547484a4b4e4f51525456595b5f62666a6d72777b7f8285878989898c8d8f9193949595949493939292929192929292929393949494939492929191919191919394949596979899999a9b9c9d9e9fa1a2a2a3a4a5a6a8aaabacacadadaeaeafb0afafb0b0b0b0b0b1b0b0b0b0b0b1b3b3b4b5b6b6b6b6b8b8b9babababbbbbcbdbdbebfc0c0c1c2c2c2c2c1c1c0bfc0c1c1c1c1bfbebcb9b7b4b1aca8a5a19d9a979594959596989a9b9c9f9fa1a3a5a6a8a9aaacadafb1b3b5b7b8babbbabbbdbcbec0c1c2c0bebcbbbbbab9b9b9bababbb9b8b8b6b4b3b0adaba8a5a19d9b97938f8c87847f7b78726d68625e5854514e4c4a484745444443434545464748494b4c4e4f51535556585a5d5f62656a6c7174797d81828487898b8b8d8e8f9193949594939292919191919191929293929294939493949292919190919091919293949595979898989a9b9c9d9e9fa0a1a2a2a3a4a6a8aaacacacacadaeaeb1b0b1b2b2b3b4b4b4b4b3b2b2b1b2b2b3b4b4b6b5b5b6b7b8b8b9bababbbcbcbdbdbebebfbfc0c1c1c2c3c2c1c1c0c0bfbfc0c0bfbfbebbb9b6b4b0aca9a5a19d999795959595969699999b9d9e9fa1a3a4a5a7a8a9acaeb1b2b5b6b8b9b9b9babcbcbebfc1c1c0bebdbcbbbbbababbbbbbbbbab8b7b6b4b3b0aeaba8a5a29e9d9995928e8b88837f7b76716b66615e5a5653514f4e4b4a4a4a4a49494b4b4c4c4e505152545657595a5c5d606365696c6f73777b80818384868a8b8d8e8f8f9192949393909090908f9091919192929293939493949393929190909090919091929394949696979799999a9c9d9e9fa0a0a1a2a3a4a6a8abacacadacadaeafb2b3b4b5b6b7b7b7b8b7b7b6b5b4b4b4b5b5b5b5b6b6b7b7b7b8b9b9bbbcbcbdbebdbebfc0c0c1c2c3c3c3c3c2c1c0c0bfbfbfbfbfbebebcb9b7b4b1aca9a5a09d999796959494959597999b9c9d9ea1a2a3a5a6a8aaacaeafb2b4b6b8b9b9b8babbbcbebfc0c1c1bfbebcbcbcbcbbbbbbbbbab9b7b5b5b3b2b0aeacaaa7a3a19e9c9995918f8b86827d7a746f6b67635f5c5957555350504f4f4e4e504f51525253555557595a5c5d5e60626366686c6f72767b7f81828285878a8d8e8f909192929492908f8f8f8f8f909190919292939494949494939291908f909090909192929394959696989899999a9c9d9d9f9fa0a1a2a3a4a6a9abacacadaeafb0b1b6b7b8b9babbbabbbbbbbabab9b9b8b8b6b7b6b7b6b6b7b8b8b9b9bababbbcbdbdbebfbfc0c1c2c3c3c4c3c3c2c1c0c0bfbebebebebebdbcbab7b5b0aea9a5a19d9a98969494949597989a9b9c9d9fa0a1a2a3a5a8a9abaeb0b2b4b5b7b8b8b8b9bababcbebfc0c0bebebebdbcbcbbbcbcbbb9b8b7b5b4b3b1afaeadaba9a5a3a19f9a9794918d8985807c76726e6b6864615f5c59595756565453545455575758585a5b5c5d5f616162646668696c6f7276797d8081828485878a8e8f919292929393908f8e8e8e8f8f90909192929293949494939392918f8f8f909090909091939394959696979899999a9b9d9d9ea0a1a1a2a3a4a6a8abacadafb0b2b3b5b9babbbdbdbebdbebebebebdbcbcbdbcbcbab8b8b8b7b8b9b8b9bababbbbbcbdbebfbfc0c1c1c2c3c4c5c5c4c3c3c1c0bfbfbebdbdbdbebdbbb8b5b1aeaaa6a19e9b98969596959798999b9d9e9f9fa0a1a2a4a5a6a8acaeb1b2b5b6b7b7b7b7b8b8b9bcbdbebfc0bfbdbebdbdbdbdbdbbbab8b7b6b4b3b3b1b0afaeadaba8a6a3a09e999794908c87827f7b76726f6c68666463605e5e5d5b5a59595a5b5c5c5d5d5f60616164656567696a6c6f7073767a7d808182838586888b8d909393929291918f8e8e8e8e8f9090909292929293949494929290908f8f8f8f8f909191929293959596979797989a9a9b9c9d9fa0a0a1a2a4a5a6aaadafb1b3b4b5b7b8bcbebebec0c1c0c0c0c0c0bfbdbebebebebebdbbbabab9b9b9bab9babbbbbcbebebfc0c1c2c2c3c4c4c5c5c5c4c3c2c1c0bfbfbebdbdbdbcbbb9b6b2afaba6a29f9c9997969697989a9c9d9e9fa0a1a1a2a2a3a6a8a9acaeb1b3b5b7b7b7b6b6b7b7b9babcbdbfc0c0bebdbebdbebdbdbab9b8b7b6b4b4b3b2b0b1afafaca9a7a4a29f9b9995938e8a85817d797673706d6c6a696765656361605e5e5f61616262636464656768696a6b6c6e71727476797e7f8181818385888a8b8d909394939390908f8e8d8f8f8f909091919192929294939292908f8e8e8f8f8f8f90909192929394959696979898999a9b9c9d9f9fa1a2a4a5a6a9abafb3b5b8b8babbbbbebec0c1c2c2c2c2c2c1c0c0bfc0c0c1c1c1c0bfbdbcbbbbbbbbbababbbcbdbebfc0c1c1c2c2c4c5c5c6c6c6c5c4c3c2c2c0bfbebdbcbcbcbbb9b6b2aeaaa6a3a09d9a989898999a9c9e9fa0a1a2a2a2a2a3a5a6a8aaadafb0b3b5b7b7b6b7b7b6b7b8b9bcbdbdbfbfbfbebebfbebdbcbbbab9b7b7b5b4b3b1b1b1b1afadaaa8a4a29f9c9995928f8b8784807d7a77757371706e6c6b6a69676564646566666766666769696b6d6e6f6f70737476787a7d7f818181838485898b8b8e9092939492918f8e8e8e8e8f8f9091919192929292939291908f8f8e8e8e8f8f9090909191939394959595979898999b9c9d9e9fa1a3a5a6a8a9acb0b3b7babcbdbdbdbdbfc0c1c2c3c4c4c4c3c2c2c0c0c1c2c2c3c3c3c2c1bfbebdbdbcbbbcbcbcbdbfc0c1c2c3c3c3c4c5c6c6c7c6c6c4c4c2c2c1c0bebdbbbbbbbbb8b6b3b0aba7a4a1a09d9b9b9b9b9e9fa0a1a2a2a2a3a3a4a4a5a7a8aaacafb1b3b6b6b7b7b6b5b5b5b6b9babcbdbec0c0bfbfbebdbdbdbbbabab9b8b7b6b5b2b1b1b1afadaba8a4a29e9c999793908d888582807e7b797775757371706f6d6c6a6a6b6a6a6a6b6c6b6d6e6f6e6f717373747778797b7c7e7f818182838486898b8c8f9092929291908f8e8e8f8e8f8f8f909191919392929191908f8e8e8e8e8f8e908f909091919293949595969798999a9c9e9fa1a3a4a6a8a9acafb2b5b9bcbec0c0c0c0bfc0c1c1c3c4c5c5c5c4c3c2c1c1c2c3c4c4c5c4c4c3c2c1c0bfbfbebebebebfbfc0c1c2c3c4c5c5c5c7c7c8c7c6c6c5c3c2c2c0bfbebcbbbab9b8b7b3afaba8a5a4a2a09e9e9e9fa1a3a4a4a4a4a4a5a4a5a6a7a8a9aaacafb1b4b6b7b7b7b7b6b5b5b6b8babbbcbebfbfbfbebebebebcbbbcbbbabab9b7b6b3b2b0b0aeadaba7a5a29f9c9a9794928d89878581807e7c7b7a7977777474737170706f6f6f6e6f707271737374747575767779797a7c7d7f80818282828487888b8c8e8f909191908f8e8f8f8f8f8f8f9091909091919291908f8f8f8d8e8e8e8e8f8f909090919192939495959697989a9c9ea0a2a4a6a7a8abaeb0b4b6babcbec1c2c1c2c1c0c2c2c2c3c4c5c5c5c4c4c2c2c2c3c4c5c6c7c7c6c6c5c4c3c1c1c0c0bfc0c0c0c1c2c2c3c5c5c6c7c7c7c9c8c7c6c5c5c3c3c1bfbebcbbb9b9b7b5b2b0aca9a7a5a5a3a2a2a3a4a4a6a6a7a7a7a6a7a6a7a7a9a9aaabadafb2b4b5b7b7b6b6b5b4b5b5b7babbbdbebec0bfbebdbdbdbdbcbcbcbbbbbab9b6b4b2b1afaeaca9a7a4a3a09c9a9895918d8a88868381807f7d7c7b7a7978777776757574747373727271737474747576777779797b7c7e7f8081828283848587898b8c8d8f8f8f8f8f8f8f8e8f8f8e8f8f8f908f8f9090908f8e8d8d8d8e8d8d8e8e8f8f9091919192929394959597989a9c9fa1a2a5a6a8aaacaeb2b5b8bbbcbec0c1c2c3c3c3c2c2c3c4c4c4c5c5c5c5c5c3c3c3c4c5c6c7c7c8c7c7c7c6c5c4c4c2c2c2c2c2c2c2c3c4c4c5c6c6c7c8c8c9c8c8c8c6c6c5c3c2c0bfbdbcb9b8b6b4b3b0aeaba9a8a7a5a5a6a6a7a7a9aaaaaaa9a9a8a9a9a9a9ababacaeafb2b4b4b5b5b5b5b4b4b4b5b7b9babcbdbfbebebebcbdbdbcbbbbbcbdbbbab7b6b3b1afaeacaaa9a7a4a19e9b979593908e8b88878482817f7e7f7d7d7c7b7a7a797a79787775747373737374747476777878797b7c7d7f808182828384858587888a8b8c8e8e8e8d8d8d8d8d8e8f8e8e8f8e8e8e8e8f8f8e8d8c8c8c8c8d8d8d8d8e8f8f8f909192929394949596989a9c9ea0a4a5a7a8aaacafb3b5b8babcbebfc0c1c3c4c4c5c3c5c4c4c5c6c6c6c6c5c6c4c4c4c5c6c7c8c8c9cac9c9c8c7c7c6c5c3c4c3c4c3c3c4c4c5c7c6c8c8c9c9c9c9c8c8c7c7c5c3c2c0bfbebdbab8b6b5b3b1afadababa9a8a8a9a9aaacacacacacabaaa8aaabababacacadaeafb0b2b2b4b4b3b4b3b4b3b4b6b9bbbbbdbfbfbebdbcbcbdbcbcbbbcbcbbbab8b4b2afadaba9a7a5a3a09d9b98969391908d8b8886848281808180807f7d7c7c7c7d7c7c7a7977757475737474757577777878797b7d7e8080818283848384868688898a8c8c8d8d8c8c8b8c8c8d8d8d8e8d8d8d8d8e8d8d8c8b8b8a8b8c8c8c8d8d8e8f8f8f909091929293949597999b9ea1a3a6a8aaabadafb1b4b7b9babdbdbec0c1c2c4c6c5c5c5c5c5c6c6c6c6c7c7c6c6c5c6c6c7c8c9cbcacbcacbcbcac9c8c8c7c6c5c5c5c5c5c6c7c7c8c8c9c9cacacacacac8c7c6c4c3c2c1bfbebcb9b7b5b4b2b0aeaeadacaaaaabacacadadadaeaeadacababababacacadadadadaeafb0b1b2b3b3b2b2b3b4b6b7b9bcbdbebebebdbcbcbbbbbababababab8b6b2b1adaaa7a5a4a19f9c9a969593918f8e8d8a888583828281828281817f7f7e7e7e7e7c7b7a777775757575767576767878787a7b7c7e7f8081828384838385868788898b8c8c8c8c8a8b8b8c8c8c8d8c8c8c8d8d8c8b8b8b8a8a8a8b8b8b8b8c8c8c8d8f8f9091919193939596989b9ea0a2a6a7a9abacaeb1b3b6b7b9bbbcbcbec0c2c3c4c6c6c6c6c6c7c7c7c7c6c6c6c6c6c6c7c8c9cbcbcccbcccccccccccccbcbcac9c9c7c7c7c7c8c8c9c9cacacbcbcccbcacac9c8c6c5c4c3c1bfbebcbab8b7b5b3b2b1b0afaeadadadaeadaeafafafaeaeadacacacacacacacabababababacadafb1b2b2b2b3b4b5b7b9bbbcbcbcbcbcbbb9b8b9b9b8b9b7b7b5b2b0aca9a7a4a2a09d9b99969492918f8e8c8c8a888584818283838381828180807f7f7e7e7d7b797877757676767676777778787a7c7c7d7f808182848483838485878788898b8b8b8a8a8a8a8a8b8b8b8b8b8d8b8b8b8a888888888889898a8a8b8b8b8c8e8f8f909091929394969a9c9fa1a4a6a8aaacadb0b2b3b6b7b9babcbdbec0c2c3c4c6c6c7c7c7c8c7c8c8c7c8c7c7c7c7c8c9cacccccdcccdcdcecececfcecdcccccccbc9c9c9cac9cacacacbcbcccdcccbcacac8c7c6c5c3c2c0bebdbbbab9b7b5b4b2b1b0b0afaeafafafafb0b0b0afaeadacabababaaaaabaaa9a9a8a8a9aaadadafafb1b2b4b5b6b8b8b9bababbb9b9b7b6b7b6b7b5b3b3b1b0acaaa6a5a29e9c9997969492908f8d8d8c8c8a8785838282838382828281818181807f7f7d7c7a7877767677767676767777787a7b7c7d7e8081828383838282838486898a8a8a8a8989898a8a8a8a8a8a8c8c8b8b8988878787878889888a89898a8b8c8c8d8e8f9091929495979b9ea0a2a4a6a8a9abaeb0b2b4b5b6b8babbbcbebfc1c3c4c6c6c8c8c8c8c9c9c9c8c9c9c8c9c9c9cacccccdcecfcfcfd0d0d0d0d0d0d0d0cecececccbcbcbcbcbcccccdcdcecdcccccbcac9c7c6c4c2c1c0bebcbbb9b8b6b5b4b3b2b1b0b0b0b0b0b0afb0afaeadadacabaaa9a8a8a9a9a9a7a7a7a7a9aaabacaeafb0b2b3b5b6b7b7b7b8b7b6b6b5b5b3b3b3b2b1b0aeaca9a6a3a09d9b9996949392908f8d8c8c8c8b89878483828383838382838182828281807f7d7c7a7877767675767675757677787a7b7c7c7e7f81828383828181828384868788888887888888898989898a8a8a8b8988868585868686888788888a898a8b8b8d8e8e9090919497999c9ea0a2a3a5a7a9abaeb0b1b3b4b6b7b8babcbdbfc1c2c4c5c6c7c7c8c9c9cacac9cacac8c8c9c9cbcccecfcfcfd1d1d1d1d2d2d2d2d2d2d2d1d0cfcececdcdcccdcececfcfcecdcdcccbc9c9c8c6c5c2c0bfbdbcbbb9b8b7b5b4b4b2b2b1b1b0b0b0afafafaeadacaaa9a8a8a8a8a8a9a9a8a8a7a7a7a8aaaaacacaeb0b0b2b2b3b4b4b5b4b4b3b3b1b0afaeadacadaba7a5a29e9b99979593918f8e8d8c8b8b8b8b8b89878583838483838484838383828281817f7e7c7a797776757576757576777678797a7b7d7d7e8081828381807f80808284858686868686878787888888888889898786848484858586868787878889898a8b8b8c8d8f909294979a9d9fa0a2a3a4a6a9abaeafb0b2b3b5b6b7bababcbec0c2c4c6c7c6c7c8c8cacbcbcbcacbcacacacacbcdcfcfd0d1d2d2d3d3d3d3d3d4d4d5d4d3d4d3d1d0cfcfcecececfd0d0d0cfcecccccbcac8c6c5c3c2c1bfbdbcbbb9b8b7b5b4b3b2b1b1b0b0b0b0aeaeadacacaaa9a9a8a8a9a8a9a9a8a8a7a7a7a7a8a9aaaaacacaeafb0b0b1b1b2b2b2b2b0adacabaaa9a9a9a6a3a09d9b98979593918e8d8b8a8a8a88898a8988868484838385848485858484838282817f7e7c7a7876757574757375757676787a7a7a7c7d7d7f80828281807f7f80818183848484858585858787878687878786858483828384848485858686878888898a8b8b8d8e909294989b9d9ea0a1a3a4a6a8aaadadb0b0b2b3b5b7b9b9bcbebfc1c3c5c6c7c6c7c8c9cacccccccbcacbcbcccdcecfd0d1d2d3d3d4d5d4d5d5d6d6d6d7d6d6d6d5d3d2d1d0d0d0d1d2d1d1d0cececdcccbcac8c7c5c4c2c1bfbebcbab9b7b6b5b4b3b2b1b1b1b0afaeadadacabaaaaa9a9a9a8aaa9a9a9a9a8a7a7a7a7a7a8a8aaaaabacacacacadaeaeafaeacabaaa7a6a6a6a5a39f9c9a99979694928f8d8b888687868787888886858482848485858585868584838282817f7d7b7976767474727374747374767879797a7b7c7e7e7f8082807f7e7e7e7e808181828382838385858585858586858483838182828384848485868686868888898a8b8d8e909294979a9c9ea0a0a2a4a5a8a8abadaeb0b2b3b5b6b7b9bbbdbfc1c3c4c5c6c7c7c8cacacccdcccdcccbcccdcecfd1d1d1d3d3d4d5d5d6d6d7d7d8d8d8d8d8d8d7d7d5d3d3d3d2d2d2d3d1d0cfcfcecccbcac9c8c7c5c3c2c0bfbdbcbbb8b7b6b5b4b3b2b2b1b0b0afaeadacacababaaa9a9aaaaabaaa9a9a9a8a7a7a7a7a7a7a8a9a9aaa9a8a8a9a8a9a9a9a8a7a5a4a2a3a2a29f9c9998979695928f8d8b88868584838484858685848384848686858686868584838381817e7c7a77757372707071717274747577777879797b7c7d7e80817f7f7e7c7c7e7e7f7f81808181838384848483838483828181808081818283848484848586878788898b8b8d90929598999b9d9e9fa0a2a4a5a7a9abadaeb0b2b4b5b7b9bbbcbec0c3c4c5c6c6c7c8c9cacdcdcecdcdcccdced0d1d1d2d2d4d4d5d6d6d8d8d8d9dadadbdbd9d9dad8d8d6d6d5d4d4d3d4d4d2d1d0cfcecccccbc8c7c6c4c3c1c0bfbdbcbbb9b8b6b5b4b4b3b2b2b1afafadadacabababaaa9aaaaaaaaaaaaa9a8a8a8a8a7a7a6a7a8a8a8a6a5a4a5a4a5a4a4a3a2a1a0a09f9f9e9c9997969594928e8c8a88868482828181808283838383848586868687878786848483817f7c7a787573716f6f6f7070727272747576777878797b7c7e7f817f7e7d7b7c7b7b7d7d7e7e7f80808283838382828281808080807f80808182838384848585858687888a8b8d8f9295989a9b9c9e9fa0a1a2a3a5a7a9aaacadb0b2b4b6b8babbbdbfc2c4c5c6c5c7c8c8caccced1cecececfcfd1d3d3d3d4d5d5d6d7d8d9dadadbdbdcdcdcdbdbdbdbdad9d8d8d6d6d5d5d4d2d2d1cfcfcdcccccac8c7c5c4c2c1c0bebcbbbab8b7b7b6b4b4b3b2b1b1afafaeadadacabababaaababababaaa9a9a8a8a8a8a7a7a8a9a8a6a4a3a2a1a1a0a0a0a09f9e9e9d9c9c9a9896959493918f8c8a8886838280807e7e7e8181828283848686868788888686868482807d7b787674726f6f6d6e6f6f70717172737474757779797b7c7e807e7c7b7b7a7a797a7b7c7c7d7e7f808181818180807f7e7f7f7e7f7e7f808181828384848585868788898b8d90939497989a9c9c9e9f9fa0a2a3a5a6a8abacaeb0b2b5b7babbbcbfc1c3c4c5c5c6c7c8caccced0d0cfced0d1d2d3d5d5d5d6d7d7d9d9d9dbdcdddededddddddcdcdcdcdbdadad9d8d7d6d5d3d3d2d0cfcecdcccbc9c8c6c5c3c2c1bfbebcbbb9b8b7b6b5b5b4b4b2b2b0b0afaeadadacacabababacacacabaaaaa9a8a8a8a8a7a7a8a7a5a2a0a09f9e9e9e9e9d9c9b9b9a99999795949391908f8d8a898684827f7d7c7c7b7c7d7e8182838486878888878988868482807e7c7a7674716f6f6d6b6c6e6f6e6f6f71717273747577787a7b7e7f7e7c7a7a7877777778797b7b7c7d7e7f8080807f7d7d7d7e7e7d7d7e7e808081818282838485858687898a8d90939596989a9b9b9e9f9fa0a1a3a4a5a7a9acadafb2b4b6b8babcbec0c2c3c5c5c5c7c8cacccecfd1d0d0d0d2d4d5d6d7d7d8d9dadadadadbdcdedfdedfdfdedddedddddddcdcdbdad9d8d6d5d3d2d1d0cfcecdcccac9c7c5c4c3c1c1bfbebcbbb9b8b7b6b5b5b4b3b2b2b1b0aeaeadacacacacacacacacacabaaa9a9a8a8a8a7a8a8a6a3a09e9d9d9c9b9c9b9a9a989998969594929291908d8b8a88878683817e7c7b7a7a7b7c7f80828385878889888988878684817f7b797874726f6d6c6a6a6b6b6c6d6d6d6f6f707071737576797a7d7f7d7a797776757575767778797b7b7c7d7e7e7e7e7c7b7b7c7c7c7d7d7d7e7f80818182838384848687898a8d9093959697999a9b9d9d9d9fa0a1a3a4a7a8aaacafb1b2b5b7b9bcbec0c2c3c5c5c5c6c8caccceced0d1d2d3d4d5d6d7d8d9dadadbdbdcdcdddee0e0e0e0e0dfdfdfdedededddddcdcdcdad8d6d5d3d2d0cfcecdcccac9c7c6c5c3c2c1c0bebcbbbab9b8b7b6b6b5b4b3b3b2b1afafaeaeadacadacadadadacababaaaaa9a8a8a8a8a7a4a19f9c9c9b999999999897979695939291908f8e8c8b8a8887868483807e7b7a797a7b7b7f808284868889898989888786837f7d7a777672706e6c6a69696969696a6b6b6c6c6d6f7071737677797b7c7a787775747373737475757778797a7b7c7d7d7c7b7a7a7a7b7b7c7c7c7e7e7f808181838383858587888a8e909294969797999a9b9c9c9e9fa1a3a4a6a8a9acadafb2b4b7b9bbbcbfc1c3c4c4c5c6c7caccccced0d2d3d4d6d6d7d9d9dbdbdcdddedededfe0e0e1e1e1e1e1e0e0dfdfdfdfdedddddddddbd8d6d5d3d1cfcececccac9c8c7c6c4c3c2c0bfbdbcbabab9b8b7b7b5b4b4b2b2b1afafaeaeadadadaeaeadadadacabaaaaaaa9a8a8a8a7a4a09e9b9a98979798979695949593918f8e8d8c8b8a89878585848381807e7b7979797a7c7e8082858889898a8a89888784817d7b787573706e6c6a696867666767686968696b6c6d6f7071747678797b797776747371717171727374767778797a7a7b7a797979797a7a7a7b7b7c7d7e7f8081828283848586888a8d9092949495969698999a9b9c9d9ea0a2a4a7a9abacafb1b3b5b8bbbdbec0c2c2c3c4c5c7c9ccccced0d3d4d5d7d8d9dadadcdddededfdfe0e1e2e3e3e3e3e3e2e2e1e0dfdfdfdfdfdfdededcdad7d6d5d2d0cfcecdcbc9c9c7c6c5c4c3c1bfbebdbbbabab8b7b7b6b4b4b3b2b1b0afafaeaeadadadaeadadadadabaaaaaaa9a8a7a6a5a39f9c9a98989695969594949392918f8d8c8c8a898786868484838282807d7b797979797b7e7f818588898a8a8a888685827f7c7a7674716f6c6a6968676565656565666667696a6b6d6e70727476797a78767472716f6e6f6e6f70727374757778787878787878787878797a7a7b7d7d7e7f80828283848485878a8d91919294939495969897999a9b9d9ea0a2a4a7a9abaeb0b2b5b7b9bbbdc0c1c2c3c3c4c7c8cbccced0d1d4d6d7d9dadbdcdddddedfdfe0e1e2e4e5e5e5e4e3e3e2e2e1e1e1e0e0e1e0e0dfdedbd9d7d5d3d2d0cececccbc9c8c7c5c4c3c1c0bebdbcbbbab9b8b7b6b5b4b3b2b1b1b0b0aeaeaeaeadadadadadacacabaaaaa9a7a6a5a4a29f9c99979795959494939291908f8e8c8b8a888786848384838382817f7d7b797978797a7c7f818487898a8a89888584807d79777572706d6b68676765646564636464656566686a6a6d6e7072767778767572706f6d6c6c6c6e6e6f717173747576767676767677777878797a7a7b7c7d7e7f818283848385888c8e909291929294949496969797999a9d9fa1a3a6a8abadafb2b4b6b8bcbdbfbfc1c1c3c4c5c8caccced1d1d5d6d9dadcdcdddddededfe0e0e1e2e3e4e5e5e4e4e3e2e2e2e2e1e1e1e1e1e1e0dedddbd9d6d4d3d1cfcecccbc9c8c7c5c5c3c2c0c0bebcbbbbb9b9b7b7b5b4b3b3b2b1b1afafaeadadacacacacacababaaa9a8a7a6a6a4a2a19f9c9997969695949492918f8f8d8c8b8a898887858383828182807f7e7d7b7a7a79797a7d7e808386888888878683817f7c797674716e6c6a6866656363636262626263636567686a6b6e707274777774736f6d6c6c6b6a6b6a6c6c6e6f707273747474757576767777787879797b7c7c7e7f808282828385888c8f909091909192929393949596989a9b9d9fa1a4a6a9acaeb1b3b5b8bbbcbebfc0bfc1c2c5c7cacbcecfd2d4d6d8dbdcdddfdfe0e0e0e1e1e2e3e4e5e5e5e5e4e4e2e2e2e2e2e1e1e2e0e1e0dededddbd8d5d4d2d0cecccbcac8c7c6c5c4c3c1c0bebebcbbbab9b7b7b6b4b4b3b3b1b0b0afaeadadabacabacabaaaaa9a7a7a6a5a5a3a19f9e9b99969494939291908f8f8e8d8b8a8a8888868583818180807f7d7d7c7b7b7978797b7b7d7f82848686858482817f7d7a787573706d6b69666463626161615f60616162646566696a6d6f7274777573706e6b6969686868696a6a6b6d6e6f70717172737474757676777879797a7b7c7d7f8081828383868b8d8f909090908f9090909192949496989a9b9da0a2a4a7a9adafb1b3b6b9babcbebfbebec1c3c5c8cacccfd2d3d6d8dadcdedfe0e0e0e1e1e2e3e3e4e5e5e5e5e4e3e2e2e1e0e1e1e1e1e1e1e0dfdedcdcdad7d4d2d0cfcdcacac9c7c5c5c3c2c1c0bfbfbdbbbab9b7b7b5b5b4b3b3b1b1afafadadacabaaaaaaaaa9a9a7a7a5a4a4a3a2a19f9d9a989694939291908f8e8e8e8d8b8a8a888787858482817f7f7e7e7e7c7b7a7a78797a7b7d7d7f8284858482807d7d7b79787472706d6a6765636161605f5e5f5e5f606263646667696c6e71737674716e6b696767666666666667686a6a6c6d6e6f717172737375757777787a7a7b7d7d7e7f80818285888b8d8e8f8f8f8f8e8f8e8f8f9091929395989a9c9e9fa1a4a7aaacafb1b4b7babbbbbcbbbdbfc2c5c7c9ccced0d2d5d7d8dadddee1e2e1e1e2e2e3e4e4e5e5e5e4e4e2e2e2e2e1e1e1e0e1e1e1dfdfdedddcdbd9d6d4d0cfcecbcac8c7c6c5c3c2c1c0bfbebdbcbbb9b7b6b6b4b4b3b2b1b0afadadabababaaa9a9a9a8a7a5a5a4a4a3a3a1a09e9c9a9796949391908f8e8e8e8e8d8c8a898887878684838381807e7e7d7d7c7b7a797a7a7c7b7c7e80838281807d7c7978787674726e6b68676461615f5e5e5d5d5e5e606161636566686b6e70737673706c69676564646463646464656668696b6c6d6f707172737374767778797a7b7c7d7e7e7f818386898c8d8d8d8c8c8c8c8c8c8c8c8e8f9091939597999c9d9fa1a4a6a9acafb2b6b8b9b9bab9bcbec0c3c7c9cacdcfd1d3d5d7d9dbdddfe1e1e2e3e3e4e4e5e5e5e4e4e2e3e3e2e1e1e1e1e1e0e0e0e0dfdedcdbdbdad8d6d2cfcecccac8c7c4c4c3c2c1c0bfbfbdbcbabab7b7b6b5b4b3b1afaeadadacabaaa9a9a9a8a8a7a6a5a4a4a2a2a1a19f9e9c9a9895959391908f8e8e8e8e8d8c8b898988878685848381807f7e7e7d7c7b7b7a7b7b7c7c7c7d7f80807f7d7a7a7877767573706e6b68656462605f5e5e5d5c5d5e5e6062626465686b6d707374716e6b6865636262616261616162636466676a6b6c6e6f7072727474757878797b7b7c7c7d7f808486898c8b8b8b8b8a8b8a898a8a8b8b8c8c8e90929496989a9c9da1a4a6a9adb1b3b5b6b7b9b8babdbfc3c6c7c9cbcecfd2d3d5d6d9dadddfe0e1e2e3e4e4e5e5e4e4e4e3e2e3e2e2e2e1e2e1e1e0e1e0dedddddbdadad8d6d3d0cecccac8c6c4c3c3c1c0bfbebdbcbcbbb9b8b6b5b4b3b2afafadadacabaaa9a9a9a8a8a7a6a6a5a3a3a2a1a1a1a09f9d9b989794939290908f8f8f8f8e8c8a8a8988878785848381807f7f7e7d7d7d7c7b7c7b7b7c7c7c7e7e7d7c7a787776757473716f6c6a68666361605f5d5d5d5c5c5c5d5e61626366686a6d707273706c69676462605f5f5f5f5e5e5f6162636667696b6d6e6f71717374757678797a7b7c7b7d7f818284868887888788878788868686878889888a8b8e90939597999c9ea1a3a6aaaeb1b2b4b5b6b5b7bbbec2c4c6c9cbcecfd1d2d3d5d7d9dadddee0e2e2e2e4e3e5e4e5e5e3e4e3e3e3e3e2e2e2e1e1e0e0dfdedddbdbd9d8d6d4d2cfcccac8c6c5c3c2c0c0bfbebdbcbab8b8b6b5b4b3b1b0afadadadabaaaaa9a9a9a9a8a8a6a5a4a4a4a2a2a0a09e9d9c9b99989694939190908f8f8f8e8d8c8b89898887868483838181807f7e7e7e7c7c7c7d7c7c7d7d7d7c7b7978767674737272706d6c6967646362605f5d5c5c5b5b5b5c5e5f616466696b6e7073716e6b696663605e5e5d5e5d5c5c5c5e6062636566696b6c6e707171737476777979797a7b7d7e8080828384858584848484848383838385858686888a8d8f919395999a9ea2a5a9acafb0b2b3b5b5b6babcbfc1c4c6c9cbcecfd1d3d4d5d7d9dbdcdedfe0e1e2e3e3e4e4e3e4e4e3e3e3e3e2e2e2e1e2e1e1dfdedddddbdad8d7d4d3d0cdcac8c6c4c2c1c1bfbdbcbbb9b9b8b7b6b4b3b2b0afadacacabaaaaaaa9aaaaa9a9a7a6a6a5a5a4a3a2a09f9e9e9d9b9a9997959493919090908f8f8e8d8c8a888887868583828281817f7e7d7d7d7c7c7d7d7d7e7d7c7b7977767473737271706f6d6b6967656362605f5e5d5c5c5c5c5c5e5f616466696b6d7173716d6a6764625f5e5d5d5c5b5b5b5c5c5e6062646568696c6d6e707173747576777677787a7c7d7e7e80808281838182818181807f7f80807f80828385888a8d8f9396989b9fa3a7a9acaeb0b1b2b3b5b8bbbec0c2c5c8c9ccced0d1d3d5d6d8d9dadcdddedfdfe0e0e2e2e2e2e2e3e3e3e3e2e2e2e2e2e1e1e1dfdededcdad9d7d5d3d1cecbc9c6c3c2c1bfbebdbbbab8b7b6b5b4b3b2b1afaeadacacababaaabaaaaaaaaaaa8a7a6a6a5a4a3a2a19f9e9e9d9c9a999997969492929191908f8e8d8b8a898887878584838281817f7e7e7d7d7c7d7d7d7e7e7c7b787876737272727270706f6d6a696866646261605e5d5c5c5c5c5e5f616465686a6c6f72726f6b696663615e5c5b5b5b5b5a5b5a5b5c5f61626467696b6d6e6f707273747473747577797a7b7c7c7d7e7d7e7e7d7e7d7d7d7c7b7b7c7b7b7d7d7f828486898b8f9396999da1a4a8abacaeb0b0b0b3b7babdbfc1c3c5c8cacecfd1d2d4d5d6d7dadadbdbdddddededfdfdfe0e1e1e1e1e1e1e2e2e2e2e1e1e0dfdfdedddbdad8d6d5d2d0ccc9c7c4c1bfbebcbbbab9b8b6b5b4b3b2b0b0aeaeacabababababababacacabaaa9a8a7a6a5a4a2a19f9e9d9c9c9b9b9b9a99979694939292908f8e8c8b8a898888878685848381807e7f7d7d7d7d7d7d7d7e7d7c79787775727170717170706f6e6c6a6866646261605f5e5d5d5d5e60616365676a6b6e7173716d6b6864635f5d5c5b5a5a5a5a5b5b5b5c5e60626466696b6c6e6f707173737271717274767778797a797a7a7a7b7a7979797979777677777878797c7e818485898d9093979c9ea2a5a8a9abadaeaeb2b6b9bbbec0c2c5c8caccced0d1d3d4d5d5d6d7d8d9d9dadbdcdddcdddedddedededfdfdedfe0dfdfe0e0dfdddddcdadad8d7d4d3d0cdcac7c4c1bfbebcbbb9b8b7b5b4b2b1b0b0afaeaeadabacacacadacacacadacaaa9a8a7a5a3a3a1a09e9d9d9c9c9c9c9c9b9c9a9996959392918f8e8c8c898888878685848381807f7e7e7d7d7d7d7d7e7f7f7e7c7a7876737371706f706f706f6e6d6a696866646260605f5f5f5f60626365686a6b6d707273706d6a6765615f5d5b5a59595a5b5b5c5c5c5d5f616365686b6c6e6f70717271706f7070717273747576767778777776777775757574737474747576787a7d7f82868a8e9094989da1a4a6a9a9aaadaeb1b5b9bcbdbfc2c5c7c9cbcdced1d1d3d3d3d4d4d5d5d7d7d8d9d9dadbdbdbdbdbdbdbdcdcdddddddddddddddcdbdbdad8d8d7d4d2d1cecbc7c5c2c0bebcbbbab8b7b5b4b2b1afafaeaeadadadadadadadadaeadacaba9a8a6a5a4a2a19f9e9d9c9b9c9b9c9d9e9d9d9c9b99989594918f8d8c8b8a8987878585848382807f7f7d7e7e7e7e7e7e7f7f7e7b79777673737170716f706f6f6e6d6b6a6967656463616161616262636567696a6c6f7275726f6c696664625e5d5b5a59595a5b5b5c5c5c5c5e606264676a6c6d6e6f71706f6e6d6d6d6d6e6e6e70717274747474747373737372727170717071727476797c7e83878a8e93989b9ea1a4a7a8a8abadb1b6b8babcbec1c3c6c8cacccdcfd0d2d1d1d1d1d3d3d3d4d5d6d7d8d8d7d8d8d8d9d9d9dad9d9d9dadbdbdadbdad9d9d8d6d5d4d2d1d0cdcac6c3c1bebebcbab9b7b6b4b2b0afafaeaeaeadaeaeaeaeafafaeadaca9a7a5a5a3a1a09e9d9b9b9b9a9b9b9c9d9e9e9e9d9c9b9a979592908e8c8b8a8887868684838281807f7f7f7f7e7f7e7f7f807f7e7b7977757473717271717270706f6e6d6c6a696765646363626464656667696a6c6e71737473706c696663615f5d5c5a59595a5b5c5c5b5c5d5e60626466686b6d6e706f6d6d6c6b6969696869696b6d6d6e6f70707070717170706f6e6f6e6e6f6f707275777c8084888c92979b9ea0a3a4a6a7a9acb0b4b7b9bbbdbfc3c4c6c8cacccdcfd0cfcfcfcfcfd0d1d1d2d4d5d5d5d5d5d5d6d6d7d7d7d7d6d7d7d7d7d8d8d8d7d7d5d5d4d4d2d1cfcecdc8c5c3c0bebcbbbab8b6b5b3b3b1b1b0afafafb0b0b1b0b0aeadacaaa7a5a4a3a19f9d9c9b999999999a9b9b9c9d9e9e9d9d9c9b999694928f8d8c8a89888786848383828281808080807f7f7f80807f7e7b7977767373727272717271706f6e6e6c6b6968676666656566666768696b6c6e70717473726f6c69676462605e5d5b5b5a5a5b5b5c5b5c5c5d5f616466696a6c6e6d6d6b6a69686665646464656667686a6b6c6c6d6d6d6c6c6c6b6b6b6b6a6b6c6c6e7276797e81868b91959a9c9fa1a3a4a5a8abaeb3b6b7babcbec0c2c5c7c8cbcccdcdcdcececdcdcececfd0d1d2d2d2d2d3d3d3d3d4d4d4d4d4d4d4d4d5d5d6d5d5d4d3d3d2d2d1d0d0d0cecbc8c5c2c0bebdbbbab7b6b5b3b3b2b1b1b1b1b1b1b1b0afaeadaba9a6a4a3a19e9d9a9a9998979899999a9b9c9d9d9e9e9e9c9c9b989593918f8e8b8a8987868685838281818180818081807f7f7f7f7e7c7977757372737272727172706f6f6d6d6b6a69686868676868696a6a6a6b6d6f70727374716e6c6a68666462615f5e5c5c5b5b5c5b5c5c5c5e5f616366686a6c6d6c6a6a6967656462605f5f61616263646667686969696a696968686867676868696c6f73787c80858b9094989a9d9fa0a2a5a8abaeb1b3b6b8babdbec0c3c5c7c8cacbcbcccbcbcbcbcccdcececfcfd0cfd0d0d1d1d1d2d1d2d2d1d2d1d1d2d3d3d3d3d2d2d1d0d0cfcfcfcecccbc8c5c3c2bfbdbcbab9b8b6b6b5b4b3b3b3b2b3b2b1aeaeaeaca9a6a5a3a19f9d9b9998979797989898999c9c9d9d9d9d9d9d9c9c9a98959391908e8c8a8a88868585838282828182818081807f7f7f7d7b79777675747373737272717070706e6e6d6b6a6a696969696a6a6b6b6c6d6d6e70707273716f6d6b6967656463615f5e5d5c5d5c5c5d5d5e5f6062636567696a6c6a6a68676563615f5d5c5b5b5c5e5e5f60626364656665666666666664636464666a6d71767a7e848a8f9396999a9ca0a2a4a8aaacb0b3b5b8b8bbbdbfc1c4c6c7c8c9c9c9c9c9c9c9cacbcccdcececfcececececfcececfcfcfcfd0cfd0d0d0d0d0d0d0d0d0d0cfcecdcecccbc9c8c7c3c2c0bdbdbbbbb9b8b8b6b5b4b4b4b4b3b1afaeadaba9a8a5a3a19f9d9b9997969696969798989a9b9b9c9d9d9d9d9d9d9d9c9a9997949391908e8d8b8a878785848483828281818180807f7e7d7b7977767575747474737372717070706e6c6c6c6b6b6b6b6c6c6c6c6d6e6e6f7070717172706f6d6b69686765636261615f5e5d5d5e5e5e5e606163646566696b6b696867656462605d5b595858595b5c5d5e5e5e6061616263646465636260606264686b6f75787e84898e929597999b9ea1a4a7a9acafb2b4b6b8b9bbbec0c2c4c5c5c7c7c6c7c7c8c8c9cacacccccccdcdcccdcccccbcccccccdcdcdcecdcececfcecfcecfcecececccbcbcac9c8c6c6c3c1bfbdbdbcbbbab9b9b8b7b6b5b4b4b2b0aeacabaaa9a6a4a2a09d9b99979694949495969798999a9b9c9d9c9d9c9d9c9c9c9c9b9a9996959391908d8b8a8988878585838382828180807e7d7d7c7a777675757474747473737271706e6d6d6c6c6c6c6c6c6d6d6d6e6e6f6f7070707170716f6e6d6c6a6967666463616160605f5f5f5f6060616263646568696a6a6968666563615f5d5b59555557595b5b5c5b5c5d5e5e6162646464625f5e5f6164676b6f73777f858a8e909496989b9ea1a4a6a8abadb0b2b5b7b9bbbdbfc1c1c2c2c3c5c5c5c5c6c6c6c8c9c9cacbcbcccccccccbcacacbcbcacccccccccdcccdcdcdcdcdcdcccccacac9c8c7c5c5c4c3c1bfbebcbcbcbabab9b8b7b6b6b5b3b1afadababa8a7a5a3a19e9b98969595939393949495969797999a9a9b9b9b9b9c9c9d9e9e9d9b9a99979592908f8c8b8a898786858483828180807f7d7d7b79767676757575747573737372716f6e6e6e6d6e6e6d6d6e6e6f6f706f707070707170706f6e6d6c6b696766666463636261616061616061626364656668696a6a69676663615f5e5c5a57555455585b5b5b5b5b5b5c5c5e5f6363625f5d5c5e6163676a6e74797e86898d909495999b9ea0a3a5a8aaadb0b2b5b7b8bbbdbebfbfbfc0c1c2c2c2c2c2c2c3c5c6c6c7c8c8cacacbcbcbcbcacacacacacbcacacbcbcbcbcbcbcbcacacac9c8c7c6c6c5c4c3c2c1bfbdbcbbbbbab9b9b8b7b7b7b6b2afaeadaba9a7a5a4a19e9c989694949392929292939293939496979999999a9b9b9d9d9ea0a09f9e9c9b989593908f8d8c8b8a88878684838281807f7d7c7a77777675757575757474737371706f6f6f6f6f6f6e6e6f6f6f6f706f706f7070717070706f6e6d6c6b6a68676565646363626362626262626364656667696a6a6868676563605f5d5c595755535557595a5b5a5a5b5b5b5c5e61615f5d5a5d5e6164676b6f747b81858a8d909396999b9fa1a3a4a9aaadb1b3b4b6b8babbbcbcbcbdbfbebebfbfbfbfbfc0c1c2c3c4c5c7c8c8cacacbcacac9cac9c9cac9cac9c9cacacacac9cac9c8c8c7c5c4c5c3c4c3c2c0bfbdbcbbbabab9b8b7b6b6b6b3b1afadacaaa8a6a3a29f9c999795939292908f8f8f90909090919394959697999a9b9d9d9fa1a2a2a19f9e9b989492918f8e8d8c8a8987858383817f7e7c7a79787675757574757575747372717170706f6f6f6f6f6f6f6f6f6f70707070717171727170706f6e6c6a6968676665656564646463626363646365666768696a696868666563605e5d5b595755545455575758595a5a5b5b5c5c5f5f5e5c5b5c5f6264686b70757d82858a8e909497999b9da0a2a5a8abadb0b2b3b5b6b6b8b9b9bababbbcbdbbbcbdbdbebebebfc1c1c3c4c6c6c8c9c9c9c9c9c8c8c8c9c8c9c9c9c9cacacac9c9c9c8c7c6c5c4c4c4c2c2c1c0bfbdbbbbbab9b8b8b6b6b7b4b2b1afadaba8a6a4a2a09d9a97949392908f8d8c8c8c8d8d8c8c8e8e8f91939698999b9c9fa1a1a3a2a2a19f9d9a979592918f8d8d8b8987868582817f7c7b7977767575747473747474747272717170706f706f706f7070707070707070707272727271706f6e6d6b6b69686867666665656564636463646465656667686969686868676563605e5c5a58565553545354555657595a5b5b5b5b5c5c5b5a5a5c606265686d73787e83878b8e9094969a9c9da0a3a6a8aaadafb1b3b4b5b5b6b7b7b7b8b9b9bab9bababababbbbbcbdbfc0c2c3c4c5c6c7c8c8c8c7c7c8c7c8c8c8c9cac9c9cacac9c8c7c7c7c5c4c4c3c2c2c1c0bebdbcbabab9b8b8b7b7b6b3b1b0aeacaaa6a3a2a09d9b989492908f8e8c8a89898888888889898a8c8e919295989a9c9fa1a2a3a3a3a1a09f9c9a979592908e8d8b8a88878482807f7c7978767575747372737373737272727171716f6f707070707070707070707071717172737271706f6e6c6c6b6a6968676766666665646463646465666668686968686868686664615f5d5b595654555454535253535558595a5a5a5a5a5a595b5b5c5f6264696e757a8083878b8d919396999c9da0a4a6a8aaacaeafb0b1b2b3b4b4b5b5b6b6b7b6b8b7b7b7b8b9b9b9babbbcbec1c2c4c5c6c6c6c6c6c6c5c6c6c6c7c7c9c8c8c9cac8c7c6c6c4c4c4c3c2c2c1c1c0bebdbbbbbab9b8b8b7b7b5b3b1afadaaa6a3a19f9e9b989592908f8c8a8887868585848485858587898c8e919395999c9fa1a2a3a3a2a0a09f9d9b989794918f8d8b8987848481807c7a7977747473727372727272727172717170706f70706f707070706f6f707070707172727271716f6e6d6c6a6a696868676766656564646463646465666768696869686868686664615f5c595654535353535251505153555758575858575658595b5e6063656a71757b8083878b8e919496999a9ea1a3a5a8aaacadaeafb0b0b1b2b2b3b3b3b4b5b4b5b5b5b5b6b7b7b7b7b8b9bcbec0c1c4c3c5c4c6c5c5c5c5c6c6c6c6c7c8c8c8c8c7c7c6c6c5c4c4c3c3c2c1c0bfbebcbbbbbab9b8b8b8b7b5b3b0adaba7a3a09e9d9c9894918f8d8b8a87858482828281818182838486888a8e9295979c9fa1a1a1a2a2a1a09e9e9b99969592908c89878482817f7e7b787775747372717271717272727271707170706f6f7070706f70706f70706f717171717270706f6e6d6c6b6a69686868676666656464636463656566676868696968686868676663605e5b595554515151514f4e4e4f51525453555655535456575b5d6163676d72777c8083878b8e919397999b9ea0a2a5a6a8aaacacadafafb0b1b1b1b1b1b2b2b2b2b2b3b3b4b4b5b5b5b6b6b8babcbfc0c2c3c4c4c4c4c4c4c5c5c6c6c7c7c7c6c7c8c7c6c6c5c5c4c4c2c1c1c0bfbdbcbbb9b8b7b6b6b6b6b4b1aeaba8a5a29e9c9a9895928f8e8c8987848280807e7e7e7d7e7e7f828385888b8f93979b9ea0a1a1a1a1a1a09e9d9b999795918f8b888582807e7c7b7876757372727171717171717171717070706f6f6f6f6e6e6e6f6f6f6f6f6f7070707070716f6f6e6c6b6b696968676767666666656464646464656567676868696969696968666463605e5c5a56535150504e4c4c4a4b4d4e4f4f505250505153575b5d60646a6f74787d7f82878a8e919496999b9ea0a2a5a4a6a7aaabadadaeafafb0afb0b0afb0b0b0b0b0b1b2b3b2b2b3b2b4b5b6b8bbbdbec0c1c2c3c3c4c5c5c5c5c5c6c6c6c6c6c6c7c7c6c5c4c4c3c2c1bfbfbdbcb9b8b6b4b3b4b3b4b5b2b0adaaa6a29f9c999894928f8c8b89878582807e7d7b7a7a7b7a7c7d7e8183878a8d91969a9d9e9f9f9f9f9f9e9d9c99989593918d8a8783807c7a78767574727270717070707070707070716f706f6e6e6e6e6d6e6d6e6e6f6e6e6e7070707070706f6e6c6b6a69686767676665656565656465656565656667676868686969696968676664615e5d59565451504d4b494847494a494a4b4d4e4e4d4e51555a5d62666b70757a7d7f82858a8e909496989a9c9fa1a3a2a4a5a7aaabacacadaeaeafafafaeaeadadadafafb0b1b1b1b2b1b1b2b3b6b8babcbdbebfc0c2c2c3c4c5c5c6c5c6c5c5c6c6c6c6c5c5c4c3c2c0bebdbcbbb9b6b4b2b1b1b1b1b1b1b1aeaba8a4a19d9a9795918e8c8a898785827f7e7b7a79787877787a7b7c7f8184888b9095999c9e9e9e9e9f9d9b9b9a989693918f8c8984817d7a777572727070706f6e6f6f6f6f6f706f70706f6f6f6e6c6c6c6d6c6c6c6d6d6d6d6e6e6f7070706f6e6c6b6a69686766676666666665656465656565656667666767686869696a6a6867656361605d5a5654514e4c494645444647464647484a494a4b50545a5f63696e71767a7d808186888c909395989a9c9d9fa0a0a1a4a6a9aaababacadadadadadacabacabacadadafafb1b0b0b0afb0b2b4b6b7b9bbbbbdbebfc0c1c3c3c4c4c4c5c5c5c5c5c6c5c3c2c2c0bfbebcbbb9b7b5b2b1b0afaeaeb0b0b0b0adaaa6a29f9b9996938f8c8988878582807d7a7978777676767779797b7c7f8285898e92979a9c9d9c9d9c9b9a9a98979492908c8a87837f7b777471706e6d6d6d6d6d6d6e6e6e6f6f70706f6f6f6e6d6d6d6c6c6c6c6c6c6c6c6c6c6d6e6e6f6e6d6c6b6a696867676766656566656565646566666666666667666667686a6a6a6a69676664615f5c595754504d4b494644434344424142434545464a4d53595f65696e72777b7c7f8285888c8f92969898999b9d9e9da0a3a4a6a8a8aaaaabababacababaaaaaaabacacacaeafafafaeaeafb0b2b4b5b6b8b9b9bbbbbdbfc1c1c2c3c3c4c4c4c4c5c4c2c2c1bfbebdbbbab7b5b4b2b0afadadaeadaeaeafaeaba8a4a19e9b9895908c89878483827f7c7a79777675757575777778797b7d8083868a8f9397999b9b9b9a999998969492908d8a8783807c7874716f6e6c6b6a6a6b6b6b6b6d6d6f6e6f6e6f6f6f6e6e6c6c6b6c6c6b6b6b6b6c6b6c6c6d6d6e6d6b6a696968676767666666666565656465656566666666666666676768696a6c6b6b696765635f5c5956524f4c4b4845444343413f3d3e40424345474d52575e646a6e72777b7c7e8185898c8f9293959697999a9b9b9ea0a2a5a7a7a8a8a9a9a9aaaaaaaaa9aaaaaaaaacacadaeadacadadafb0b0b1b3b5b6b7b8b9bbbcbebfc0c1c1c3c3c4c3c4c2c2c0c0bebcbab8b6b5b3b0afaeaeadacacabacacadada9a6a3a09e9b98928d898582817f7f7c797876757373727374757677797b7d7f8285898c909597999b9a9a9997969592908d8b8785827e7a76726e6c6a686868676768696a6b6c6d6e6e6e6f6f6f6e6d6c6c6b6b6b6a6a6a6a6a6a6b6c6d6d6c6b6a69696868676666666765666665656565656666666666666667666666696b6b6c6c6b696765615e5a55524e4c4a4745444341403d3c3b3d404144484c51575e646a6d7276797b7f8185898c8f919292939596999a9a9ca0a1a3a5a6a7a7a6a7a8a9a9a9aba9a9a9a9aaababadadadacacadadadaeafb0b2b4b4b5b6b8b9babdbfbfbfc1c1c3c3c2c1c0bfbdbcbab7b6b3b2afafaeaeadacabaaaaabacacaca8a6a2a09d9b96928c86827f7d7b7b79787674737271717272747677797a7c7e8183868a8e92959798989897979493918e8a8785837f7c7975706d6b6867666566666767686b6b6d6c6d6e6e6f6f6f6e6c6c6b6b6a6a6a6a696a6a6b6c6c6c6b6b6a69686867676766666667676666666565656565666665656566656566686b6c6d6d6c6b6965625e5b56534e4c4a48464543413f3d3c3c3e3f4246484c51575d64696c7074777a7d8185888b8f8f90909192949798999b9ea0a2a4a3a5a5a6a6a7a7a9a9aaa9a9a9a9a8aaababacacacacacacacadaeafb0b2b3b3b4b6b6b8babbbdbebfc0c1c1c1bfbebdbbbab8b6b4b2b0aeadacacacababaaababababaaa9a6a3a09d9b96908a837f7c7b7a7877757372717070707172737577797b7d7e808286888d8f9294969697979594928f8d898683817e7a7774706c69666464646464656668686a6a6c6d6d6d6e6f6f6f6e6b6b6b6a6969696869696a6a6b6c6b6a6a69696868676766666767676767666565656565656565656564656566686a6c6d6e6e6c6b6763605c5854504d4a4847454442403e3d3e3f4244474a4d51565c61686c707375797d8284888c8c8c8d8e8e8f919596979a9c9ea0a2a3a3a4a4a5a6a6a7a8a8a8a8a8a7a8a8a9aaababadacacacacabacadaeb0b2b3b5b5b5b7b6b8b9bcbebebfc0bfbebdbbbab8b6b5b4b1afadacacacabacabababaaaaaaa9a8a5a29f9c99948f88827d7b79787674727270706f6f6f6f71737577797b7c7d7f8285888b8d9092939394949391908f8c888582807c7977736f6b676462626261636464666767686a6b6c6c6d6e6f6e6e6d6b6a6a696968686969696b6b6b6b6a6a69696868676767676767676667666565656565666565646464646466686b6c6e706e6d6b6864605c5855514e4b494746454343414041434547494c4f51565b60666b6e7174787c808588898a8a8b8c8d8e90939497989a9d9fa1a1a2a3a4a4a5a5a6a8a7a7a6a6a6a7a7a8a9aaabababacacababaaabadafb1b1b2b4b4b4b4b5b7b9bbbcbebfbebcbbbab9b7b5b5b3b0aeadacabacababababaaaaa9a8a8a7a6a29f9b97928c87827e7a7877747272706e6e6e6e6f70717476787a7b7c7e808185878a8c8f9193939292918f8e8c898682807e7b7975716e6a666361615f6061626364656667676969696b6b6d6d6e6e6d6b6a69686868686969696a6b6b6a696a696968686768686868676767666666656565646564646463636466696c6e7171706f6c6965615d5956524f4c4a494846454444434546474a4b4d5052555a5f64696c7074787b808386888888898b8a8c8e91939597999b9c9ea0a1a2a3a4a4a5a5a6a7a7a6a5a4a5a6a7a8a9aaaaaaaaacaaaaa9ababadafb1b1b2b2b3b4b5b6b7b9babbbdbdbbb9b8b8b6b4b2b1afaeacacacacacababaaa9a7a7a6a5a4a3a29e9a96908b87827f7b78767371706e6e6d6e6e6f70727376787a7c7d7e81828387898c8e9191929290908e8c8b8784817f7d7b7874706c6864615f5e5e5e5f5f606263646565666768696a6b6c6e6e6e6c6b6a69696969696a6a6a6a6b6b69696969696969686868686867676666656565656563646463636464666a6d70727371706c6a65625e5a56524f4d4c4b49484847474647494a4b4d4e505255595f63686c707376797e83858686878788898a8c8e91929496999b9d9fa1a1a1a2a2a3a3a4a5a5a5a4a3a4a4a6a7a9aaaaaaaaaaaaa9a9aaaaacadaeafb0b1b2b3b3b4b5b7b8babbbbb9b7b6b6b5b3b2b1b0aeadacabacaba9a8a8a6a5a5a3a2a1a19f9d9894908c87837f7b787472706e6d6d6d6e6f6f70727476787a7b7d7f808284878a8c8e8e9091918e8f8d8c888682817d7c7a77746f6b67625f5e5c5b5c5c5d5d5f606263636465666768696b6c6d6e6e6d6c6b6b696a6a6a6a6a6b6b6a6a6a6a6a6a6969696868676766666566656565656463636363646465686b71727373726f6c6966625f5b5753504e4d4c4b4b4b4b4a4a4b4c4c4d4d4f5152565a5f63666b707275797d8181828383858686888a8c8f8f92949699999c9e9fa0a0a0a1a2a2a3a4a4a4a3a2a3a4a6a8a9a9a9a9aaaaa8a9a9ababacadaeafb0b1b1b2b2b3b4b6b8b8b8b7b5b4b3b3b2b1b0afafadacabaaa9a8a7a6a4a3a2a1a0a09f9d9a96928f8b8784807b787572706e6d6d6e6e6f70727476777a7b7c7e7f81828487898b8d8f9090908f8e8d8a878481807d7a7976746f6a66615d5b5a5959595a5b5c5e5f60616364656667696a6b6c6d6e6e6e6d6d6c6d6c6b6b6b6b6c6c6b6969696a69696869686766666666656565646463646364636465676a6f72747473736f6d6966635f5c585552514f4d4e4d4e4d4d4e4f4f4e4e4f505254565a5e62676a6e7375787c7f807f818282848587888a8e8f90929597989b9d9e9d9f9f9fa0a0a1a2a3a2a3a3a3a4a5a6a7a8a8a9a9a9a9a9aaaaabababacaeaeafafb1b1b2b3b4b6b7b5b4b3b3b3b1b1b0afafaeadabaaa9a8a6a6a5a3a29f9f9e9e9e9c9895928e8b8884807d797572716f6e6e6f706f7174767778797d7f7f7f81838487898b8c8e8f8f908f8e8b8a8785817e7c7b7a76736f6b65605c59595758575858595a5c5e5f606163656668686a6b6c6d6f6f70706f6f6f6e6d6d6e6d6c6c6a6a6a6a696968686867666665656564656463646364646566686a6d7275767573726f6d6a6765605e5955545150505051515150505151515051535456575b5e63666a6e7275787a7c7b7d7d7e8081838587898c8d8f91929596989b9b9c9d9d9e9e9fa0a0a1a2a2a2a2a2a2a4a6a6a6a7a7a8a9a9aaaaaaa9aaabacadaeafafb0b1b2b3b4b5b4b3b2b2b2b1b2b0afaeaeadaba9a7a6a4a3a3a19f9e9d9d9d9c9b9795908e8b8784817d7a7674726f6f6e6f707072747678797b7e7f808183848586898a8c8e8e8f8f8d8c8a888785817e7c7a7977736f6a655f5b595756565656565658585b5d5e60626465666768696a6b6d6f70717272717170706f6f6e6d6c6c6b6a6b6a696969686766666565646564646564656667696c6e71747576757472706c6a6765615e5a57555453525353545453535354525353545557595b5f64686a6d7174757679797a7b7c7e7f828385888a8b8d8e91929597999a9a9c9c9c9d9d9e9fa1a1a1a1a0a0a0a2a4a5a5a5a5a7a7a9a9aaa9a9a9a9aaacadaeafafb0b2b3b4b4b4b2b2b2b2b2b1b0aeaeadaba9a7a5a4a2a2a19f9e9c9b9b9a9a999794908e8b8784817e7c797573717070707172747577797a7b7e80808185868788898b8c8d8f8f8e8e8c8a898785817e7c7b7976736f6a645f5b58565655555554545557585a5c5d5f616264656567696b6c6d6e6f707173737372727171706f6f6e6d6d6b6a6b6a69696867666565666566666768696b6e707273757777777571706d6b6865645f5b595756565655555554555555565655545757585a5d6166696c6e6f70717274767778797b7d8081848689898c8d8f91929596989a9a9b9c9b9b9c9ea0a0a0a09f9f9f9fa1a2a3a3a5a5a6a8a8a9a8a8a9a9a9abacadafafb0b2b2b2b3b2b1b0b1b1b0b0afaeacabaaa8a5a4a3a2a09e9d9b9b99999998979694928f8c888583807d7a7775737371727273757778797a7c7e818183848688898a8a8c8e8f8e8e8d8b8a898785827f7d7b7976746f6a645f5b585554545353545453545658595b5c5e5f6162646567696a6b6d6e6f707173737474737473727271706f6e6e6d6d6b6b6a6a696868686767696a6b6d6f707274757778777674726f6d6a686563605d5c5a59585757575756575656565555555757595b5e6166696a6a6b6c6d6f7172747577787b7d7f828487878a8b8d8f9092949698999a9a9a9b9b9d9f9f9f9e9e9d9e9ea0a1a2a3a3a4a5a5a7a7a7a8a9a9a9aaabacadaeafb1b1b1b2b2b0b0b0afafaeaeacaba8a7a4a4a3a2a19e9c9b989897969696959394938f8d898784817f7c7a787775747375757677797a7b7d7f8182838587898b8b8b8c8d8f8e8e8d8b8b898785827f7e7b7976746f6a645f5b5855525353535453535353555657585a5c5e606163646768696b6c6e6e707172737474747574747473737272716f6f6d6d6d6b6b6a6b6b6b6d6e70717273757576777777767471706e6b696563605e5d5b5b5a5a595958585858575757555657585a5c5f62666767666667696b6d6f71727476797b7d8083868587898b8c90919394969798999a9a9b9c9e9e9e9e9e9c9d9d9e9fa0a0a2a3a2a4a5a5a6a7a8a8a9a9a9aaababacaeafafb0b0afafaeadacababa9a8a7a5a4a2a0a09f9c999897959494949392919191918d8a888582807e7c7b7a787677777778797a7b7c7e818183848687898a8c8d8e8e8f8f8e8d8d8b8b888683817e7c7a7775706a645f5b575551525252525251515051535456575a5b5d5f6263656768696b6c6d6e707071737373747475757676757574727270706e6e6e6e6e6e6f7071737475757575767777767573716f6d6b696563605e5d5d5d5c5b5b5a595958585858575858585a5b5e5f616262626162636566696b6d6f727375797b7c7f82828687888a8d8f9193949698989899999b9b9d9d9d9d9c9c9b9c9d9ea0a0a1a2a2a4a4a6a5a7a7a7a8a9a9aaaaabadaeafb0afaeacababaaaaa8a7a6a4a3a1a19f9f9c9a97959493939191908f8e8e8e918f8b8886848280807e7d7b7a7a79797a7b7d7e7e80828283858788898a8c8d8f8f8f8f8f8e8c8c8a888683817f7c7b78756f6a645e5a5654515151515150504f4f5051525557575a5c5d606264656667696b6c6d6e6e6f707172737374767676767676747472727170707070707172747576767676767677777574726f6e6d6b68666462605f5e5d5d5d5c5c5b5a595959595959595b5b5c5f5f5e5d5e5e5e5e5f606365686a6c6e707375787a7c7f7f838486888b8d8f9092949697989898999b9c9c9c9d9c9b9b9a9b9b9d9ea0a0a1a2a4a4a5a6a7a7a8a8a9a9aaabacadaeaeadacaba9a8a6a6a6a4a3a1a09f9e9d9c9a9794939190908f8d8d8b8b8b8b8d908d8a8785848382807e7e7d7d7c7b7c7d7f7e80818383858688888a8c8d8e90909090908f8c8b8a88868482807e7b78767069635f59565352515150504f4e4e4f505051545657595a5d5e6062646567686a6a6b6c6d6e6f7071727274757575757575757472727271707172727374767776767575767576757473716f6e6c6b6866636260605f5e5e5d5d5d5b5a5a5a5a5a5b5a5b5c5c5d5c5a59595859595a5b5c5e626466686a6c6e727477797c7d7f818386898b8c8e8f91939696969898999a9b9c9c9c9a9999999b9c9c9e9ea0a0a1a3a3a4a5a6a8a9a8a9a9abacacacacaba9a9a7a6a4a4a2a2a09f9e9c9c9b99969492918e8d8c8c8a89888787898a8d8d8b89878685848381807f7f7e7e7e7f8080818283858687898a8c8d8f8f91919191908f8d8c8a88868483817e7c79746f6a655f5a575453515050504e4e4e4e505153545556595b5c5d5f616264666668696a6b6d6d6f6f70717273747374737474747372727271737273747575767776767574757474747372706e6c6b6a69666562615f5f5f5f5e5e5d5d5b5b5a5b5b5b5c5c5d5b5a585655545555565657585b5d61626466686b6f727576797b7c7e818386898b8c8d8f91939596979897999a9b9b9b99999899999a9c9d9d9ea0a1a1a3a3a4a5a7a8a8a8a9aaabababa9a8a7a6a4a4a2a1a09f9e9e9c9b9a999793928f8d8c8b8989898785848585878a8c8c8a898887868584838381808181828183828385868788898b8c8e8f909291908f908f8f8d8b89878482817f7c79736f6b65605d59565352504f4f4f4e4e4f4f5152545556585a5b5d5e606262646668686a6b6b6c6e6f707071727272737273737373737374747575767677767776767574747474737372716f6c6c6a69686665646260605f5f5f5e5e5d5c5c5c5d5c5d5d5d5b59575352504f51505253535456595c5f616365686c6f727477787a7c7e808386878a8b8e8f92939596979798999999999999989898999a9b9c9e9f9fa1a2a2a3a4a6a7a8a8a9aaa9a9a8a7a6a4a4a1a1a0a09f9d9c9b9b9998979592908e8b898888868584828183838587898c8c8c8a89878786858584828383848383838686888988898c8d8f909091918e8e8e8e8e8d8b8988868482807d7975706c6763605b585452504f4f4e4e4e4f50515254545658595c5c5e60616364656668696a6b6c6d6f6f7071717172737373737374767776777878777877787676757474737373737372706f6c6b6a686866666463616160605f5e5e5d5d5d5c5c5d5e5c59585652504d4c4b4c4d4e4e4f505254575b5e616266696c6e72757576797b7f818285878a8b8d8f91949696979697989999999898979897999a9a9c9e9fa0a1a1a2a2a4a6a7a8a8a8a8a7a6a4a4a3a1a09f9e9e9c9b9a999897979592918f8c898785848583827f7f7f7f8285878a8c8c8b8a8888868686868584858586868587888988888a8c8d8e8e8f91908e8c8c8c8b8b8b8a888685827f7d7873706c6a65625e5b57545151504f4f4f5051525353545658595b5c5e5f61626364656768696b6b6d6f6f7071717273737474747677797a7a797a79787877787675747474737272727372706f6d6b696867666664626161605f5f5f5f5e5e5d5e5d5c5a595754514e4b494746464749494a4b4e4f5356595c5f6366696c7072727477797d7e808385878a8b8d8f92949495959696989898989897979899999a9b9d9e9fa1a0a2a1a3a4a6a6a6a5a5a4a3a3a3a2a09f9e9c9b9b9a9a989695949292908e8b888684838281807d7d7c7e7f8285888a8d8d8c8989888888888786878787878788888a8b8b8b8b8d8d8e8f8e8d8c8b898a8a8a8888878686827e7b7874716e6b6865615d5a575353515051515151525254555658595b5d5e5f61626364666668696a6b6e6e70717272737475757777787a7a7b7b7b7a7a797978777575747473727171737372716f6e6c6a69696766656362616060605f5f5f5f5d5c5b5a585552504e4947454241414244454648494c4f5255585c5f64676a6c6f6e717477797c7e81838588898b8e909293949494969798999898979797979798999b9c9e9fa1a1a1a3a3a5a5a5a4a3a3a2a2a1a09f9e9d9b9a9a989794949492918f8e8d8b8884828281807d7c7a7b7c7d7f8386898b8b8d8c8b8a898a89898888888988898988898a8c8c8c8d8e8d8d8c8c8a8a888687868685858484827e7b7774716f6d6b6765605d5957565354525252535354555758595a5c5d5f6062626364656767696b6c6e6f71717374747676787879797b7b7b7b7c7a79797877777674747373727172727272716f6d6c6b696968676664626360605f5f605f5d5b5b595655524f4c494643413f3c3d3d3f40414345474b4e5154585c5f6366696c6c6e7275787a7d7f80838586898c8e9192939393949596989898979797969898989a9c9e9fa0a0a0a2a2a3a3a3a2a2a0a1a09f9e9e9d9b9999979795949291908f8f8d8c8a878482807f7e7c7b79787a7b7d818386888b8b8c8b8b8b8b8b8b8a8a8a8a8a8a8a8a8a8a8b8c8d8d8e8d8c8a898787878484848383828282807d7a777573716f6d6a66625f5b5a58575656555555555657595a5b5c5d5e6061626363656667686a6b6d6e71727374757576787879797a7a7b7b7b7b7a7a797977777674737373737172727372706f6e6d6b6a6968686665646361605f5f5e5d5c5a575654514d4b494643403e3b3938393b3c3e3f4144474a4d5054595c5f636669696c707376787a7d7f818384878b8d909192929192939596979797969796979798999a9b9e9f9fa1a1a2a2a1a1a19fa09f9e9e9d9b9a99979796949391918f8e8d8d8d8b8a8883807f7d7c7b79777778797c7e818487898a8a8b8d8c8c8b8c8b8b8c8c8c8b8a8a8b8b8d8c8d8e8d8c8a89888685858483828281807f80807d7a78757474716f6c6764625f5c5b5a595959585757585a5b5c5d5d5f5f6062636466676768696a6c6e707374757676767778797979797a7a7b7b7a7979787877767574737273737172727271706f6e6d6c6b6a6867676564626060605f5d5b59575553504e4b484542403d3b373634353738393b3c3f4246494e5155595d616367676a6d707476787a7c7e818386898c8e919191909192949495969696969696969798999b9c9d9e9fa0a1a09f9f9e9e9d9d9d9c9b9998979695949392908f8e8d8c8c8b8c8985817f7d7b7b7978767677787a7d7f83858888898b8c8d8d8d8d8c8c8d8d8d8c8b8b8c8c8c8d8d8d8d8b8988868583828382807f7e7d7e7f7f7c7a7876767473706d6a676461605e5d5d5d5b5b5b5b5b5c5e5f5f5f606163646566676768696b6c6e70727475767677767778797979797979797a7a7a7a7878777575747373737272737271716f6f6e6d6b6b6968686866646261605f5d5b5a575553514e4a484543403c3a383432313132343536383b3e42464a4d53565b5e606465686b6e717377787a7c7e8184878a8e9090908f909191929495959696969696969797999b9d9e9d9f9f9e9e9e9d9c9c9b9a99989796959494939291908d8c8b8b8b8b8a8885827e7c7b7a787775747577787b7e8084858687898a8d8e8e8e8d8c8d8d8d8c8c8c8c8b8c8d8d8d8c8b89878582818181817f7d7c7c7c7d7e7c7b7977777674726f6c6a676463616160605f5f5d5d5f5f606161616262656667676869696a6b6d70727475777776777677777878797879797a7b7a7a797878777675747474737373727271716f6e6e6d6c6b69696766656463605f5d5c5c595754514d4a4745413f3d3a3734302e2e2e2f2f303133363c3f42474b4f54595c5f626265696c6f727476797a7c8083868a8c8d8f8f8e8f8f9191929294959796969696969799999b9c9d9d9e9d9c9c9a9a9a99989897969594939291908f8d8c8b8a898988888684817e7b7a79777574737476787a7c7f82858686888a8c8e8f8e8e8d8e8e8e8d8c8c8c8c8c8c8d8e8c8b898684817f7f7d7e7d7d7b7b7b7c7b7c7b797878777674716e6b696766646464636362606160616162636364646668686a696a6c6c6e6f717274767677767777777877787979797a7a7b7b7a79797777757575757474737373727171706e6e6d6c6b6a6967656463615e5c5b5b595654514e4a4845413f3b383633302d2b2a2a2b2b2b2d3034383d4144494d5155595d606164676a6e70727576797c7e818488898c8d8e8d8d8e8f90919293959696969596959697989a9b9c9c9c9d9b9a9a99989898969694939291908f8e8d8b8a8888878786858482807d7b797776757473757676797a7d8083848586888a8c8e908f8e8e8f8e8e8d8d8d8d8c8c8c8d8d8b8a8683817f7c7b7a7a797979797b7b7b7b7b7a7a79777573716e6c6a69676767676765656463636464656565676868696b6a6b6d6e6e717173757577777677767777777879797a797a7b7b7a7a787877767575757574747373727271716f6e6d6b6a686765636261605d5b59565554514e4b4846423e3c383633302d2c2a2928282728292c31353a3e42464a4f53585a5e5f6366696c70737476787a7e818386888b8c8c8c8c8e8f90909192939495959695959796979a9b9c9c9b9b9a98979796969694949493918f8f8e8c8a898888868686858483817f7c7a797876747373747476777a7c7e81838486888a8b8d8f908f8f908f8e8d8e8d8d8e8d8c8d8d8c8b8783817d7a7977767676767878797a79797b7b7979777572716f6d6c6b696a6a696869676767676766666767696a6a6c6c6d6e6f70727274757677777677767677777878797a79797b7b7a7a797877767676757676747373727270706e6e6d6b696665646361605f5d5a585653504f4c4945433f3b383532302d2b29292826252525262a2e33373c4043484d5155595c5e6165686b6d717375787a7d808385878a8b8c8c8c8d8e8f90919292949495959596969798999b9b9b9a9999979796959595959493918f8e8d8c8b89878786858483838382817e7b79797776757372737375777a7c7e808183858788898b8d8f9091908e8e8d8d8e8f8e8e8d8c8d8d8a8885817d7a78757372737475777777787878797a7a78777473716e6e6e6d6d6d6d6d6c6c6b6b6a6a69696969696a6b6b6d6d6e7071727374767677777777767777787879797979797a7b7a7a79787777767676767574747272716f6e6e6d6b6a676664636261605e5c595754514f4c494744403d3934322e2c2b292827262523222225272d3135393f42474c5053575c5d6164676a6d707274777a7d7f838487898a8b8b8c8d8d8e8f919293939494949495959697999a9a9a989898969694949493949492908f8d8c8b89878785858484838382817f7d7b7977767675737372737476797b7d7f8182838587898b8c8e8f9090908f8e8e8e8f8e8e8d8d8d8d8c8884817d7a75737270707274747475757576777979797977767372706f70706f706f6f70706e6d6d6c6c6c6b6c6b6c6d6d6e6f727373747476767677777777777778787879797a7a7a7b7a7b79787877777676767573737270706f6e6c6b6a686764626161605f5e5c595754524f4b4845403d3a35322e2c2a2928262523222020212325292e34383d42464b4f5256595c5f6366696c6f717477797c7f82858788898a8b8b8c8d8e90919192939393939494969697999a99999797969595959392939292918f8e8d8b89878686858484838282817f7e7c7a7877757574737272737477797b7d7f8082838586888a8a8b8d8e8e8f8f8f8f8e8f8f8f8f8e8d8d8c8884807b787572706e6e6f7072727374747475777a7a7978777673747473737173727173727171716f6f6e6d6d6d6d6e6e6f70727374757576767777777777777778787979797a7a7a7a7b7a7978787777787676747372706f6e6d6c6b69686665636261605f5e5d5c595653504d4946423e3b3733302c292827272523201f1e1f202224292e32373b3f45494e5156585c5f6265696c6f717477797c7f81848688898a8a8b8b8d8e8e8f9090909293939494959697989998989695949495949292929291908f8d8b8a88878584848282828180807f7d7b797877767474737272737477797b7d7e7f80818384858787898b8d8f8f8f8f8f8f8f8f90908f8f8d8c8985807c7874706e6d6d6d6e6f707172727375767779797978777675757475767575747475737273727271706f6f6f6f6f707173737475757676767777787877787978797979797a7a7a7b7b7a797978777776747371706f6e6d6c6a69686865636260605f5f5e5d5c5956534f4c4844413c3a36322e2a2826262422201e1d1c1e1f2225282d32373b4045494d5154595c5f6365686c6e717376787b7e828385878988898a8b8b8c8d8d8d8e8e8f9191939495959798989896959593939292929191908f8f8f8d8b89878685848382828180807e7d7b7a787775747474747372737476787a7c7d8080828283848586888a8c8e8f8f8f8f9090909190908f8d8b8784817b7875716e6c6c6d6d6e6f6f6f717174757778797978777777767877777877767675767475747373727171707071717373747577777776777677787879797979797a7a7b7a7a7a7a7b797979787876747371706e6d6c6b6a696766666462605f5e5e5f5d5d5b5856524e4a47433f3c3835312c2825252422201d1b1b1c1e1f2224282d32373b3f45494d5155585c5f6265686c6e707375797c7e818384868788888889898b8b8a8a8b8c8c8d8f909293959798989795949493939192919190908f8e8e8c8a8886858484848281807f7e7c7c7a78777574747474757373747577797a7c7e808080818283848687888b8d8e8e8e8f8f90919091918f8d8a87837f7b7774716d6c6a6b6b6d6d6d6e6f7071747578777878777978787979797877777677767776757574737272727373737474767677777777777879787879797a7b7a7a7b7b7a7b7b7b7b7a7a797877747371706f6d6c6a6a69686665646362605f5e5d5c5b5c5a5855524e4a46423f3c3833302b27252221201d1b1a1b1c1e202225292e32373b4045494e5255595c606265686c6d717376797c7f8082848586878686878788898888898a8b8d8d8f90929394959696959492929191919091908f8e8d8b8a8987868584838282807f7e7d7c7a78777674737474747575747577797a7c7d7e807f80818183848586898b8c8d8d8d8d90909191918f8f8d8a87837f7c7773716d6c6a6a6b6b6c6c6d6e6f71737576777777787979797a79797878797777777777767575757474737374747575767777777778787778797979797a7a7b7b7a7b7a7a7a7b7b7a7a7977757372706f6e6c6b6969686665646361615f5e5d5c5b5a5a595653504e4a45423e3b38332f2a2624211f1d1b191a1a1c1f2023262a2f33383d41464a4e5256595d606366686c6f7174777a7c7e80818484858485858585868586878787888a8c8d8e8f929393929392929291909090908f8f8e8d8c8a89898886858383828181807e7b7a79777574747374747675747575787b7c7d7e7f808180818283848688898a8c8d8c8c8d8f90919190908e8c898682807c7774706d6c6a69696b6a6c6c6d6e6f7174767776777878787a7a79797979787877767877777675757573737474757576777776767677787879797979797a7a7b7a7b797a7a7b7a7a7a7a77777473716f6f6d6c6a69686765656362615f5e5e5c5b5a5959585553504d4945423f3b37322e2a26221f1d1a1919191b1d1f2124282b31353a3f42474c4e5256595d6063656a6c6f7174777a7c7f808283838384838383838484848485858688898b8c8d8e90909192929291908f8f8f8f8f8e8d8c8b8a898988868583838281807e7d7b7978767473727374757675757677797b7d7f7f7f808081818283858688898a8b8c8c8d8d8f8f908f90908e8b8786827f7b7874716d6a6a696a6a6a6b6c6b6d6e707376757777767777787979797879797878787878787775757575757575757676777777777778787979797a7a7a7b7c7b7b7b7a7a7a7b7b7a7a7877767473706f6f6e6b6b69676665646362605f5e5c5c5a595757555352504d4947423f3b36322f2a25221e1b191919191b1d1f2225292d31363a3f43484c4f5356595d606365696c70727477797c7e8081828181828282828383828283838485858687898a8c8e8d8e8e8f90918f8f8e8d8e8e8e8c8c8a8a898887868584828281807e7c7b7877757472717274757577767678797c7e7f8081818282828283858687888a8b8d8c8c8d8e8e8e8f8e8e8c8a8785817d7b7874706e6b6969686a6a6a696b6c6e70717476757576767677767879797878777778787876767675757576757576767778787777787878797979797a7c7b7c7c7c7b7a7a797a7979787776757372716f6e6d6b6968676765646261605e5d5c5b5a585655545352504e4b4743403b37332f2b26221e1b1a18181a1b1d2123272b3034393d4145494c515357595d606367696c6f7274777a7c7e7f807f80807f80818181828282818282828385858688898b8b8b8c8e8f908f8f8d8d8d8d8d8c8b8a8a8988888685848382817f7c7b7977757473727171727575767576787a7c7d7f8181828382828384858686888a8a8c8c8c8c8c8e8e8e8e8d8c898683817d7a7673706d6c6969696869696a6b6b6c6e7172747474747576747576777777787778787878767576757575757676777777787877777778797a7a7b7b7a7b7b7d7c7b7a7a797b797877767674747271706e6d6c6b6a696766656361605f5d5b5a5a585755555353514f4c4a46433f3b37342f2c28241f1d1a19191b1c1f2226292d32363a3f43474a4e515457595d6064666a6c6f717477787b7d7e7e7e7e7f7f7f7f7f807f807f7f7f80808182828485868889898b8c8c8e8d8e8e8d8d8d8c8c8b8b8a8988878685848382807e7b797776747371717070727475757577787b7d7e81818382838483838586878788898a8b8c8c8c8c8c8c8d8d8c8a8885837f7c7a7573706d6b6a6868676a6869696a6b6d6f70727474747474747474757676767777787876757575747676767676777777777778777778797a7a7a7a797b7c7c7b7b7b7a7a79787876757474717070706e6c6c6b69676765646160605e5d5b5a58575755535251504f4d4a4643403d3734302c2724201d1c1b1b1c1e2126282c3035393d4045484c4e5255585a5e6164686a6c70717376787a7c7c7c7c7c7d7d7c7d7e7e7e7e7f7e7d7e7e7f8080818284868787898a8b8c8c8d8d8d8e8d8c8c8c8b8b8a89888785858281807d7b7876757473716f6f70717275747677787a7d80808182838484848484868787888a8a8b8b8c8c8c8c8d8c8b8c888684817f7b7976736f6d6b696968686968676768696c6d70707071727272737273747576767777777777767675747777777777787878787877787878797a7a7a7b7b7c7b7c7c7a7a797878777574737271716f6f6e6e6d6b69686766656462605e5e5c5a5a595756555352504f4d4c4a4643403d3734302c2825221f1c1d1d1f2024282c3033373c3e4345494c4f5256585b5e6165696b6e6f72747577797b7b7b7b7b7b7b7b7c7d7d7d7d7c7d7b7c7c7c7d7d7f8082838385858788898b8b8c8c8e8e8e8e8d8c8b8b898988868583817f7c7a7775737372726f6e6f717374747577797b7d7f81828384848585848586878788898a8b8b8d8c8c8c8d8c8b8a888683817e7b7874726f6b6968686968686766676669696c6c6e70707071717272737374757677787978777777767676777877787978797978787878797a797a7b7b7b7b7b7b7b7a787877757474727170706f6d6d6c6c6c6b6a686665636362605e5d5c5a59585855545351504e4d4c4a48443f3d3836312d2a2724201f1e1f2024272b2f32373a3e4044474a4d505256595c606365696b6d6f71737577797a79797a7a797979797a7c7b7c7c7b7b7a7a7a7b7c7d7d7f8080828385878789898a8b8c8c8e8e8e8d8c8d8a8a88878684827e7c797776747372716f6f6e7072747576777a7b7e8182838485858585858585878789898a8b8c8d8d8d8c8d8d8b89888583807d7b7775726e6b6968686868666766656667686b6b6c6d6f6e70717071737374757676777878787878777576777779797979797a787978797a7a7a7a7b7b7b7b7b7b7a79787675737371706f6e6d6c6c6b6b6a6a6a696866656363615f5e5c5b5a59585756565352514f4d4b494744413c3936322f2b28252321212224272b2e3135393d404246494c4e5153565b5d60626467696b6e7071737578787878787776777777797a7a7b7a7a797878787a7a797a7c7c7e7f818284868788898a8a8b8b8d8d8d8c8c8b8a89878685827e7c7a787676757371706f6f707274767779797d7e8182838585858686868587878888898a8b8d8d8e8e8d8d8d8b898785827f7c7a7673726d6b69686868676766656565666869696a6b6c6d6f707070727474757577777879797877777676777879797a7a7a797979797a797a7a7a7a7b7a7b7b7a78777575737371706f6d6d6b6a696868696968676764656362615f5e5c5b5a58565655555351504e4d4b4a4745423f3c3734312d2a2725232424272a2e3135383b3e4145474a4d4f5054575b5d5e616365686a6c6e707273767676767677767675757677767778787776767677777878797a7c7d808183848586878788898a8a8b8b8b8b8c8a89898686837f7c7b7978787775727170707072747678797b7c808282848585868686868687888a8a8a8a8c8c8d8e8e8d8d8b8a8784827f7d7c7a7773706d6b6a69676765666564646365656769696a6a6b6d6e6f717273757675777877787877777777767778797a797b7a7a7a797a7a7a7a7b7b7b7a7b7b7b79777574737271706e6d6c6b6968676666666767666665646362605f5e5c5b5a585855535251504d4e4c4a49484745403e3a36322f2c29272626282a2d3034373b3d404245484b4d505255575b5c5d60626567686b6d6f71727475747475767473737374747476757575757474747575757778797b7e7f8182838384868786888889898a8a8b8a8b8a888582807d7b7a7a7977777471707071737477797a7c7e8082838384858586868687878888898a8b8b8c8d8f8f8e8e8c888582817f7d7b797773706d6b6a686766656563636364646666686969696a6c6d6f727273757676767877777777777877777878797b7a7a7b7a7a7a7a7a7a7a7b7b7b7c7b7a797775747371706f6e6d6b6a696766656564656565656464636261605f5e5c5b5a5857565352514f4d4d4b4a4a484644413f3b3835312f2c2a292a2b2d3033373b3d3f414447494b4e50525456585a5b5e616365676a6d6e6f6f717373747374737272727273737473737373737272737474757778797b7d7e80818181838384868687878888888a8b8b898683807f7d7c7b7b797775737272727476787a7b7c7e8081838484858686878888898989898a8c8c8d8e8e8f8e8e8b8785827f7e7b79787572706d6c6a68676665656364646465666666686969696a6b6e7172747676767677787777787778787779797a7b7b7b7a7a7a7a7a7a7b7a7a7b7b7a7a7a77757473716e6e6d6c6c6b68676564636263636362636262626261605f5d5d5b5958575654514f4f4e4d4b4a4948464543413e3b3734312f2d2d2e30323436393c3f404245484a4c4e4e51525557595b5d5f626466686b6d6d6f6f717172737271717172727170727070707171717171717273757677797b7c7d7f7f7f8181828485868787878789898a888583817f7e7e7d7c7b79767472727374777a7b7c7e80818283858586868687878788888a8a8b8c8d8e8e908f8f8e8b8684807f7c7a79767572706e6d6b69686766656564646566676667686869696a6b6e70737476767777777878787878787778797a797a7a7b7a7b7a7b797a7a7b7b7b797a787877757371706d6b6b6969676665646362606161616161616060616060605e5c5b5a58585653524f4f4d4b4b4a494847464442403d3a373432313133333538393d3e40414545484b4c4c4e4f51535558595b5f60626466686a6b6d6f71717171717171717170716f706f6f6e6e6f6e6f6f70707173747678787a7c7c7d7e7e80808283848484848586888a8987858381807e7e7d7c7a787675747576787a7c7d7e818283848586868787888889898a8a8b8c8d8d8e909090908e8b8783817e7c7976757371706f6d6c6a6a68686666666667686867686869696a6b6c6e7073747576777878787978787877787978797a7b7a7b7b7a7b7b7b7b7b7b7b7a787978777674726f6e6c6a6969676565656361605f60605f5f5f5f5e5e5f5f5f5e5e5d5c5a5958565453514f4d4c4a4a494846464544423f3d3a373536353738393b3d3f404242434547494a4b4c4d51525457585b5c5e6162646769696b6d7071707171717170706f6e6e6e6e6d6e6e6d6d6c6c6d6f6f7172737577797a7a7b7b7c7e7f808181828282848587888a87848382817f7f7e7d7c797876767777797b7d7e808183858686878787878788898a8a8a8c8d8e8f8f9091928e8e8b8884817e7b79777472716f6f6e6e6c6b6b6968686868686868686969696a6a6b6c6e7072747676787979787979787878787979797a7a7b7b7b7b7b7c7c7c7c7c7b79787776757473716e6c6b69686766656463625f5e5e5d5d5e5e5e5c5d5d5d5e5d5e5e5d5b5a5958575452514f4e4d4c4a4947474646454341403d3c3a393a3c3c3d3e3f3f3f3f404243444648484a4d4f51535656595a5d5f6263656667696c6e7271727171706f6e6e6e6e6d6d6d6d6c6b6b6a696a6b6d6e7070727577777879797a7c7c7e7f7f808081828487888a88858483828281807f7e7c79797878797a7d7e8081828485858687868687888a8a8a8a8c8c8e8e90909190908e8d8a8886817e7b797776737270706e6e6d6c6c6b696968676767676868696a6b6b6a6b6c6e70737677787979797979797978787979787a797a7b7c7c7c7c7c7d7c7b7a797876757473716f6d6b6969676665656362605f5d5d5d5c5c5c5c5b5b5c5c5c5c5c5d5c5c5a5a57555452504f4e4d4d4b494847464646454342403e3e3d3d3f403e3d3c3c3c3d3d3e4142444547484b4d4f52545557595c5e6061636467696b6e707171706f6e6e6e6d6d6d6d6c6c6b6c6b6a69686868686a6b6d6f7273767677787a7a7b7c7d7e7f7f7f81838587888987858484838382807f7d7c7b797b7b7c7d7f8183848585868788878787888a8b8b8c8c8e8e8f90919291908f8d8a8885817f7c7a7675737271706f6d6d6c6c6a6967676665676768676869696a6a6b6c6e70737577787979797979797979797a79797a7b7b7b7c7c7d7d7d7d7c7b7a787775747471706e6d6b6968676664646260605e5c5c5c5b5b5b5b5a5b5b5b5b5b5b5a5b5b5a59575553525250504f4e4d4b4a494848474745444342414241403f3c3a3a3a393a3b3c3e3f42434447494c4d4f525355585b5d5e5f626466686c6e717171706f6e6e6d6d6c6c6c6c6c6c6b6969676666656667686a6c6e71727476767778797b7b7c7d7e7e808183858789888787868585828281807f7d7d7d7d7e7f818384858788878888888888898b8b8b8c8d8f8f9091929291908e8c8a888582807d7a77757472716f6e6d6d6c6c69696666656567676868676869696a6b6d6e707375777979797a7a7a7a79797a7a7a797b7b7b7b7c7c7d7e7d7d7b7a79787775747271706e6d6c6a686664646362615f5e5d5c5b5b5b5a5a595a595a5b5b5a5a5a5b5a595756545352515051504e4d4c4b4a4a4a49484745434343403e3d3b3938383738393b3c3e3f42434547494c4e51525456595c5d5e626466686b6e70706f6e6e6e6e6d6d6c6c6c6b6b6b6b6a686666646464646567696b6d6f727475777778797a7b7b7c7c7d7f8183858687878988878685848381807f7e7e7e80828484878788898a89898989898a8b8c8c8d8e8f919191929292908e8d8b888683817e7b77767473716f6e6e6d6c6c6a686766666566686868666768696a6b6d7070747576797a7b7b7b7b7b7a7a7b7a7a7a7a7b7c7c7d7d7d7d7d7c7b79797876757372706f6d6c6b6a6866656362615f5f5e5d5c5b5b5b5b5a595958595959595859595a59575755545353525251504e4e4d4d4d4c4a484645434341403e3c39383736363638383a3c3d3f414345484b4e4f515356595b5c5e626466686a6d6f6e6e6d6d6e6c6d6d6d6c6b6a6a6a696967676563626262626466686a6d6f7273757577787878797a7a7b7d7f8183848586878888878584848381818180818283858788888a8b8c8b8b8b8b8b8d8d8d8e8f9091919293939391908e8d8b8a8785817e7b79777472706f6f6e6c6c6b6a686766666666676968686768696b6c6d727273767779797c7c7c7c7c7b7a7b7a7a7b7b7b7d7d7c7d7c7d7c7b7a79787776747271706e6d6b6a686766646361605f5f5d5d5d5b5b5b5a595959595a595858585859585757575655535352525250504f4e4d4d4c49484645444241403f3b3938363535353637393b3d3e404245474a4d4e515456585b5d5f616466686b6d6f6e6c6c6c6c6c6c6c6b6b6b6a6a6868676665636361616161626365686a6c6f71737575767777797878797b7d7f808284858687888887868585838282828383868688898a8b8c8d8d8d8d8d8d8d8e8f8f909191929293939292908f8e8b898885837f7d797674726f6f6e6d6c6c6c6b6968666665676868696968686a6b6d6f7274747678797a7b7c7c7c7c7c7c7b7b7b7b7c7c7d7d7d7d7c7c7b7a79787776757371706f6e6c6c6a68676564626060605e5e5c5d5c5c5b5b5a5a595a5a59575758575856565656555452525252514f504f4e4e4c4b49484645434240403f3c3b39373636353637393a3d3f404245474a4c4e515456585b5d5f616467696b6c6c6c6c6c6b6b6b6b6b6b6a6a68686766656463626260605f5f6062646567696c6e71727375757676767678787a7c7e80828383858789888887858484848585858788898a8c8c8c8d8f8f8e8f8e8f8f9091929392949494929291908e8d8c8a878683807d7a767370706f6e6d6c6b6b6a69686766666767696969696a6b6b6d6f71737577787a7a7a7b7b7c7d7c7c7b7b7b7b7c7c7d7d7d7c7c7c7b79787776757372706e6e6d6c6b69686664636262615f5e5d5d5d5d5c5b5b5b5b5a595a595756555555565554555453525150514f4e4e4e4d4c4c4a4a474645444240403f3d3c3a3838373636393a3c3d3f404245484b4b4f525456585a5d5f626567696a6b6b6c6c6b6c6b6b6b6a6a6968686765646361606160605f5e5e606162646566686b6c70727274757574757677787a7b7e7f8082848687898a8988878785878788898a8a8c8e8e8f8f909190909090909192939495949493919191918f8d8c8a878683817d797673716f6f6d6c6d6b6b6a6a68676767666769696a6a6b6c6c6e7073757578797b7b7b7b7b7c7c7c7c7c7b7c7c7c7c7c7d7d7b7b797978777675737270706e6d6c6b6a69676664636161615f5f5e5e5e5d5c5c5b5c5c5b5b5b5856555353545554545454535250504f4e4e4d4d4d4c4b4a49474645444241403f3e3c3c3a38383839383a3c3d40424345474a4d4f525556585b5d60646669696b6a6b6b6b6b6b6b6a6a6a6a68686765636261605e5e5d5e5d5d5d5e5f616263646667696c6e727374747474757677787a7b7e7f81838587898989898989888989898a8b8c8d8f90919192939191919291929393949393929190908f90908e8c8a8884827f7c797774716f6e6d6c6c6b6a696868686866666768696a6c6d6d6f6e70737577787a7c7d7c7d7d7c7c7c7c7c7c7c7c7b7b7b7c7b7b7a79797878767473716f6f6d6d6b6a6968666663626162605e5e5c5c5c5c5c5c5c5c5c5c5b5a59565453525354545453535351504f4f4e4e4c4b4b4b4a4947464544434242413f3e3e3d3c3a393939393a3d3f40424346484b4d50525456595c5f616568696a6969696b6b6b6b6a69696a696866656362605f5d5c5c5c5c5b5b5c5d5e5f616163636566696c6e707172747475757577797b7d7e808283858789898a8a8b8a8b8b8c8c8d8d8e8f9192929394929293929292939393929191908f8f8f8f8f8d8b8b8785827f7c797673716e6d6c6c6b6b6a6a6969686866676768696c6d6f6e6f7071737577797a7c7d7c7c7c7c7b7d7c7c7c7b7d7b7b7a7b7b7a797878777676747371706e6c6b6a6967676564636161605f5e5c5b5a5a5b5b5b5c5d5d5d5c5c59575552515252535353535251504f4e4c4c4c4a4a4a494846454443434341403f3d3d3e3c3b3a3a3a3b3c3e3f41424347494c4d505355575a5d61636768696a69696a6a6a6a696a6969686766646361605f5d5b5b5a59585959595b5c5e60616162636466696d6e707272747474757677787a7d7f8183848687888a8c8c8c8d8d8e8f8f909091939494949494949492939192929191908f8f8f8f8f8e8d8d8c898885817f7c797673706e6e6c6c6b6b6b6a69686867686767696a6d6f70707172737577787a7a7d7d7d7c7c7c7b7b7b7b7b7b7b7b7b7b7a79797877777675757372706f6d6b6a69676665646261605f5f5e5c5b5a59595859595a5b5c5c5c5c5a575554515152525352525151514f4e4d4c4c4b4a4a484646454443424240403f3e3e3e3c3b3b3b3b3b3d3e40414244474a4d4f515456595b5f616567696b6a696969696969696869686766656463615f5d5c5a59595857565757585a5c5d606161616264676a6c6e6f7172737374767577797c7e8081838486878a8b8d8f8f8f90909091919393949495959595939392929191919090908f8f8e8e8c8b8b8b898684817d7b797572716f6e6c6c6b6b6b6b6a6a68686867686a6c6e707273727374757779797a7c7c7c7c7d7b7b7a7a7b7a7b7a7a797a79797877767574747473716f6f6d6b69686666646361605f5f5d5c5a59585757575758585a5b5a5b5a5a585653525152525252515250504e4e4c4c4c4b4a49484846444343424140403f3f3e3e3e3c3b3c3b3d3e3f40424447484b4e505256575a5d5f646568696a686867686867676867676766646463615f5e5d5c5a5959575656555556585a5c5e5f6060616264676a6c6e7072717373737576787a7d7f8182848688898b8d8e8f909292919293939495969595949393929191919190908f908f8e8e8b8b8a8b8a888784817d7b787674716f6d6c6d6c6c6c6c6b6b6a6a69686a6b6d6f72727272747576797a7a7b7b7b7b7a7a7a7a7a7a7a7a7a7979797878787676757473737271706f6e6c6a686766646262605e5e5d5b5958575656555555555657585958585857555453525251525151514f504e4e4d4d4d4b4a49484847444443424141403f403f3d3d3d3d3e3d3e4040424445484a4c4f525457585b5e616565686a69686766676767676766666564636262605f5d5c5c5b595957575554545457595c5d5e6060606163666a6c6d6f71727273737476777a7c7e7f81848586888a8b8d8e909293949494949595969595939292919191918f8f8f908f8f8e8e8b8a8a8a88888683817e7b79777572716f6d6e6d6d6d6c6c6e6d6c6b6a6b6d6f717374747475777778797a7a7b797978797879787978787979787878787777777573737271706f6e6c6b696866656462615f5d5d5c5a58575554535353525354535555565655545655535452525151515050504e4e4d4c4c4b4a4949474745444242414140403f3e3e3d3e3e3f3f4041424345464a4b4e515356595b5c5f626466676867676766666666676665656464636261605f5d5c5b5a5a5958565554545556585b5d60616161626365686a6c707172737373737577797a7c7f8183838688898b8c8e8f9092959696969696969594929291929090908f8e8e8e8d8d8d8b8a89898888878583817e7c7978757471706f6e6f6e6f6f6f6f6f6e6d6c6d6f707173747575767678787a797a79787777777878787777787877787777777776767574737271706e6c6b6a696766656362615e5d5b5a5856555452515050505050505252535352535354545353525151505050504e4e4d4c4b4b4a4a48474645434342414141413e3f3e3e3f403f414243444547494b4d505256585b5c5e606264666868676766656565666565646363626161615f5e5d5c5c5a595958575554545556585b5e60626363636466676a6c707272747475757576787a7c7e8182858687888a8c8e8f909294959696969795939391929191908f8f8f8e8e8e8d8c8b8a8988878686868583807e7b79787674727170706f6f7071707171716f6e6f707273747575767778797a797878777777767777777878787878777677767676767776757472716f6d6b6a69686665646362605e5c5b5857555351504f4e4d4d4d4d4d4d4e4f4f50505153555554535352515151504f4e4e4c4b4a4a4a49484645444342424142413f3e3f3f4042424243444648494c4d50525456595c5e5f6162646668686766656464646564636363626261615f5f5e5c5b5b5a5959575756565557595b5c5e61626465656567686a6d6f7273757575757576777a7c7e8182848588898b8d8e90919293959697969695939291919190908f8f8f8e8e8e8c8a89898887868585848382817e7c7a787674727271727272727272727372727071737374757677797a797979787877777777777777777778797878777777767776777777767573716e6d6a6968676665636261605e5d5a59565452504e4c4c4a4a4a494a494b4b4b4d4e505253545454525251515151504e4e4c4c4b4a4a4b4947464544434342424140403f4042424244454648484b4e4f515356585b5d5f606163646668676666656565646463636262616160605f5e5d5c5b5b5a595959575857585a5b5c5e6161646567676869696c6e717374757577767576777b7e8081838586888a8c8d8f8f9192949496969594939291918f908f8f8f8e8d8c8c8c8a89878686858484848382817f7f7d7b7876747474727273737374737475757574737476767779797a7b7b7a78777676777777777777777778797979787777767677767778777673716f6c6a69676664646362615f5d5c5b595653514e4c4b494747474646474747494a4b4e5051535454545353525150504f4e4d4d4c4c4b4a4947464545444443424241414142434444444647494a4c4f525456575a5d5f6163636465676867676766666565646463626261615f5f5e5d5d5d5b5b5a5a595a5959595b5c5e5f6163646567696a6a6c6c6d6f717475767675767676787a7d80838385888a8b8d8e8f9091929495979695949392918f8f8e8e8e8e8c8c8b8b8a8988858585848383838281817f7e7e7b79777676757473747475757575767678777777777778797b7b7b7b797976767677787878777778797879797a797878777677777878787674726f6d6b67676565636262615f5d5b5a575552504d4a484746444343434343444446494b4f5052525353535453515151504f4e4d4d4c4b4a49474645454443434443434244444445454647484c4d4f515456585a5b5e6164646465666767686866666565656463636262616160605f5d5d5c5b5c5c5a5a5a5a5b5c5c5f6063646666686a6b6c6e6e6f6f71737577787777767676797c7f8183848688898c8d8d8f9091939595969795949391908f8e8e8d8d8c8b8a8a8988878685848383828181808080807f7e7b7b79777575757474757575777778797a797a787879787b7c7b7b7b7a787776787879797877787878797a7a7b7a7a7878787878787879777573716d6c696665646261615f5e5c5b595654514e4c4a4744424140403f404141414446484c4e5051515152525353525251514f4f4e4c4b4a494846464545454444444444464647474748494b4d4f51545658595b5d5f636465656667696868676766666666666464636362626161605e5e5c5c5d5d5c5b5b5c5d5e5e62646668696a6b6c6e6f70717273747577797978787777787a7d8183858687898b8c8d8e8f90919393969696949292908f8e8d8d8c8c8b8a89888886868483828181807f7f7e7d7e7e7f7e7d7b7977777776757575767677797a7d7c7b7b7b7b7b7a7b7c7c7b7b797777777878797979787879797a797a7a7b7a797878787878787879777472706d6967656462605f5f5e5d5a585754514e4a484542403e3e3c3c3c3d3e3e404347494b4e4f5051505252525352535351504f4d4d4b49474746454444444545454747474949494a4b4c4f52535658595c5d5f616465666767696a696967676667676867676564646363636261605f5e5e5e5e5d5d5e5f6060626467696b6d6d6e6f7072727473747677797a7a79787877797c7e82848788898a8b8d8e8e8f909192939596949391908f8f8e8e8c8a8b8a89888787868483828180807f7e7d7d7d7e7e7e7e7d7b7a797978777675767778787a7c7e7e7e7d7d7d7d7d7d7c7c7b7b7978787878787979787878797878787a7a7a79797979787878797a7a797775706e6b6965636261605e5d5b5a575553514e4a4743413f3c3a3a3939393a3b3e4043464a4b4d4e4f50505252515253545452504f4d4c4a4847474646454545464848484a4b4a4c4c4d5051535558595b5c5d616265676768696b6a6a6868676768696869676767666565656463626060605f5f5f5f6060626364676a6b6e6f717172727474757677797b7c7d7c7b797a797b7d808487898a8c8c8d8d8f8f9091929395969594929190908f8e8d8b8a8a898887868585838281807f7e7e7d7d7c7d7d7e7f7e7c7a7a7a7a7a7878777778797a7b7d80807f7f7d7e7e7d7d7d7d7d7a797979797878797a7a797a7a797879797a7a79797a797979797a7b7a7a787673716d6a676562615f5f5d5c59585552504e4b4744413e3b393837373839393b3e404447494b4c4d4f50515151525253545452504e4c4a48484747464646464748494a4c4d4c4e4f50515456585a5b5c5e606264666767686a6b6b6b6a6969696a6a6c6b6a686868676867666564626263626261626264656567696b6d70727173747475767778797b7d7f7f7f7e7d7c7c7d808285898c8d8e908f909191929395959695939291908f8e8e8d8c8c8b8a89878686848381807f7e7d7c7c7b7c7b7b7c7e7e7e7d7b7b7b7a7979787778787a7b7d7e808181807e7f7e7d7c7d7d7c7a7a7979787879797a7a7a7a7a7a7a7a79797a7a7979797a79797a7a7b7b7b797674706c6966646361605f5d5b595552514e4b4743403e3b38363535353637383a3e41444547494a4d4d4f505151515354555452504c4c4a4848484747484848494a4b4e4e4f5051535557585b5b5d5e5f6163656768686a6c6c6c6b6a6b6a6b6c6c6c6c6c6b6a6a6a6a696866666665666565646464666768696b6d6f7173747576777778797b7b7e7f81838282807e7e7f8184888b8e90909190919393949596979695939291908f8e8e8d8d8c8b89888786848282817f7d7c7b7c7a7b7b7b7b7b7c7c7d7d7d7c7c7b7a797978787a7b7c7d7f81818281807e7e7e7e7d7c7b7a797979787878787a7a7a7a7a79797979797a7b797a7a7a7a7a797b7a7b7b7a7875726f6b68656462625f5d5b595653504e4a4643413e3b3835333333333335373a3e40434446494a4c4e4f4f51525353545453504e4c4b4a494949494849494a4b4d4f515253545658595b5c5d5e6062636466686a6a6b6c6c6d6c6c6b6c6d6e6e6e6d6e6d6d6c6c6c6b6a6868686867676766666668696b6c6d6e727474757777787a7a7b7c7d7f8182848584848383838486898e9092929392939494969798979695939291908f8f8e8d8c8b89898885848381807f7e7d7c7b7b7a7a7a797b7b7a7b7b7c7d7e7d7d7c7b7a79797b7c7d7e808183838281807f7f7e7c7c7b7b79797978787878797a7c7b7a7a79797979797a7879797a79797a7a7c7b7c7b7a7673706e6b68666463615f5d5a5754514e4b4845423f3a383532323232323434373b3d3f414446484b4c4e4d4f51525354565451504e4d4d4c4b4b4b4a4a4a4b4d4f5252545758585b5c5e5d5f6062646566686a6b6c6d6e6e6e6e6d6d6e6f6f6f6f6f6f6e6f6e6e6e6c6c6c6a6a6a696a6968696a6b6d6e6f71717376777778797b7c7e7e7f808282848586868686868687898c9092939394949495969698979796959492918f8e8e8e8d8c8b898886858381807e7e7c7c7b7b7a79797879797979787a7a7d7d80807e7c7b7a7c7c7c7c7e8082848483838280807f7c7c7b7a7979797a787879797b7c7b7a7a7a7a79787879797a7a7b7a7a797b7c7c7c7c7a7876726f6d6a68656462605e5b5855524f4c494745413c39353331313130313335383b3e40414446494a4c4d4e4f5252545555535150504e4e4e4d4c4d4c4c4d4e50525657595b5c5d5f6061606164666668686c6c6e706f6f6f6f6f6f6f7070706f6f70707070706f6f6e6d6d6d6c6c6c6b6b6c6c6e7072737475767879797a7c7d7e81818183838586878888898a89898a8c8e9192939494949696989997969596959492908f8f8e8e8d8b8b8987868482807f7e7c7c7a7b7a79797878787877777777797b7c7e7e7f7e7c7b7d7d7c7d7e7f81828484848281817f7e7c7a7a79797a797978797a7b7b7c7c7a797a7a7a78797a7b7b7c7b7b7b7b7b7b7c7c7a797875726e6b69686664625f5c5a5754504e4b4946433f3b37353332303030313436393b3e40424547494b4c4d4f50515255565353525151515050504f4e4e4e50525457595b5d5e60616261626366676a6a6a6e6f7171717070707071727271707071717273737271727170706f6e6e6e6e6e6e707173747677797a7a7b7c7d7f808183848484868889898b8a8a8c8b8d8d8e909293949496969698989897969595949391908e8e8d8d8b8b898887858381807d7d7c7c7a7b7a7978777776767675767778797b7c7d7d7d7e7d7d7d7e7d7e7e7f828485838283817f7f7c7a7a7a7a7878797978797b7c7c7c7b7a7a7a7a7a7a7a7b7b7c7c7c7c7c7c7b7b7c7c7b797674706c6a68696664625f5c595753514e4c4a46413e3a363533312f2f303236383b3e40424546484a4b4d4d4f5052545556555554545453535151505050515455585a5d5f6062636263646568696b6c6c70727373737272737373737473727172747575747574737272717070707071707172737577797a7b7c7e7e808081848585868788898a8b8a8a8c8c8d8e8f9092939394959697989999989896959493939291908f8e8d8c8a898886858381807e7e7d7c7a7a7a78787876767675747474767779797a7b7c7e7e80807e7e7e7e7f7f81838484838281817f7c7b7979797979797879797b7c7b7b7c7b7b7b7b7a7a7a7c7c7c7c7c7b7c7c7c7c7c7d7c7c7976726f6b6969676663615f5c5a5755524f4d4844423f3b3835333231323436393d3f41444547484b4c4d4e4e5051545556585857575556555452525252545657595d5f61636464646566686a6c6c6d6e727374747474747475767675747475757776777777757474737372727271727374757677797a7d7e808081828485868788898a8b8c8d8e8d8d8e8f8f90929294959695979899999998979796959493939190908f8e8d8b888786858382807f7e7c7c7c7b7a797877777574737473747575767677797b7c7e8080817f7f7f7f7f7f8181848484838181807d7b7a79787878787978797a7b7c7c7c7b7b7b7a7b7b7c7d7d7d7d7d7d7d7d7d7d7d7d7e7d7c7974716d6a696866656463605e5b595654504c4845423f3c393635343436383b3e42444648494a4c4c4d4e4f505253555557585959585857565554545556585a5b5e61636465656666686a6c6d6e6f71747675757575777777787877757576787a797a7a7879777676767574747474757677787a7b7d7f81828284868688898a8c8c8e8e8f8f8f8f8f8f909092939597969896989a9a9999979896959493929191908f8f8e8c8a888685848281807e7d7c7b7a7a79787876757472737273727272747577787a7c7e80828182817f7f7f807f808284848382817f7e7b7a797878787a79797a7a7c7c7c7c7c7b7b7b7b7c7d7d7d7e7e7e7e7e7e7d7e7e7f807e7e7b77736f6c6a686866646362615f5d5b57544f4d494643403e3c3a38383a3b3f42444748494b4c4d4d4f4f5051525355565759595a5b5b595958575658595b5c5d60626466666768696a6d6e6f707172767777777777787979797878777778797b7c7b7b7b797978787877777675767778797b7c7d7f808385868788898b8c8d8e8e909090908f9091919293949597979898999b9c9c9b9998989795949393929191908f8e8c8a8886858382807f7e7c7b7b7a7978777674737271707170707172747576787a7b7d808283828281807f807f808183838383817f7e7c7b7a79797979797a797a7b7c7d7d7c7b7b7c7c7c7d7e7f7f7e7f7e7e7e7e7f7f8080807f7d7975716d6b6968676665656464605e5a5754514e4b48464441403e3d3e404345484a4c4c4d4e4e4f4f505152535354555658595a5c5c5b5b5b5a595a5b5c5f606265666768696a6c6e6f70717273757878797778797a7b7b7b79797878787a7a7b7b7d7c7c7b7b7b7a7979787878787a7b7d7e7e8081848688898b8c8d8f8f9091919291919291929393949597989898999b9c9e9d9c9b9a99979695949394929291918f8d8a88878483827f7e7d7c7b7a7a7978757472716f6e6e6e6e6f707174757778797b7e80828384838181807f7f80818184838281807d7c7a7a7a79797a7a7b7a7a7b7c7d7c7d7c7c7c7e7d7f7f807f7f7f7f7f7f7f8080808181817e7b7672706d6b69676766666565635f5c59575452504e4b4948464343434547494a4c4e4f4f4f505151525353545354555657585a5c5e5e5e5e5c5b5c5d5f6063656768696b6c6d6f70717273747677797a7a797a7a7c7c7c7d7b7a797879797a7b7c7d7d7d7c7c7c7c7c7b7b7b7b7b7d7e808181828385888a8b8c8e909090929494949393939292939395969797989a9b9d9ea0a09f9d9c9b99979796959594939392908f8d8b88868583817f7e7d7b7a7979777572716f6d6d6d6d6d6d6f7072747577797b7d7f818284848382818180808081838383817f7e7c7a7a797a7a7a7b7b7b7a7c7c7d7d7c7c7d7d7e7f7f7f7f8080807f808080818181828182807d7975726f6d6b68686765656565625e5c5958575554514e4d4b484848494a4c4d4e4f505152525354555555555455555556585a5c5e5f60605e5f606162646668696a6b6d6d6f717274737577787979797a7a7c7d7d7e7e7d7c7b7a7a7a7a7b7b7c7d7e7f7f7f7e7e7e7e7d7e7f7f8081828484848588898b8d8f909192939495969694949495949394959697989a9c9d9fa0a1a2a2a19e9e9c9999989898979796959392908d8b88878482807f7d7c7b7a78767472716e6d6c6c6b6b6c6d6f70727475777a7d7f8082838585838281807f808182838282807f7d7b7a7a797a7a7b7b7a7b7b7c7d7d7d7f7f7e7f7f7e7f8180808080818282828282838382817d7b7674706e6c6968676565666663605e5c5b5a5857565452504d4d4d4d4e4f505051525354565757575858585656555656585a5c5e606162626263646667696a6b6c6e6f71707374757677797978797a7b7b7e7f807f7f7e7c7b7b7b7b7b7a7a7b7e808081818180808080808282838385858687888a8c8d8f909293949697979896979596949594959595989a9c9d9ea0a1a3a4a4a3a2a09d9c9c9b9a9a9a9998979593928f8d8a88868381807e7d7b7977767372706d6c6b6b6b6b6b6b6d6f71737477797b7d7f818284868584818181818282848382807e7d7c7a7a7b7a7c7c7c7b7b7b7c7c7e7e7e807f7f807f808182818182828283838383838382827e7c7875726f6d6a6867656565656562605f5e5e5c5a5a58555351515050515252535455565858595a5b5b5a5a5857565656585a5c5e5f61626466666769696a6b6c6e6f71727475757677777879797a7a7c7d81818281807f7d7c7c7c7c7c7a7a7b7d7f81828283828382838384858686878788898b8d8e91929393949596979899989796969696959596989a9c9d9e9fa1a3a4a7a7a5a3a1a09f9d9d9c9b9b9a9997969593908d8b89868382807e7c7a78777572716f6c6b6b6a6a6a696b6c6d70717476787b7e7e808384878785848282818283848483807e7d7b7b7b7b7b7c7b7c7c7b7b7c7c7d7e7f8080808080808181838283838384858584848483827f7c787672706d6b696866656566676563615f5f5f5e5c5a5957555453545455565557585a5b5b5c5e5e5f5e5d5b5a585657595a5c5d6061626568696b6c6d6d6d6f7172737476767676777879797a7b7c7d7f8182828181807e7e7d7d7d7d7b7b7d7e7f81838485868586868787888889898a8b8d8e909192929495969698989a9a9997969696969597989a9c9d9fa0a1a3a4a6a8a9a6a4a4a3a19f9f9e9c9b999998969493908d8b878684827f7d7b7a787674726f6e6c696a69686869696b6d6f717376777b7e7f808285888987868583838484858483807e7d7c7d7c7c7b7b7b7c7b7c7c7c7d7e7f7f808081818282828283838484858685868685858483807d797673706e6b6a696765666666666664646362615f5d5c5b5958575757595a595a5c5d5f5f6062626261615f5d5a585a5a5b5c5e6062636567696b6d6d6e7071737575767777777677797a7a7b7c7c7e80818382828181807f7f7f7e7c7c7c7d7f818484878788888988898a8a8b8b8c8c8e90909293949595969797999a9b9b9a98989797989899999b9d9e9fa1a2a4a5a5a8a9a8a6a3a3a2a1a09f9e9b9a99979694918f8e8887868382807d7c7a797775716e6b6a69686767686868696c6e707274767a7e7e81838488898a888684848587868684807f7f7d7e7e7c7d7c7c7c7c7d7c7d7e7f8081818283828283848484858585868687878686868583807d7a7672716e6d6a6967666666656666676766656462615f5e5d5b5a5a5a5b5d5e5e6061626364656565656463605e5d5b5b5d5e6062646466686a6b6d6e707272747677787877767778797a7b7c\",n=function(){function e(e,t){this.setPosition(this.currentPosition[0]+e,this.currentPosition[1]+t)}function t(e,t){e>=100?e%=100:e<0&&(e=100-Math.abs(e)%100),t>=100?t%=100:t<0&&(t=100-Math.abs(t)%100);for(var a=!1,i=e-this.currentPosition[0],n=t-this.currentPosition[1];i>50;)a=!0,this.currentPosition[0]+=100,i=e-this.currentPosition[0];for(;i<-50;)a=!0,this.currentPosition[0]-=100,i=e-this.currentPosition[0];for(;n>50;)a=!0,this.currentPosition[1]+=100,n=t-this.currentPosition[1];for(;n<-50;)a=!0,this.currentPosition[1]-=100,n=t-this.currentPosition[1];if(a)for(var r=0;r<this.numRows;r++)for(var o=0;o<this.numRows;o++)this.ptInfo[r][o].x=this.currentPosition[0]-this.xPos[r],this.ptInfo[r][o].y=this.currentPosition[1]-this.yPos[o],this.ptInfo[r][o].u=.5/2048+2047/2048*(this.ptInfo[r][o].x/100),this.ptInfo[r][o].v=1-(.5/2048+2047/2048*(this.ptInfo[r][o].y/100));this.slide(i,0,this.xPos,this.wrap_horizontal),this.slide(n,1,this.yPos,this.wrap_vertical);for(r=0;r<this.numRows;r++)for(o=0;o<this.numRows;o++)if(0==r||0==o||r==this.lastRow||o==this.lastRow||this.ptInfo[r][o].update){this.ptInfo[r][o].x=this.currentPosition[0]-this.xPos[r],this.ptInfo[r][o].y=this.currentPosition[1]-this.yPos[o];var s=this.getPt(this.ptInfo[r][o].x,this.ptInfo[r][o].y);this.ptInfo[r][o].u=s.u,this.ptInfo[r][o].v=s.v,this.ptInfo[r][o].z=s.z,this.ptInfo[r][o].update=!1}}function a(e,t,a,i){var n;if(this.offset[t]+=e,this.offset[t]<0){n=Math.min(this.numRows-1,Math.ceil(Math.abs(this.offset[t])/this.spacing));for(var r=0;r<n;r++)i(1);for(;this.offset[t]<0;)this.offset[t]+=this.spacing}else if(this.offset[t]>=this.spacing){n=Math.min(this.numRows-1,Math.floor(this.offset[t]/this.spacing));for(r=0;r<n;r++)i(0);for(;this.offset[t]>=this.spacing;)this.offset[t]-=this.spacing}this.currentPosition[t]+=e;var o=-this.halfSize;a[0]=o,o+=this.offset[t];for(var s=1;s<this.numRows-1;s++)a[s]=o,o+=this.spacing;a[this.numRows-1]=this.halfSize}function n(e){if(e){this.ptInfo.push(this.ptInfo.shift());for(var t=0;t<this.numRows;t++)this.ptInfo[this.numRows-1][t].update=!0}else{this.ptInfo.unshift(this.ptInfo.pop());for(t=0;t<this.numRows;t++)this.ptInfo[0][t].update=!0}}function r(e){if(e)for(var t=0;t<this.numRows;t++)this.ptInfo[t].push(this.ptInfo[t].shift()),this.ptInfo[t][this.numRows-1].update=!0;else for(t=0;t<this.numRows;t++)this.ptInfo[t].unshift(this.ptInfo[t].pop()),this.ptInfo[t][0].update=!0}function o(e,t){var a=e>=0?e%(this.heightResolution*this.heightResolution):this.heightResolution*this.heightResolution-1-Math.abs(e)%(this.heightResolution*this.heightResolution);return t&&console.log(\"ind, _ind\",e,a),parseInt(i.substr(2*a,2),16)}function s(e,t,a){return e+(t-e)*a}function c(e,t,a){var i=e*(this.heightResolution/100),n=t*(this.heightResolution/100);a&&console.log(\"/////////// GET PT: _x, _y\",i,n);var r=this.getHeightAtIndex(Math.floor(n)*this.heightResolution+Math.floor(i),a),o=this.getHeightAtIndex(Math.floor(n)*this.heightResolution+Math.ceil(i),a),c=this.getHeightAtIndex(Math.ceil(n)*this.heightResolution+Math.floor(i),a),d=this.getHeightAtIndex(Math.ceil(n)*this.heightResolution+Math.ceil(i),a),b=i>=0?i%1:1+i%1,f=n>=0?n%1:1+n%1;return a&&(console.log(\"getHeightAtIndex\",r,o,c,d),console.log(\"_x%1, _y%1\",i%1,n%1),console.log(\"xMixer, yMixer\",b,f),console.log(\"lerp\",s(r,o,i%1),s(c,d,i%1),s(s(r,o,i%1),s(c,d,i%1),n%1)),console.log(\"lerp_wMIXER\",s(r,o,b),s(c,d,b),s(s(r,o,b),s(c,d,b),f)),console.log(s(s(r,o,i%1),s(c,d,i%1),n%1))),{u:.5/2048+2047/2048*(e/100),v:1-(.5/2048+2047/2048*(t/100)),z:s(s(r,o,b),s(c,d,b),f)/15}}function d(){for(var e=[],t=0;t<this.numRows;t++)for(var a=0;a<this.numRows;a++)e.push(-this.xPos[t],this.ptInfo[t][a].z,this.yPos[a]);return e}function b(){for(var e=[],t=0;t<this.numRows;t++)for(var a=0;a<this.numRows;a++)e.push(0,1,0);return e}function f(){for(var e=[],t=0;t<this.numRows;t++)for(var a=0;a<this.numRows;a++)e.push(this.ptInfo[t][a].u,this.ptInfo[t][a].v);return e}function h(){for(var e=[],t=0;t<this.numRows;t++)for(var a=0;a<this.numRows;a++)e.push(-this.xPos[t],this.ptInfo[t][a].z,this.yPos[a],0,1,0,this.ptInfo[t][a].u,this.ptInfo[t][a].v);return e}function l(){for(var e=[],t=0;t<this.numRows-1;t++)for(var a=0;a<this.numRows-1;a++)e.push(this.ptInfo[t][a].index,this.ptInfo[t][a+1].index,this.ptInfo[t+1][a].index,this.ptInfo[t+1][a].index,this.ptInfo[t][a+1].index,this.ptInfo[t+1][a+1].index);return e}function u(){for(var e=[],t=0;t<this.numRows-1;t++)for(var a=0;a<this.numRows-1;a++)e.push(this.ptInfo[t][a].index,this.ptInfo[t+1][a].index,this.ptInfo[t][a+1].index,this.ptInfo[t+1][a].index,this.ptInfo[t+1][a+1].index,this.ptInfo[t][a+1].index);return e}function p(e,t){return e.bind?e.bind(t):function(){var a=Array.prototype.slice.call(arguments,0);return e.apply(t,a)}}return function(i,s){this.size=i,this.halfSize=i/2,this.spacing=i/s,this.currentPosition=[0,0],this.numRows=s+2,this.lastRow=this.numRows-1,this.xPos=[],this.yPos=[],this.ptInfo=[],this.offset=[0,0],this.updateList=[],this.heightResolution=256;for(var m=0,g=0;g<this.numRows;g++){for(var v=[],y=[],x=0;x<this.numRows;x++){var w={x:0,y:0,z:0,index:0,update:!0};w.index=m,m++,v.push(w),y.push(!0)}this.xPos.push(0),this.yPos.push(0),this.ptInfo.push(v),this.updateList.push(y)}this.move=p(e,this),this.setPosition=p(t,this),this.slide=p(a,this),this.wrap_horizontal=p(n,this),this.wrap_vertical=p(r,this),this.getPt=p(c,this),this.getHeightAtIndex=p(o,this),this.returnPtArray=p(d,this),this.returnNormalArray=p(b,this),this.returnUVArray=p(f,this),this.returnIndiceArray=p(l,this),this.returnIndiceArraySnap=p(u,this),this.returnPackedArray=p(h,this),this.setPosition(0,0)}}();function r(){this.frontWheelX=2.6077,this.frontWheelSpace=1.36649;this.backWheelX=-2.25336,this.backWheelSpace=1.82944;this.topSpeedXY=40,this.speedXY=0,this.vectorXY=[0,1],this.accelerationXY=15,this.accelerationXY_Mult=0,this.frictionXY=.98,this.onGround=[!0,!0];var e=[[-this.frontWheelSpace,this.frontWheelX],[this.frontWheelSpace,this.frontWheelX],[-this.backWheelSpace,this.backWheelX],[this.backWheelSpace,this.backWheelX]];this.velocityZ=[0,0,0,0],this.positionsZ=[0,0,0,0],this.prev_positionsZ=[0,0,0,0],this.accelerationZ=-65,this.wheelPositions=[[-this.frontWheelSpace,this.frontWheelX,0],[this.frontWheelSpace,this.frontWheelX,0],[-this.backWheelSpace,this.backWheelX,0],[this.backWheelSpace,this.backWheelX,0]];var t=this.frontWheelX-this.backWheelX;this.rotation=0,this.tilt=0,this.roll=0,this.midHeight=0,this.wheelHeights=[0,0,0,0];var a=!0,i=function(e,t,a){return e+(t-e)*a};this.update=function(e,n,r,o,s){a&&(this.positionsZ[0]=n+.3256125,this.positionsZ[1]=r+.3256125,this.positionsZ[2]=o+.3903525,this.positionsZ[3]=s+.3903525,a=!1),(this.onGround[0]||this.onGround[1])&&(0==this.accelerationXY_Mult&&(this.speedXY*=this.frictionXY),this.speedXY/Math.abs(this.speedXY)==-this.accelerationXY_Mult/Math.abs(this.accelerationXY_Mult)&&(this.speedXY*=Math.pow(this.frictionXY,3)),this.speedXY=Math.min(this.topSpeedXY,Math.max(-this.topSpeedXY,this.speedXY+this.accelerationXY*this.accelerationXY_Mult*e))),this.velocityZ[0]+=this.accelerationZ*e,this.velocityZ[1]+=this.accelerationZ*e,this.velocityZ[2]+=this.accelerationZ*e,this.velocityZ[3]+=this.accelerationZ*e,this.prev_positionsZ[0]=this.positionsZ[0],this.prev_positionsZ[1]=this.positionsZ[1],this.prev_positionsZ[2]=this.positionsZ[2],this.prev_positionsZ[3]=this.positionsZ[3],this.positionsZ[0]=Math.max(this.positionsZ[0]+this.velocityZ[0]*e,n+.3256125),this.positionsZ[1]=Math.max(this.positionsZ[1]+this.velocityZ[1]*e,r+.3256125),this.positionsZ[2]=Math.max(this.positionsZ[2]+this.velocityZ[2]*e,o+.3903525),this.positionsZ[3]=Math.max(this.positionsZ[3]+this.velocityZ[3]*e,s+.3903525),this.positionsZ[0]=i(this.positionsZ[0],(this.positionsZ[0]+this.positionsZ[1])/2,.5),this.positionsZ[0]=i(this.positionsZ[1],(this.positionsZ[0]+this.positionsZ[1])/2,.5),this.positionsZ[2]=i(this.positionsZ[2],(this.positionsZ[2]+this.positionsZ[3])/2,.5),this.positionsZ[3]=i(this.positionsZ[3],(this.positionsZ[2]+this.positionsZ[3])/2,.5),this.velocityZ[0]=Math.min((this.positionsZ[0]-this.prev_positionsZ[0])/e,30),this.velocityZ[1]=Math.min((this.positionsZ[1]-this.prev_positionsZ[1])/e,30),this.velocityZ[2]=Math.min((this.positionsZ[2]-this.prev_positionsZ[2])/e,30),this.velocityZ[3]=Math.min((this.positionsZ[3]-this.prev_positionsZ[3])/e,30);this.wheelPositions[0][2]=Math.max(this.positionsZ[0]-.75,n+.3256125),this.wheelPositions[1][2]=Math.max(this.positionsZ[1]-.75,r+.3256125),this.wheelPositions[2][2]=Math.max(this.positionsZ[2]-.75,o+.3903525),this.wheelPositions[3][2]=Math.max(this.positionsZ[3]-.75,s+.3903525),this.onGround[0]=this.wheelPositions[0][2]==n+.3256125||this.wheelPositions[1][2]==r+.3256125,this.onGround[1]=this.wheelPositions[2][2]==o+.3903525||this.wheelPositions[3][2]==s+.3903525;var c=(this.positionsZ[0]+this.positionsZ[1])/2,d=(this.positionsZ[2]+this.positionsZ[3])/2;this.midHeight=(this.positionsZ[0]+this.positionsZ[1]+this.positionsZ[2]+this.positionsZ[3])/4,this.tilt=Math.atan((c-d)/t),this.roll=(Math.atan((n-r)/(2*this.frontWheelSpace))+Math.atan((o-s)/(2*this.backWheelSpace)))/2},this.rotate=function(t){this.rotation+=t*Math.min(10,Math.abs(this.speedXY))/10;for(var a=0;a<4;a++)this.wheelPositions[a][0]=e[a][0]*Math.cos(this.rotation)-e[a][1]*Math.sin(this.rotation),this.wheelPositions[a][1]=e[a][0]*Math.sin(this.rotation)+e[a][1]*Math.cos(this.rotation);this.onGround[0]&&(this.vectorXY[0]=-Math.sin(this.rotation),this.vectorXY[1]=Math.cos(this.rotation))}}var o=function(){function e(e){console.log(\"Interaction\"),this.element=e.element?e.element:document.body,this.onTap=e.onTap?e.onTap:function(){},this.onSwipeUp=e.onSwipeUp?e.onSwipeUp:function(){},this.onSwipeDown=e.onSwipeDown?e.onSwipeDown:function(){},this.onSwipeLeft=e.onSwipeLeft?e.onSwipeLeft:function(){},this.onSwipeRight=e.onSwipeRight?e.onSwipeRight:function(){},this.onDrag=e.onDrag?e.onDrag:function(){},this.onDown=e.onDown?e.onDown:function(){},this.onMove=e.onMove?e.onMove:function(){},this.onUp=e.onUp?e.onUp:function(){},this.onMouseWheel=e.onMouseWheel?e.onMouseWheel:null,this.dragState={x:0,y:0,startX:0,startY:0,startTime:0},this.onMouseDown=i.bind(this),this.onMouseMove=o.bind(this),this.onMouseUp=s.bind(this),this.onTouchStart=c.bind(this),this.onTouchMove=f.bind(this),this.onTouchEnd=h.bind(this),this.down=l.bind(this),this.move=u.bind(this),this.keyDown=m.bind(this),this.keyUp=g.bind(this),this.up=p.bind(this),this.arrows={up:!1,down:!1,left:!1,right:!1},t.call(this)}function t(){this.element.addEventListener(\"mousedown\",this.onMouseDown),this.element.addEventListener(\"touchstart\",this.onTouchStart),this.element.addEventListener(\"keydown\",this.keyDown),this.element.addEventListener(\"keyup\",this.keyUp),this.onMouseWheel&&this.element.addEventListener(\"wheel\",this.onMouseWheel)}function a(){this.element.removeEventListener(\"mousedown\",this.onMouseDown),this.element.removeEventListener(\"touchstart\",this.onTouchStart),this.element.removeEventListener(\"keydown\",this.keyDown),this.element.removeEventListener(\"keyup\",this.keyUp),this.mousedrag&&r.call(this),this.touchdrag&&b.call(this),this.onMouseWheel&&this.element.removeEventListener(\"wheel\",this.onMouseWheel)}function i(e){e.preventDefault(),this.dragging||(this.down(e.pageX,e.pageY),n.call(this))}function n(){this.mousedrag=!0,document.body.addEventListener(\"mousemove\",this.onMouseMove),document.body.addEventListener(\"mouseup\",this.onMouseUp),document.body.addEventListener(\"mouseleave\",this.onMouseUp)}function r(){this.mousedrag=!1,document.body.removeEventListener(\"mousemove\",this.onMouseMove),document.body.removeEventListener(\"mouseup\",this.onMouseUp),document.body.removeEventListener(\"mouseleave\",this.onMouseUp)}function o(e){e.preventDefault(),this.move(e.pageX,e.pageY)}function s(e){e.preventDefault(),this.up(e.pageX,e.pageY),r.call(this)}function c(e){if(e.preventDefault(),!this.dragging){var t=e.touches[0];this.down(t.pageX,t.pageY),d.call(this)}}function d(e){this.touchdrag=!0,document.body.addEventListener(\"touchmove\",this.onTouchMove,{passive:!1}),document.body.addEventListener(\"touchend\",this.onTouchEnd)}function b(){this.touchdrag=!1,document.body.removeEventListener(\"touchmove\",this.onTouchMove,{passive:!1}),document.body.removeEventListener(\"touchend\",this.onTouchEnd)}function f(e){e.preventDefault();var t=e.touches[0];this.move(t.pageX,t.pageY)}function h(e){e.preventDefault();var t=e.changedTouches[0];this.up(t.pageX,t.pageY),b.call(this)}function l(e,t){this.moved=!1,this.dragging=!0,this.dragState.x=this.dragState.startX=e,this.dragState.y=this.dragState.startY=t,this.dragState.maxMove=0,this.dragState.startTime=Date.now(),this.dragState.currTime=this.dragState.startTime,this.dragState.deltaTime=0,this.onDown(e,t)}function u(e,t){this.moved=!0,this.onDrag(e,t,e-this.dragState.x,t-this.dragState.y);var a=Date.now();this.dragState.deltaTime=a-this.dragState.currTime,this.dragState.currTime=a,this.dragState.maxMove=Math.max(this.dragState.maxMove,Math.pow(this.dragState.startX-e,2)+Math.pow(this.dragState.startY-t,2)),this.dragState.x=e,this.dragState.y=t}function p(e,t){this.dragging=!1,this.onUp(e,t,{distance:this.dragState.maxMove,duration:Date.now()-this.dragState.startTime})}function m(e){\"38\"==(e=e||window.event).keyCode?this.arrows.up=!0:\"40\"==e.keyCode?this.arrows.down=!0:\"37\"==e.keyCode?this.arrows.left=!0:\"39\"==e.keyCode&&(this.arrows.right=!0)}function g(e){\"38\"==(e=e||window.event).keyCode?this.arrows.up=!1:\"40\"==e.keyCode?this.arrows.down=!1:\"37\"==e.keyCode?this.arrows.left=!1:\"39\"==e.keyCode&&(this.arrows.right=!1)}return e.prototype.destroy=function(){a.call(this),this.element=null,this.onStart=null,this.onDrag=null,this.onEnd=null,this.onMouseDown=null,this.onMouseMove=null,this.onMouseUp=null,this.onTouchStart=null,this.onTouchMove=null,this.onTouchEnd=null,this.down=null,this.move=null,this.up=null},e.prototype.addListeners=t,e.prototype.removeListeners=a,e}();void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return\"number\"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),\"name\"in Function.prototype==!1&&Object.defineProperty(Function.prototype,\"name\",{get:function(){return this.toString().match(/^\\s*function\\s*([^\\(\\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError(\"Cannot convert undefined or null to object\");for(var t=Object(e),a=1;a<arguments.length;a++){var i=arguments[a];if(null!=i)for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t});var s=0,c=1,d=2,b=1,f=2,h=3,l=0,u=1,p=2,m=0,g=1,v=2,y=0,x=1,w=2,_=3,M=4,S=5,T=100,E=101,A=102,L=103,R=104,P=200,C=201,O=202,I=203,D=204,N=205,z=206,U=207,B=208,F=209,G=210,H=0,V=1,k=2,j=3,W=4,X=5,q=6,Y=7,Z=0,J=1,K=2,Q=0,$=1,ee=2,te=3,ae=4,ie=5,ne=301,re=302,oe=303,se=304,ce=305,de=306,be=307,fe=1e3,he=1001,le=1002,ue=1003,pe=1004,me=1005,ge=1006,ve=1007,ye=1008,xe=1009,we=1010,_e=1011,Me=1012,Se=1013,Te=1014,Ee=1015,Ae=1016,Le=1017,Re=1018,Pe=1019,Ce=1020,Oe=1021,Ie=1022,De=1023,Ne=1024,ze=1025,Ue=1026,Be=1027,Fe=1028,Ge=33776,He=33777,Ve=33778,ke=33779,je=35840,We=35841,Xe=35842,qe=35843,Ye=36196,Ze=37808,Je=37809,Ke=37810,Qe=37811,$e=37812,et=37813,tt=37814,at=37815,it=37816,nt=37817,rt=37818,ot=37819,st=37820,ct=37821,dt=2201,bt=2400,ft=0,ht=1,lt=2,ut=3e3,pt=3001,mt=3007,gt=3002,vt=3003,yt=3004,xt=3005,wt=3006,_t=3200,Mt=3201,St=0,Tt=1,Et=7680,At=519;function Lt(){}Object.assign(Lt.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var a=this._listeners;void 0===a[e]&&(a[e]=[]),-1===a[e].indexOf(t)&&a[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var a=this._listeners;return void 0!==a[e]&&-1!==a[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var a=this._listeners[e];if(void 0!==a){var i=a.indexOf(t);-1!==i&&a.splice(i,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var a=t.slice(0),i=0,n=a.length;i<n;i++)a[i].call(this,e)}}}});for(var Rt=[],Pt=0;Pt<256;Pt++)Rt[Pt]=(Pt<16?\"0\":\"\")+Pt.toString(16);var Ct={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,a=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Rt[255&e]+Rt[e>>8&255]+Rt[e>>16&255]+Rt[e>>24&255]+\"-\"+Rt[255&t]+Rt[t>>8&255]+\"-\"+Rt[t>>16&15|64]+Rt[t>>24&255]+\"-\"+Rt[63&a|128]+Rt[a>>8&255]+\"-\"+Rt[a>>16&255]+Rt[a>>24&255]+Rt[255&i]+Rt[i>>8&255]+Rt[i>>16&255]+Rt[i>>24&255]).toUpperCase()},clamp:function(e,t,a){return Math.max(t,Math.min(a,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,a,i,n){return i+(e-t)*(n-i)/(a-t)},lerp:function(e,t,a){return(1-a)*e+a*t},smoothstep:function(e,t,a){return e<=t?0:e>=a?1:(e=(e-t)/(a-t))*e*(3-2*e)},smootherstep:function(e,t,a){return e<=t?0:e>=a?1:(e=(e-t)/(a-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*Ct.DEG2RAD},radToDeg:function(e){return e*Ct.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};function Ot(e,t){this.x=e||0,this.y=t||0}function It(e,t,a,i){this._x=e||0,this._y=t||0,this._z=a||0,this._w=void 0!==i?i:1}Object.defineProperties(Ot.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(Ot.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error(\"index is out of range: \"+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error(\"index is out of range: \"+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn(\"THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\"),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn(\"THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\"),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,a=this.y,i=e.elements;return this.x=i[0]*t+i[3]*a+i[6],this.y=i[1]*t+i[4]*a+i[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){var a=this.length();return this.divideScalar(a||1).multiplyScalar(Math.max(e,Math.min(t,a)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,a=this.y-e.y;return t*t+a*a},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,a){return this.subVectors(t,e).multiplyScalar(a).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,a){return void 0!==a&&console.warn(\"THREE.Vector2: offset has been removed from .fromBufferAttribute().\"),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var a=Math.cos(t),i=Math.sin(t),n=this.x-e.x,r=this.y-e.y;return this.x=n*a-r*i+e.x,this.y=n*i+r*a+e.y,this}}),Object.assign(It,{slerp:function(e,t,a,i){return a.copy(e).slerp(t,i)},slerpFlat:function(e,t,a,i,n,r,o){var s=a[i+0],c=a[i+1],d=a[i+2],b=a[i+3],f=n[r+0],h=n[r+1],l=n[r+2],u=n[r+3];if(b!==u||s!==f||c!==h||d!==l){var p=1-o,m=s*f+c*h+d*l+b*u,g=m>=0?1:-1,v=1-m*m;if(v>Number.EPSILON){var y=Math.sqrt(v),x=Math.atan2(y,m*g);p=Math.sin(p*x)/y,o=Math.sin(o*x)/y}var w=o*g;if(s=s*p+f*w,c=c*p+h*w,d=d*p+l*w,b=b*p+u*w,p===1-o){var _=1/Math.sqrt(s*s+c*c+d*d+b*b);s*=_,c*=_,d*=_,b*=_}}e[t]=s,e[t+1]=c,e[t+2]=d,e[t+3]=b}}),Object.defineProperties(It.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}}),Object.assign(It.prototype,{isQuaternion:!0,set:function(e,t,a,i){return this._x=e,this._y=t,this._z=a,this._w=i,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error(\"THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.\");var a=e._x,i=e._y,n=e._z,r=e.order,o=Math.cos,s=Math.sin,c=o(a/2),d=o(i/2),b=o(n/2),f=s(a/2),h=s(i/2),l=s(n/2);return\"XYZ\"===r?(this._x=f*d*b+c*h*l,this._y=c*h*b-f*d*l,this._z=c*d*l+f*h*b,this._w=c*d*b-f*h*l):\"YXZ\"===r?(this._x=f*d*b+c*h*l,this._y=c*h*b-f*d*l,this._z=c*d*l-f*h*b,this._w=c*d*b+f*h*l):\"ZXY\"===r?(this._x=f*d*b-c*h*l,this._y=c*h*b+f*d*l,this._z=c*d*l+f*h*b,this._w=c*d*b-f*h*l):\"ZYX\"===r?(this._x=f*d*b-c*h*l,this._y=c*h*b+f*d*l,this._z=c*d*l-f*h*b,this._w=c*d*b+f*h*l):\"YZX\"===r?(this._x=f*d*b+c*h*l,this._y=c*h*b+f*d*l,this._z=c*d*l-f*h*b,this._w=c*d*b-f*h*l):\"XZY\"===r&&(this._x=f*d*b-c*h*l,this._y=c*h*b-f*d*l,this._z=c*d*l+f*h*b,this._w=c*d*b+f*h*l),!1!==t&&this._onChangeCallback(),this},setFromAxisAngle:function(e,t){var a=t/2,i=Math.sin(a);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(a),this._onChangeCallback(),this},setFromRotationMatrix:function(e){var t,a=e.elements,i=a[0],n=a[4],r=a[8],o=a[1],s=a[5],c=a[9],d=a[2],b=a[6],f=a[10],h=i+s+f;return h>0?(t=.5/Math.sqrt(h+1),this._w=.25/t,this._x=(b-c)*t,this._y=(r-d)*t,this._z=(o-n)*t):i>s&&i>f?(t=2*Math.sqrt(1+i-s-f),this._w=(b-c)/t,this._x=.25*t,this._y=(n+o)/t,this._z=(r+d)/t):s>f?(t=2*Math.sqrt(1+s-i-f),this._w=(r-d)/t,this._x=(n+o)/t,this._y=.25*t,this._z=(c+b)/t):(t=2*Math.sqrt(1+f-i-s),this._w=(o-n)/t,this._x=(r+d)/t,this._y=(c+b)/t,this._z=.25*t),this._onChangeCallback(),this},setFromUnitVectors:function(e,t){var a=e.dot(t)+1;return a<1e-6?(a=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=a):(this._x=0,this._y=-e.z,this._z=e.y,this._w=a)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=a),this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(Ct.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var a=this.angleTo(e);if(0===a)return this;var i=Math.min(1,t/a);return this.slerp(e,i),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn(\"THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.\"),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var a=e._x,i=e._y,n=e._z,r=e._w,o=t._x,s=t._y,c=t._z,d=t._w;return this._x=a*d+r*o+i*c-n*s,this._y=i*d+r*s+n*o-a*c,this._z=n*d+r*c+a*s-i*o,this._w=r*d-a*o-i*s-n*c,this._onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var a=this._x,i=this._y,n=this._z,r=this._w,o=r*e._w+a*e._x+i*e._y+n*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=r,this._x=a,this._y=i,this._z=n,this;var s=1-o*o;if(s<=Number.EPSILON){var c=1-t;return this._w=c*r+t*this._w,this._x=c*a+t*this._x,this._y=c*i+t*this._y,this._z=c*n+t*this._z,this.normalize(),this._onChangeCallback(),this}var d=Math.sqrt(s),b=Math.atan2(d,o),f=Math.sin((1-t)*b)/d,h=Math.sin(t*b)/d;return this._w=r*f+this._w*h,this._x=a*f+this._x*h,this._y=i*f+this._y*h,this._z=n*f+this._z*h,this._onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});var Dt=new zt,Nt=new It;function zt(e,t,a){this.x=e||0,this.y=t||0,this.z=a||0}Object.assign(zt.prototype,{isVector3:!0,set:function(e,t,a){return this.x=e,this.y=t,this.z=a,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error(\"index is out of range: \"+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error(\"index is out of range: \"+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn(\"THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\"),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn(\"THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\"),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn(\"THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.\"),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(e){return e&&e.isEuler||console.error(\"THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.\"),this.applyQuaternion(Nt.setFromEuler(e))},applyAxisAngle:function(e,t){return this.applyQuaternion(Nt.setFromAxisAngle(e,t))},applyMatrix3:function(e){var t=this.x,a=this.y,i=this.z,n=e.elements;return this.x=n[0]*t+n[3]*a+n[6]*i,this.y=n[1]*t+n[4]*a+n[7]*i,this.z=n[2]*t+n[5]*a+n[8]*i,this},applyMatrix4:function(e){var t=this.x,a=this.y,i=this.z,n=e.elements,r=1/(n[3]*t+n[7]*a+n[11]*i+n[15]);return this.x=(n[0]*t+n[4]*a+n[8]*i+n[12])*r,this.y=(n[1]*t+n[5]*a+n[9]*i+n[13])*r,this.z=(n[2]*t+n[6]*a+n[10]*i+n[14])*r,this},applyQuaternion:function(e){var t=this.x,a=this.y,i=this.z,n=e.x,r=e.y,o=e.z,s=e.w,c=s*t+r*i-o*a,d=s*a+o*t-n*i,b=s*i+n*a-r*t,f=-n*t-r*a-o*i;return this.x=c*s+f*-n+d*-o-b*-r,this.y=d*s+f*-r+b*-n-c*-o,this.z=b*s+f*-o+c*-r-d*-n,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){var t=this.x,a=this.y,i=this.z,n=e.elements;return this.x=n[0]*t+n[4]*a+n[8]*i,this.y=n[1]*t+n[5]*a+n[9]*i,this.z=n[2]*t+n[6]*a+n[10]*i,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){var a=this.length();return this.divideScalar(a||1).multiplyScalar(Math.max(e,Math.min(t,a)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,a){return this.subVectors(t,e).multiplyScalar(a).add(e)},cross:function(e,t){return void 0!==t?(console.warn(\"THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.\"),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var a=e.x,i=e.y,n=e.z,r=t.x,o=t.y,s=t.z;return this.x=i*s-n*o,this.y=n*r-a*s,this.z=a*o-i*r,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(e){return Dt.copy(this).projectOnVector(e),this.sub(Dt)},reflect:function(e){return this.sub(Dt.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());0===t&&console.error(\"THREE.Vector3: angleTo() can't handle zero length vectors.\");var a=this.dot(e)/t;return Math.acos(Ct.clamp(a,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,a=this.y-e.y,i=this.z-e.z;return t*t+a*a+i*i},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,a){var i=Math.sin(t)*e;return this.x=i*Math.sin(a),this.y=Math.cos(t)*e,this.z=i*Math.cos(a),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,a){return this.x=e*Math.sin(t),this.y=a,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),a=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=a,this.z=i,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,a){return void 0!==a&&console.warn(\"THREE.Vector3: offset has been removed from .fromBufferAttribute().\"),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}});var Ut,Bt=new zt;function Ft(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error(\"THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.\")}Object.assign(Ft.prototype,{isMatrix3:!0,set:function(e,t,a,i,n,r,o,s,c){var d=this.elements;return d[0]=e,d[1]=i,d[2]=o,d[3]=t,d[4]=n,d[5]=s,d[6]=a,d[7]=r,d[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,a=e.elements;return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(e){for(var t=0,a=e.count;t<a;t++)Bt.x=e.getX(t),Bt.y=e.getY(t),Bt.z=e.getZ(t),Bt.applyMatrix3(this),e.setXYZ(t,Bt.x,Bt.y,Bt.z);return e},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var a=e.elements,i=t.elements,n=this.elements,r=a[0],o=a[3],s=a[6],c=a[1],d=a[4],b=a[7],f=a[2],h=a[5],l=a[8],u=i[0],p=i[3],m=i[6],g=i[1],v=i[4],y=i[7],x=i[2],w=i[5],_=i[8];return n[0]=r*u+o*g+s*x,n[3]=r*p+o*v+s*w,n[6]=r*m+o*y+s*_,n[1]=c*u+d*g+b*x,n[4]=c*p+d*v+b*w,n[7]=c*m+d*y+b*_,n[2]=f*u+h*g+l*x,n[5]=f*p+h*v+l*w,n[8]=f*m+h*y+l*_,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],a=e[1],i=e[2],n=e[3],r=e[4],o=e[5],s=e[6],c=e[7],d=e[8];return t*r*d-t*o*c-a*n*d+a*o*s+i*n*c-i*r*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error(\"THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.\");var a=e.elements,i=this.elements,n=a[0],r=a[1],o=a[2],s=a[3],c=a[4],d=a[5],b=a[6],f=a[7],h=a[8],l=h*c-d*f,u=d*b-h*s,p=f*s-c*b,m=n*l+r*u+o*p;if(0===m){var g=\"THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0\";if(!0===t)throw new Error(g);return console.warn(g),this.identity()}var v=1/m;return i[0]=l*v,i[1]=(o*f-h*r)*v,i[2]=(d*r-o*c)*v,i[3]=u*v,i[4]=(h*n-o*b)*v,i[5]=(o*s-d*n)*v,i[6]=p*v,i[7]=(r*b-f*n)*v,i[8]=(c*n-r*s)*v,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,a,i,n,r,o){var s=Math.cos(n),c=Math.sin(n);this.set(a*s,a*c,-a*(s*r+c*o)+r+e,-i*c,i*s,-i*(-c*r+s*o)+o+t,0,0,1)},scale:function(e,t){var a=this.elements;return a[0]*=e,a[3]*=e,a[6]*=e,a[1]*=t,a[4]*=t,a[7]*=t,this},rotate:function(e){var t=Math.cos(e),a=Math.sin(e),i=this.elements,n=i[0],r=i[3],o=i[6],s=i[1],c=i[4],d=i[7];return i[0]=t*n+a*s,i[3]=t*r+a*c,i[6]=t*o+a*d,i[1]=-a*n+t*s,i[4]=-a*r+t*c,i[7]=-a*o+t*d,this},translate:function(e,t){var a=this.elements;return a[0]+=e*a[2],a[3]+=e*a[5],a[6]+=e*a[8],a[1]+=t*a[2],a[4]+=t*a[5],a[7]+=t*a[8],this},equals:function(e){for(var t=this.elements,a=e.elements,i=0;i<9;i++)if(t[i]!==a[i])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var a=0;a<9;a++)this.elements[a]=e[a+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var a=this.elements;return e[t]=a[0],e[t+1]=a[1],e[t+2]=a[2],e[t+3]=a[3],e[t+4]=a[4],e[t+5]=a[5],e[t+6]=a[6],e[t+7]=a[7],e[t+8]=a[8],e}});var Gt={getDataURL:function(e){var t;if(\"undefined\"==typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Ut&&(Ut=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"canvas\")),Ut.width=e.width,Ut.height=e.height;var a=Ut.getContext(\"2d\");e instanceof ImageData?a.putImageData(e,0,0):a.drawImage(e,0,0,e.width,e.height),t=Ut}return t.width>2048||t.height>2048?t.toDataURL(\"image/jpeg\",.6):t.toDataURL(\"image/png\")}},Ht=0;function Vt(e,t,a,i,n,r,o,s,c,d){Object.defineProperty(this,\"id\",{value:Ht++}),this.uuid=Ct.generateUUID(),this.name=\"\",this.image=void 0!==e?e:Vt.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:Vt.DEFAULT_MAPPING,this.wrapS=void 0!==a?a:he,this.wrapT=void 0!==i?i:he,this.magFilter=void 0!==n?n:ge,this.minFilter=void 0!==r?r:ye,this.anisotropy=void 0!==c?c:1,this.format=void 0!==o?o:De,this.type=void 0!==s?s:xe,this.offset=new Ot(0,0),this.repeat=new Ot(1,1),this.center=new Ot(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ft,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==d?d:ut,this.version=0,this.onUpdate=null}function kt(e,t,a,i){this.x=e||0,this.y=t||0,this.z=a||0,this.w=void 0!==i?i:1}function jt(e,t,a){this.width=e,this.height=t,this.scissor=new kt(0,0,e,t),this.scissorTest=!1,this.viewport=new kt(0,0,e,t),a=a||{},this.texture=new Vt(void 0,void 0,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=void 0!==a.generateMipmaps&&a.generateMipmaps,this.texture.minFilter=void 0!==a.minFilter?a.minFilter:ge,this.depthBuffer=void 0===a.depthBuffer||a.depthBuffer,this.stencilBuffer=void 0===a.stencilBuffer||a.stencilBuffer,this.depthTexture=void 0!==a.depthTexture?a.depthTexture:null}function Wt(e,t,a){jt.call(this,e,t,a),this.samples=4}Vt.DEFAULT_IMAGE=void 0,Vt.DEFAULT_MAPPING=300,Vt.prototype=Object.assign(Object.create(Lt.prototype),{constructor:Vt,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||\"string\"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var a={metadata:{version:4.5,type:\"Texture\",generator:\"Texture.toJSON\"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var i=this.image;if(void 0===i.uuid&&(i.uuid=Ct.generateUUID()),!t&&void 0===e.images[i.uuid]){var n;if(Array.isArray(i)){n=[];for(var r=0,o=i.length;r<o;r++)n.push(Gt.getDataURL(i[r]))}else n=Gt.getDataURL(i);e.images[i.uuid]={uuid:i.uuid,url:n}}a.image=i.uuid}return t||(e.textures[this.uuid]=a),a},dispose:function(){this.dispatchEvent({type:\"dispose\"})},transformUv:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case fe:e.x=e.x-Math.floor(e.x);break;case he:e.x=e.x<0?0:1;break;case le:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case fe:e.y=e.y-Math.floor(e.y);break;case he:e.y=e.y<0?0:1;break;case le:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(Vt.prototype,\"needsUpdate\",{set:function(e){!0===e&&this.version++}}),Object.defineProperties(kt.prototype,{width:{get:function(){return this.z},set:function(e){this.z=e}},height:{get:function(){return this.w},set:function(e){this.w=e}}}),Object.assign(kt.prototype,{isVector4:!0,set:function(e,t,a,i){return this.x=e,this.y=t,this.z=a,this.w=i,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error(\"index is out of range: \"+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error(\"index is out of range: \"+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn(\"THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\"),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn(\"THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\"),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,a=this.y,i=this.z,n=this.w,r=e.elements;return this.x=r[0]*t+r[4]*a+r[8]*i+r[12]*n,this.y=r[1]*t+r[5]*a+r[9]*i+r[13]*n,this.z=r[2]*t+r[6]*a+r[10]*i+r[14]*n,this.w=r[3]*t+r[7]*a+r[11]*i+r[15]*n,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,a,i,n,r=e.elements,o=r[0],s=r[4],c=r[8],d=r[1],b=r[5],f=r[9],h=r[2],l=r[6],u=r[10];if(Math.abs(s-d)<.01&&Math.abs(c-h)<.01&&Math.abs(f-l)<.01){if(Math.abs(s+d)<.1&&Math.abs(c+h)<.1&&Math.abs(f+l)<.1&&Math.abs(o+b+u-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var p=(o+1)/2,m=(b+1)/2,g=(u+1)/2,v=(s+d)/4,y=(c+h)/4,x=(f+l)/4;return p>m&&p>g?p<.01?(a=0,i=.707106781,n=.707106781):(i=v/(a=Math.sqrt(p)),n=y/a):m>g?m<.01?(a=.707106781,i=0,n=.707106781):(a=v/(i=Math.sqrt(m)),n=x/i):g<.01?(a=.707106781,i=.707106781,n=0):(a=y/(n=Math.sqrt(g)),i=x/n),this.set(a,i,n,t),this}var w=Math.sqrt((l-f)*(l-f)+(c-h)*(c-h)+(d-s)*(d-s));return Math.abs(w)<.001&&(w=1),this.x=(l-f)/w,this.y=(c-h)/w,this.z=(d-s)/w,this.w=Math.acos((o+b+u-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this},clampLength:function(e,t){var a=this.length();return this.divideScalar(a||1).multiplyScalar(Math.max(e,Math.min(t,a)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,a){return this.subVectors(t,e).multiplyScalar(a).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,a){return void 0!==a&&console.warn(\"THREE.Vector4: offset has been removed from .fromBufferAttribute().\"),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),jt.prototype=Object.assign(Object.create(Lt.prototype),{constructor:jt,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:\"dispose\"})}}),Wt.prototype=Object.assign(Object.create(jt.prototype),{constructor:Wt,isWebGLMultisampleRenderTarget:!0,copy:function(e){return jt.prototype.copy.call(this,e),this.samples=e.samples,this}});var Xt=new zt,qt=new $t,Yt=new zt(0,0,0),Zt=new zt(1,1,1),Jt=new zt,Kt=new zt,Qt=new zt;function $t(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error(\"THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.\")}Object.assign($t.prototype,{isMatrix4:!0,set:function(e,t,a,i,n,r,o,s,c,d,b,f,h,l,u,p){var m=this.elements;return m[0]=e,m[4]=t,m[8]=a,m[12]=i,m[1]=n,m[5]=r,m[9]=o,m[13]=s,m[2]=c,m[6]=d,m[10]=b,m[14]=f,m[3]=h,m[7]=l,m[11]=u,m[15]=p,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new $t).fromArray(this.elements)},copy:function(e){var t=this.elements,a=e.elements;return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],this},copyPosition:function(e){var t=this.elements,a=e.elements;return t[12]=a[12],t[13]=a[13],t[14]=a[14],this},extractBasis:function(e,t,a){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),a.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,a){return this.set(e.x,t.x,a.x,0,e.y,t.y,a.y,0,e.z,t.z,a.z,0,0,0,0,1),this},extractRotation:function(e){var t=this.elements,a=e.elements,i=1/Xt.setFromMatrixColumn(e,0).length(),n=1/Xt.setFromMatrixColumn(e,1).length(),r=1/Xt.setFromMatrixColumn(e,2).length();return t[0]=a[0]*i,t[1]=a[1]*i,t[2]=a[2]*i,t[3]=0,t[4]=a[4]*n,t[5]=a[5]*n,t[6]=a[6]*n,t[7]=0,t[8]=a[8]*r,t[9]=a[9]*r,t[10]=a[10]*r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error(\"THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.\");var t=this.elements,a=e.x,i=e.y,n=e.z,r=Math.cos(a),o=Math.sin(a),s=Math.cos(i),c=Math.sin(i),d=Math.cos(n),b=Math.sin(n);if(\"XYZ\"===e.order){var f=r*d,h=r*b,l=o*d,u=o*b;t[0]=s*d,t[4]=-s*b,t[8]=c,t[1]=h+l*c,t[5]=f-u*c,t[9]=-o*s,t[2]=u-f*c,t[6]=l+h*c,t[10]=r*s}else if(\"YXZ\"===e.order){var p=s*d,m=s*b,g=c*d,v=c*b;t[0]=p+v*o,t[4]=g*o-m,t[8]=r*c,t[1]=r*b,t[5]=r*d,t[9]=-o,t[2]=m*o-g,t[6]=v+p*o,t[10]=r*s}else if(\"ZXY\"===e.order){p=s*d,m=s*b,g=c*d,v=c*b;t[0]=p-v*o,t[4]=-r*b,t[8]=g+m*o,t[1]=m+g*o,t[5]=r*d,t[9]=v-p*o,t[2]=-r*c,t[6]=o,t[10]=r*s}else if(\"ZYX\"===e.order){f=r*d,h=r*b,l=o*d,u=o*b;t[0]=s*d,t[4]=l*c-h,t[8]=f*c+u,t[1]=s*b,t[5]=u*c+f,t[9]=h*c-l,t[2]=-c,t[6]=o*s,t[10]=r*s}else if(\"YZX\"===e.order){var y=r*s,x=r*c,w=o*s,_=o*c;t[0]=s*d,t[4]=_-y*b,t[8]=w*b+x,t[1]=b,t[5]=r*d,t[9]=-o*d,t[2]=-c*d,t[6]=x*b+w,t[10]=y-_*b}else if(\"XZY\"===e.order){y=r*s,x=r*c,w=o*s,_=o*c;t[0]=s*d,t[4]=-b,t[8]=c*d,t[1]=y*b+_,t[5]=r*d,t[9]=x*b-w,t[2]=w*b-x,t[6]=o*d,t[10]=_*b+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(Yt,e,Zt)},lookAt:function(e,t,a){var i=this.elements;return Qt.subVectors(e,t),0===Qt.lengthSq()&&(Qt.z=1),Qt.normalize(),Jt.crossVectors(a,Qt),0===Jt.lengthSq()&&(1===Math.abs(a.z)?Qt.x+=1e-4:Qt.z+=1e-4,Qt.normalize(),Jt.crossVectors(a,Qt)),Jt.normalize(),Kt.crossVectors(Qt,Jt),i[0]=Jt.x,i[4]=Kt.x,i[8]=Qt.x,i[1]=Jt.y,i[5]=Kt.y,i[9]=Qt.y,i[2]=Jt.z,i[6]=Kt.z,i[10]=Qt.z,this},multiply:function(e,t){return void 0!==t?(console.warn(\"THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.\"),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var a=e.elements,i=t.elements,n=this.elements,r=a[0],o=a[4],s=a[8],c=a[12],d=a[1],b=a[5],f=a[9],h=a[13],l=a[2],u=a[6],p=a[10],m=a[14],g=a[3],v=a[7],y=a[11],x=a[15],w=i[0],_=i[4],M=i[8],S=i[12],T=i[1],E=i[5],A=i[9],L=i[13],R=i[2],P=i[6],C=i[10],O=i[14],I=i[3],D=i[7],N=i[11],z=i[15];return n[0]=r*w+o*T+s*R+c*I,n[4]=r*_+o*E+s*P+c*D,n[8]=r*M+o*A+s*C+c*N,n[12]=r*S+o*L+s*O+c*z,n[1]=d*w+b*T+f*R+h*I,n[5]=d*_+b*E+f*P+h*D,n[9]=d*M+b*A+f*C+h*N,n[13]=d*S+b*L+f*O+h*z,n[2]=l*w+u*T+p*R+m*I,n[6]=l*_+u*E+p*P+m*D,n[10]=l*M+u*A+p*C+m*N,n[14]=l*S+u*L+p*O+m*z,n[3]=g*w+v*T+y*R+x*I,n[7]=g*_+v*E+y*P+x*D,n[11]=g*M+v*A+y*C+x*N,n[15]=g*S+v*L+y*O+x*z,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(e){for(var t=0,a=e.count;t<a;t++)Xt.x=e.getX(t),Xt.y=e.getY(t),Xt.z=e.getZ(t),Xt.applyMatrix4(this),e.setXYZ(t,Xt.x,Xt.y,Xt.z);return e},determinant:function(){var e=this.elements,t=e[0],a=e[4],i=e[8],n=e[12],r=e[1],o=e[5],s=e[9],c=e[13],d=e[2],b=e[6],f=e[10],h=e[14];return e[3]*(+n*s*b-i*c*b-n*o*f+a*c*f+i*o*h-a*s*h)+e[7]*(+t*s*h-t*c*f+n*r*f-i*r*h+i*c*d-n*s*d)+e[11]*(+t*c*b-t*o*h-n*r*b+a*r*h+n*o*d-a*c*d)+e[15]*(-i*o*d-t*s*b+t*o*f+i*r*b-a*r*f+a*s*d)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e,t,a){var i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=a),this},getInverse:function(e,t){var a=this.elements,i=e.elements,n=i[0],r=i[1],o=i[2],s=i[3],c=i[4],d=i[5],b=i[6],f=i[7],h=i[8],l=i[9],u=i[10],p=i[11],m=i[12],g=i[13],v=i[14],y=i[15],x=l*v*f-g*u*f+g*b*p-d*v*p-l*b*y+d*u*y,w=m*u*f-h*v*f-m*b*p+c*v*p+h*b*y-c*u*y,_=h*g*f-m*l*f+m*d*p-c*g*p-h*d*y+c*l*y,M=m*l*b-h*g*b-m*d*u+c*g*u+h*d*v-c*l*v,S=n*x+r*w+o*_+s*M;if(0===S){var T=\"THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0\";if(!0===t)throw new Error(T);return console.warn(T),this.identity()}var E=1/S;return a[0]=x*E,a[1]=(g*u*s-l*v*s-g*o*p+r*v*p+l*o*y-r*u*y)*E,a[2]=(d*v*s-g*b*s+g*o*f-r*v*f-d*o*y+r*b*y)*E,a[3]=(l*b*s-d*u*s-l*o*f+r*u*f+d*o*p-r*b*p)*E,a[4]=w*E,a[5]=(h*v*s-m*u*s+m*o*p-n*v*p-h*o*y+n*u*y)*E,a[6]=(m*b*s-c*v*s-m*o*f+n*v*f+c*o*y-n*b*y)*E,a[7]=(c*u*s-h*b*s+h*o*f-n*u*f-c*o*p+n*b*p)*E,a[8]=_*E,a[9]=(m*l*s-h*g*s-m*r*p+n*g*p+h*r*y-n*l*y)*E,a[10]=(c*g*s-m*d*s+m*r*f-n*g*f-c*r*y+n*d*y)*E,a[11]=(h*d*s-c*l*s-h*r*f+n*l*f+c*r*p-n*d*p)*E,a[12]=M*E,a[13]=(h*g*o-m*l*o+m*r*u-n*g*u-h*r*v+n*l*v)*E,a[14]=(m*d*o-c*g*o-m*r*b+n*g*b+c*r*v-n*d*v)*E,a[15]=(c*l*o-h*d*o+h*r*b-n*l*b-c*r*u+n*d*u)*E,this},scale:function(e){var t=this.elements,a=e.x,i=e.y,n=e.z;return t[0]*=a,t[4]*=i,t[8]*=n,t[1]*=a,t[5]*=i,t[9]*=n,t[2]*=a,t[6]*=i,t[10]*=n,t[3]*=a,t[7]*=i,t[11]*=n,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],a=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,a,i))},makeTranslation:function(e,t,a){return this.set(1,0,0,e,0,1,0,t,0,0,1,a,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),a=Math.sin(e);return this.set(1,0,0,0,0,t,-a,0,0,a,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),a=Math.sin(e);return this.set(t,0,a,0,0,1,0,0,-a,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),a=Math.sin(e);return this.set(t,-a,0,0,a,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var a=Math.cos(t),i=Math.sin(t),n=1-a,r=e.x,o=e.y,s=e.z,c=n*r,d=n*o;return this.set(c*r+a,c*o-i*s,c*s+i*o,0,c*o+i*s,d*o+a,d*s-i*r,0,c*s-i*o,d*s+i*r,n*s*s+a,0,0,0,0,1),this},makeScale:function(e,t,a){return this.set(e,0,0,0,0,t,0,0,0,0,a,0,0,0,0,1),this},makeShear:function(e,t,a){return this.set(1,t,a,0,e,1,a,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,a){var i=this.elements,n=t._x,r=t._y,o=t._z,s=t._w,c=n+n,d=r+r,b=o+o,f=n*c,h=n*d,l=n*b,u=r*d,p=r*b,m=o*b,g=s*c,v=s*d,y=s*b,x=a.x,w=a.y,_=a.z;return i[0]=(1-(u+m))*x,i[1]=(h+y)*x,i[2]=(l-v)*x,i[3]=0,i[4]=(h-y)*w,i[5]=(1-(f+m))*w,i[6]=(p+g)*w,i[7]=0,i[8]=(l+v)*_,i[9]=(p-g)*_,i[10]=(1-(f+u))*_,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this},decompose:function(e,t,a){var i=this.elements,n=Xt.set(i[0],i[1],i[2]).length(),r=Xt.set(i[4],i[5],i[6]).length(),o=Xt.set(i[8],i[9],i[10]).length();this.determinant()<0&&(n=-n),e.x=i[12],e.y=i[13],e.z=i[14],qt.copy(this);var s=1/n,c=1/r,d=1/o;return qt.elements[0]*=s,qt.elements[1]*=s,qt.elements[2]*=s,qt.elements[4]*=c,qt.elements[5]*=c,qt.elements[6]*=c,qt.elements[8]*=d,qt.elements[9]*=d,qt.elements[10]*=d,t.setFromRotationMatrix(qt),a.x=n,a.y=r,a.z=o,this},makePerspective:function(e,t,a,i,n,r){void 0===r&&console.warn(\"THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.\");var o=this.elements,s=2*n/(t-e),c=2*n/(a-i),d=(t+e)/(t-e),b=(a+i)/(a-i),f=-(r+n)/(r-n),h=-2*r*n/(r-n);return o[0]=s,o[4]=0,o[8]=d,o[12]=0,o[1]=0,o[5]=c,o[9]=b,o[13]=0,o[2]=0,o[6]=0,o[10]=f,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(e,t,a,i,n,r){var o=this.elements,s=1/(t-e),c=1/(a-i),d=1/(r-n),b=(t+e)*s,f=(a+i)*c,h=(r+n)*d;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-b,o[1]=0,o[5]=2*c,o[9]=0,o[13]=-f,o[2]=0,o[6]=0,o[10]=-2*d,o[14]=-h,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(e){for(var t=this.elements,a=e.elements,i=0;i<16;i++)if(t[i]!==a[i])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var a=0;a<16;a++)this.elements[a]=e[a+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var a=this.elements;return e[t]=a[0],e[t+1]=a[1],e[t+2]=a[2],e[t+3]=a[3],e[t+4]=a[4],e[t+5]=a[5],e[t+6]=a[6],e[t+7]=a[7],e[t+8]=a[8],e[t+9]=a[9],e[t+10]=a[10],e[t+11]=a[11],e[t+12]=a[12],e[t+13]=a[13],e[t+14]=a[14],e[t+15]=a[15],e}});var ea=new $t,ta=new It;function aa(e,t,a,i){this._x=e||0,this._y=t||0,this._z=a||0,this._order=i||aa.DefaultOrder}function ia(){this.mask=1}aa.RotationOrders=[\"XYZ\",\"YZX\",\"ZXY\",\"XZY\",\"YXZ\",\"ZYX\"],aa.DefaultOrder=\"XYZ\",Object.defineProperties(aa.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}}),Object.assign(aa.prototype,{isEuler:!0,set:function(e,t,a,i){return this._x=e,this._y=t,this._z=a,this._order=i||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,t,a){var i=Ct.clamp,n=e.elements,r=n[0],o=n[4],s=n[8],c=n[1],d=n[5],b=n[9],f=n[2],h=n[6],l=n[10];return\"XYZ\"===(t=t||this._order)?(this._y=Math.asin(i(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-b,l),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(h,d),this._z=0)):\"YXZ\"===t?(this._x=Math.asin(-i(b,-1,1)),Math.abs(b)<.9999999?(this._y=Math.atan2(s,l),this._z=Math.atan2(c,d)):(this._y=Math.atan2(-f,r),this._z=0)):\"ZXY\"===t?(this._x=Math.asin(i(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,l),this._z=Math.atan2(-o,d)):(this._y=0,this._z=Math.atan2(c,r))):\"ZYX\"===t?(this._y=Math.asin(-i(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,l),this._z=Math.atan2(c,r)):(this._x=0,this._z=Math.atan2(-o,d))):\"YZX\"===t?(this._z=Math.asin(i(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-b,d),this._y=Math.atan2(-f,r)):(this._x=0,this._y=Math.atan2(s,l))):\"XZY\"===t?(this._z=Math.asin(-i(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,d),this._y=Math.atan2(s,r)):(this._x=Math.atan2(-b,l),this._y=0)):console.warn(\"THREE.Euler: .setFromRotationMatrix() given unsupported order: \"+t),this._order=t,!1!==a&&this._onChangeCallback(),this},setFromQuaternion:function(e,t,a){return ea.makeRotationFromQuaternion(e),this.setFromRotationMatrix(ea,t,a)},setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(e){return ta.setFromEuler(this),this.setFromQuaternion(ta,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new zt(this._x,this._y,this._z)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}}),Object.assign(ia.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},enableAll:function(){this.mask=-1},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},disableAll:function(){this.mask=0},test:function(e){return 0!=(this.mask&e.mask)}});var na=0,ra=new zt,oa=new It,sa=new $t,ca=new zt,da=new zt,ba=new zt,fa=new It,ha=new zt(1,0,0),la=new zt(0,1,0),ua=new zt(0,0,1),pa={type:\"added\"},ma={type:\"removed\"};function ga(){Object.defineProperty(this,\"id\",{value:na++}),this.uuid=Ct.generateUUID(),this.name=\"\",this.type=\"Object3D\",this.parent=null,this.children=[],this.up=ga.DefaultUp.clone();var e=new zt,t=new aa,a=new It,i=new zt(1,1,1);t._onChange((function(){a.setFromEuler(t,!1)})),a._onChange((function(){t.setFromQuaternion(a,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new $t},normalMatrix:{value:new Ft}}),this.matrix=new $t,this.matrixWorld=new $t,this.matrixAutoUpdate=ga.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ia,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function va(){ga.call(this),this.type=\"Scene\",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,\"undefined\"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent(\"observe\",{detail:this}))}ga.DefaultUp=new zt(0,1,0),ga.DefaultMatrixAutoUpdate=!0,ga.prototype=Object.assign(Object.create(Lt.prototype),{constructor:ga,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return oa.setFromAxisAngle(e,t),this.quaternion.multiply(oa),this},rotateOnWorldAxis:function(e,t){return oa.setFromAxisAngle(e,t),this.quaternion.premultiply(oa),this},rotateX:function(e){return this.rotateOnAxis(ha,e)},rotateY:function(e){return this.rotateOnAxis(la,e)},rotateZ:function(e){return this.rotateOnAxis(ua,e)},translateOnAxis:function(e,t){return ra.copy(e).applyQuaternion(this.quaternion),this.position.add(ra.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(ha,e)},translateY:function(e){return this.translateOnAxis(la,e)},translateZ:function(e){return this.translateOnAxis(ua,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(sa.getInverse(this.matrixWorld))},lookAt:function(e,t,a){e.isVector3?ca.copy(e):ca.set(e,t,a);var i=this.parent;this.updateWorldMatrix(!0,!1),da.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?sa.lookAt(da,ca,this.up):sa.lookAt(ca,da,this.up),this.quaternion.setFromRotationMatrix(sa),i&&(sa.extractRotation(i.matrixWorld),oa.setFromRotationMatrix(sa),this.quaternion.premultiply(oa.inverse()))},add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error(\"THREE.Object3D.add: object can't be added as a child of itself.\",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(pa)):console.error(\"THREE.Object3D.add: object not an instance of THREE.Object3D.\",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var a=this.children.indexOf(e);return-1!==a&&(e.parent=null,this.children.splice(a,1),e.dispatchEvent(ma)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),sa.getInverse(this.matrixWorld),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),sa.multiply(e.parent.matrixWorld)),e.applyMatrix(sa),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty(\"id\",e)},getObjectByName:function(e){return this.getObjectByProperty(\"name\",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var a=0,i=this.children.length;a<i;a++){var n=this.children[a].getObjectByProperty(e,t);if(void 0!==n)return n}},getWorldPosition:function(e){return void 0===e&&(console.warn(\"THREE.Object3D: .getWorldPosition() target is now required\"),e=new zt),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn(\"THREE.Object3D: .getWorldQuaternion() target is now required\"),e=new It),this.updateMatrixWorld(!0),this.matrixWorld.decompose(da,e,ba),e},getWorldScale:function(e){return void 0===e&&(console.warn(\"THREE.Object3D: .getWorldScale() target is now required\"),e=new zt),this.updateMatrixWorld(!0),this.matrixWorld.decompose(da,fa,e),e},getWorldDirection:function(e){void 0===e&&(console.warn(\"THREE.Object3D: .getWorldDirection() target is now required\"),e=new zt),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,a=0,i=t.length;a<i;a++)t[a].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,a=0,i=t.length;a<i;a++)t[a].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,a=0,i=t.length;a<i;a++)t[a].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var a=this.parent;if(!0===e&&null!==a&&a.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var i=this.children,n=0,r=i.length;n<r;n++)i[n].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=void 0===e||\"string\"==typeof e,a={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},a.metadata={version:4.5,type:\"Object\",generator:\"Object3D.toJSON\"});var i={};function n(t,a){return void 0===t[a.uuid]&&(t[a.uuid]=a.toJSON(e)),a.uuid}if(i.uuid=this.uuid,i.type=this.type,\"\"!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),\"{}\"!==JSON.stringify(this.userData)&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isMesh&&this.drawMode!==ft&&(i.drawMode=this.drawMode),this.isMesh||this.isLine||this.isPoints){i.geometry=n(e.geometries,this.geometry);var r=this.geometry.parameters;if(void 0!==r&&void 0!==r.shapes){var o=r.shapes;if(Array.isArray(o))for(var s=0,c=o.length;s<c;s++){var d=o[s];n(e.shapes,d)}else n(e.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){var b=[];for(s=0,c=this.material.length;s<c;s++)b.push(n(e.materials,this.material[s]));i.material=b}else i.material=n(e.materials,this.material);if(this.children.length>0){i.children=[];for(s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(t){var f=p(e.geometries),h=p(e.materials),l=p(e.textures),u=p(e.images);o=p(e.shapes);f.length>0&&(a.geometries=f),h.length>0&&(a.materials=h),l.length>0&&(a.textures=l),u.length>0&&(a.images=u),o.length>0&&(a.shapes=o)}return a.object=i,a;function p(e){var t=[];for(var a in e){var i=e[a];delete i.metadata,t.push(i)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var a=0;a<e.children.length;a++){var i=e.children[a];this.add(i.clone())}return this}}),va.prototype=Object.assign(Object.create(ga.prototype),{constructor:va,isScene:!0,copy:function(e,t){return ga.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=ga.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:\"dispose\"})}});var ya=[new zt,new zt,new zt,new zt,new zt,new zt,new zt,new zt],xa=new zt,wa=new zt,_a=new zt,Ma=new zt,Sa=new zt,Ta=new zt,Ea=new zt,Aa=new zt,La=new zt,Ra=new zt,Pa=new zt;function Ca(e,t){this.min=void 0!==e?e:new zt(1/0,1/0,1/0),this.max=void 0!==t?t:new zt(-1/0,-1/0,-1/0)}function Oa(e,t,a,i,n){var r,o;for(r=0,o=e.length-3;r<=o;r+=3){Pa.fromArray(e,r);var s=n.x*Math.abs(Pa.x)+n.y*Math.abs(Pa.y)+n.z*Math.abs(Pa.z),c=t.dot(Pa),d=a.dot(Pa),b=i.dot(Pa);if(Math.max(-Math.max(c,d,b),Math.min(c,d,b))>s)return!1}return!0}Object.assign(Ca.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,a=1/0,i=1/0,n=-1/0,r=-1/0,o=-1/0,s=0,c=e.length;s<c;s+=3){var d=e[s],b=e[s+1],f=e[s+2];d<t&&(t=d),b<a&&(a=b),f<i&&(i=f),d>n&&(n=d),b>r&&(r=b),f>o&&(o=f)}return this.min.set(t,a,i),this.max.set(n,r,o),this},setFromBufferAttribute:function(e){for(var t=1/0,a=1/0,i=1/0,n=-1/0,r=-1/0,o=-1/0,s=0,c=e.count;s<c;s++){var d=e.getX(s),b=e.getY(s),f=e.getZ(s);d<t&&(t=d),b<a&&(a=b),f<i&&(i=f),d>n&&(n=d),b>r&&(r=b),f>o&&(o=f)}return this.min.set(t,a,i),this.max.set(n,r,o),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,a=e.length;t<a;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var a=xa.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(a),this.max.copy(e).add(a),this},setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn(\"THREE.Box3: .getCenter() target is now required\"),e=new zt),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn(\"THREE.Box3: .getSize() target is now required\"),e=new zt),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(e){var t,a;e.updateWorldMatrix(!1,!1);var i=e.geometry;if(void 0!==i)if(i.isGeometry){var n=i.vertices;for(t=0,a=n.length;t<a;t++)xa.copy(n[t]),xa.applyMatrix4(e.matrixWorld),this.expandByPoint(xa)}else if(i.isBufferGeometry){var r=i.attributes.position;if(void 0!==r)for(t=0,a=r.count;t<a;t++)xa.fromBufferAttribute(r,t).applyMatrix4(e.matrixWorld),this.expandByPoint(xa)}var o=e.children;for(t=0,a=o.length;t<a;t++)this.expandByObject(o[t]);return this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn(\"THREE.Box3: .getParameter() target is now required\"),t=new zt),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return this.clampPoint(e.center,xa),xa.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){var t,a;return e.normal.x>0?(t=e.normal.x*this.min.x,a=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,a=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,a+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,a+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,a+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,a+=e.normal.z*this.min.z),t<=-e.constant&&a>=-e.constant},intersectsTriangle:function(e){if(this.isEmpty())return!1;this.getCenter(Aa),La.subVectors(this.max,Aa),wa.subVectors(e.a,Aa),_a.subVectors(e.b,Aa),Ma.subVectors(e.c,Aa),Sa.subVectors(_a,wa),Ta.subVectors(Ma,_a),Ea.subVectors(wa,Ma);var t=[0,-Sa.z,Sa.y,0,-Ta.z,Ta.y,0,-Ea.z,Ea.y,Sa.z,0,-Sa.x,Ta.z,0,-Ta.x,Ea.z,0,-Ea.x,-Sa.y,Sa.x,0,-Ta.y,Ta.x,0,-Ea.y,Ea.x,0];return!!Oa(t,wa,_a,Ma,La)&&(!!Oa(t=[1,0,0,0,1,0,0,0,1],wa,_a,Ma,La)&&(Ra.crossVectors(Sa,Ta),Oa(t=[Ra.x,Ra.y,Ra.z],wa,_a,Ma,La)))},clampPoint:function(e,t){return void 0===t&&(console.warn(\"THREE.Box3: .clampPoint() target is now required\"),t=new zt),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return xa.copy(e).clamp(this.min,this.max).sub(e).length()},getBoundingSphere:function(e){return void 0===e&&console.error(\"THREE.Box3: .getBoundingSphere() target is now required\"),this.getCenter(e.center),e.radius=.5*this.getSize(xa).length(),e},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){return this.isEmpty()?this:(ya[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ya[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ya[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ya[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ya[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ya[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ya[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ya[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ya),this)},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var Ia=new Ca;function Da(e,t){this.center=void 0!==e?e:new zt,this.radius=void 0!==t?t:0}Object.assign(Da.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(e,t){var a=this.center;void 0!==t?a.copy(t):Ia.setFromPoints(e).getCenter(a);for(var i=0,n=0,r=e.length;n<r;n++)i=Math.max(i,a.distanceToSquared(e[n]));return this.radius=Math.sqrt(i),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var a=this.center.distanceToSquared(e);return void 0===t&&(console.warn(\"THREE.Sphere: .clampPoint() target is now required\"),t=new zt),t.copy(e),a>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn(\"THREE.Sphere: .getBoundingBox() target is now required\"),e=new Ca),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});var Na=new zt,za=new zt,Ua=new zt,Ba=new zt,Fa=new zt,Ga=new zt,Ha=new zt;function Va(e,t){this.origin=void 0!==e?e:new zt,this.direction=void 0!==t?t:new zt}Object.assign(Va.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn(\"THREE.Ray: .at() target is now required\"),t=new zt),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(e){return this.origin.copy(this.at(e,Na)),this},closestPointToPoint:function(e,t){void 0===t&&(console.warn(\"THREE.Ray: .closestPointToPoint() target is now required\"),t=new zt),t.subVectors(e,this.origin);var a=t.dot(this.direction);return a<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(a).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(e){var t=Na.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Na.copy(this.direction).multiplyScalar(t).add(this.origin),Na.distanceToSquared(e))},distanceSqToSegment:function(e,t,a,i){za.copy(e).add(t).multiplyScalar(.5),Ua.copy(t).sub(e).normalize(),Ba.copy(this.origin).sub(za);var n,r,o,s,c=.5*e.distanceTo(t),d=-this.direction.dot(Ua),b=Ba.dot(this.direction),f=-Ba.dot(Ua),h=Ba.lengthSq(),l=Math.abs(1-d*d);if(l>0)if(r=d*b-f,s=c*l,(n=d*f-b)>=0)if(r>=-s)if(r<=s){var u=1/l;o=(n*=u)*(n+d*(r*=u)+2*b)+r*(d*n+r+2*f)+h}else r=c,o=-(n=Math.max(0,-(d*r+b)))*n+r*(r+2*f)+h;else r=-c,o=-(n=Math.max(0,-(d*r+b)))*n+r*(r+2*f)+h;else r<=-s?o=-(n=Math.max(0,-(-d*c+b)))*n+(r=n>0?-c:Math.min(Math.max(-c,-f),c))*(r+2*f)+h:r<=s?(n=0,o=(r=Math.min(Math.max(-c,-f),c))*(r+2*f)+h):o=-(n=Math.max(0,-(d*c+b)))*n+(r=n>0?c:Math.min(Math.max(-c,-f),c))*(r+2*f)+h;else r=d>0?-c:c,o=-(n=Math.max(0,-(d*r+b)))*n+r*(r+2*f)+h;return a&&a.copy(this.direction).multiplyScalar(n).add(this.origin),i&&i.copy(Ua).multiplyScalar(r).add(za),o},intersectSphere:function(e,t){Na.subVectors(e.center,this.origin);var a=Na.dot(this.direction),i=Na.dot(Na)-a*a,n=e.radius*e.radius;if(i>n)return null;var r=Math.sqrt(n-i),o=a-r,s=a+r;return o<0&&s<0?null:o<0?this.at(s,t):this.at(o,t)},intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var a=-(this.origin.dot(e.normal)+e.constant)/t;return a>=0?a:null},intersectPlane:function(e,t){var a=this.distanceToPlane(e);return null===a?null:this.at(a,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var a,i,n,r,o,s,c=1/this.direction.x,d=1/this.direction.y,b=1/this.direction.z,f=this.origin;return c>=0?(a=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(a=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),d>=0?(n=(e.min.y-f.y)*d,r=(e.max.y-f.y)*d):(n=(e.max.y-f.y)*d,r=(e.min.y-f.y)*d),a>r||n>i?null:((n>a||a!=a)&&(a=n),(r<i||i!=i)&&(i=r),b>=0?(o=(e.min.z-f.z)*b,s=(e.max.z-f.z)*b):(o=(e.max.z-f.z)*b,s=(e.min.z-f.z)*b),a>s||o>i?null:((o>a||a!=a)&&(a=o),(s<i||i!=i)&&(i=s),i<0?null:this.at(a>=0?a:i,t)))},intersectsBox:function(e){return null!==this.intersectBox(e,Na)},intersectTriangle:function(e,t,a,i,n){Fa.subVectors(t,e),Ga.subVectors(a,e),Ha.crossVectors(Fa,Ga);var r,o=this.direction.dot(Ha);if(o>0){if(i)return null;r=1}else{if(!(o<0))return null;r=-1,o=-o}Ba.subVectors(this.origin,e);var s=r*this.direction.dot(Ga.crossVectors(Ba,Ga));if(s<0)return null;var c=r*this.direction.dot(Fa.cross(Ba));if(c<0)return null;if(s+c>o)return null;var d=-r*Ba.dot(Ha);return d<0?null:this.at(d/o,n)},applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});var ka=new zt,ja=new zt,Wa=new zt,Xa=new zt,qa=new zt,Ya=new zt,Za=new zt,Ja=new zt,Ka=new zt,Qa=new zt;function $a(e,t,a){this.a=void 0!==e?e:new zt,this.b=void 0!==t?t:new zt,this.c=void 0!==a?a:new zt}Object.assign($a,{getNormal:function(e,t,a,i){void 0===i&&(console.warn(\"THREE.Triangle: .getNormal() target is now required\"),i=new zt),i.subVectors(a,t),ka.subVectors(e,t),i.cross(ka);var n=i.lengthSq();return n>0?i.multiplyScalar(1/Math.sqrt(n)):i.set(0,0,0)},getBarycoord:function(e,t,a,i,n){ka.subVectors(i,t),ja.subVectors(a,t),Wa.subVectors(e,t);var r=ka.dot(ka),o=ka.dot(ja),s=ka.dot(Wa),c=ja.dot(ja),d=ja.dot(Wa),b=r*c-o*o;if(void 0===n&&(console.warn(\"THREE.Triangle: .getBarycoord() target is now required\"),n=new zt),0===b)return n.set(-2,-1,-1);var f=1/b,h=(c*s-o*d)*f,l=(r*d-o*s)*f;return n.set(1-h-l,l,h)},containsPoint:function(e,t,a,i){return $a.getBarycoord(e,t,a,i,Xa),Xa.x>=0&&Xa.y>=0&&Xa.x+Xa.y<=1},getUV:function(e,t,a,i,n,r,o,s){return this.getBarycoord(e,t,a,i,Xa),s.set(0,0),s.addScaledVector(n,Xa.x),s.addScaledVector(r,Xa.y),s.addScaledVector(o,Xa.z),s},isFrontFacing:function(e,t,a,i){return ka.subVectors(a,t),ja.subVectors(e,t),ka.cross(ja).dot(i)<0}}),Object.assign($a.prototype,{set:function(e,t,a){return this.a.copy(e),this.b.copy(t),this.c.copy(a),this},setFromPointsAndIndices:function(e,t,a,i){return this.a.copy(e[t]),this.b.copy(e[a]),this.c.copy(e[i]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){return ka.subVectors(this.c,this.b),ja.subVectors(this.a,this.b),.5*ka.cross(ja).length()},getMidpoint:function(e){return void 0===e&&(console.warn(\"THREE.Triangle: .getMidpoint() target is now required\"),e=new zt),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return $a.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn(\"THREE.Triangle: .getPlane() target is now required\"),e=new zt),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return $a.getBarycoord(e,this.a,this.b,this.c,t)},getUV:function(e,t,a,i,n){return $a.getUV(e,this.a,this.b,this.c,t,a,i,n)},containsPoint:function(e){return $a.containsPoint(e,this.a,this.b,this.c)},isFrontFacing:function(e){return $a.isFrontFacing(this.a,this.b,this.c,e)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(e,t){void 0===t&&(console.warn(\"THREE.Triangle: .closestPointToPoint() target is now required\"),t=new zt);var a,i,n=this.a,r=this.b,o=this.c;qa.subVectors(r,n),Ya.subVectors(o,n),Ja.subVectors(e,n);var s=qa.dot(Ja),c=Ya.dot(Ja);if(s<=0&&c<=0)return t.copy(n);Ka.subVectors(e,r);var d=qa.dot(Ka),b=Ya.dot(Ka);if(d>=0&&b<=d)return t.copy(r);var f=s*b-d*c;if(f<=0&&s>=0&&d<=0)return a=s/(s-d),t.copy(n).addScaledVector(qa,a);Qa.subVectors(e,o);var h=qa.dot(Qa),l=Ya.dot(Qa);if(l>=0&&h<=l)return t.copy(o);var u=h*c-s*l;if(u<=0&&c>=0&&l<=0)return i=c/(c-l),t.copy(n).addScaledVector(Ya,i);var p=d*l-h*b;if(p<=0&&b-d>=0&&h-l>=0)return Za.subVectors(o,r),i=(b-d)/(b-d+(h-l)),t.copy(r).addScaledVector(Za,i);var m=1/(p+u+f);return a=u*m,i=f*m,t.copy(n).addScaledVector(qa,a).addScaledVector(Ya,i)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});var ei={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ti={h:0,s:0,l:0},ai={h:0,s:0,l:0};function ii(e,t,a){return void 0===t&&void 0===a?this.set(e):this.setRGB(e,t,a)}function ni(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+6*(t-e)*a:a<.5?t:a<2/3?e+6*(t-e)*(2/3-a):e}function ri(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function oi(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}function si(e,t,a,i,n,r){this.a=e,this.b=t,this.c=a,this.normal=i&&i.isVector3?i:new zt,this.vertexNormals=Array.isArray(i)?i:[],this.color=n&&n.isColor?n:new ii,this.vertexColors=Array.isArray(n)?n:[],this.materialIndex=void 0!==r?r:0}Object.assign(ii.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):\"number\"==typeof e?this.setHex(e):\"string\"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,a){return this.r=e,this.g=t,this.b=a,this},setHSL:function(e,t,a){if(e=Ct.euclideanModulo(e,1),t=Ct.clamp(t,0,1),a=Ct.clamp(a,0,1),0===t)this.r=this.g=this.b=a;else{var i=a<=.5?a*(1+t):a+t-a*t,n=2*a-i;this.r=ni(n,i,e+1/3),this.g=ni(n,i,e),this.b=ni(n,i,e-1/3)}return this},setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn(\"THREE.Color: Alpha component of \"+e+\" will be ignored.\")}var a;if(a=/^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec(e)){var i,n=a[1],r=a[2];switch(n){case\"rgb\":case\"rgba\":if(i=/^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(r))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,t(i[5]),this;if(i=/^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(r))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,t(i[5]),this;break;case\"hsl\":case\"hsla\":if(i=/^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(r)){var o=parseFloat(i[1])/360,s=parseInt(i[2],10)/100,c=parseInt(i[3],10)/100;return t(i[5]),this.setHSL(o,s,c)}}}else if(a=/^\\#([A-Fa-f0-9]+)$/.exec(e)){var d,b=(d=a[1]).length;if(3===b)return this.r=parseInt(d.charAt(0)+d.charAt(0),16)/255,this.g=parseInt(d.charAt(1)+d.charAt(1),16)/255,this.b=parseInt(d.charAt(2)+d.charAt(2),16)/255,this;if(6===b)return this.r=parseInt(d.charAt(0)+d.charAt(1),16)/255,this.g=parseInt(d.charAt(2)+d.charAt(3),16)/255,this.b=parseInt(d.charAt(4)+d.charAt(5),16)/255,this}e&&e.length>0&&(void 0!==(d=ei[e])?this.setHex(d):console.warn(\"THREE.Color: Unknown color \"+e));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var a=t>0?1/t:1;return this.r=Math.pow(e.r,a),this.g=Math.pow(e.g,a),this.b=Math.pow(e.b,a),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(e){return this.r=ri(e.r),this.g=ri(e.g),this.b=ri(e.b),this},copyLinearToSRGB:function(e){return this.r=oi(e.r),this.g=oi(e.g),this.b=oi(e.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return(\"000000\"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn(\"THREE.Color: .getHSL() target is now required\"),e={h:0,s:0,l:0});var t,a,i=this.r,n=this.g,r=this.b,o=Math.max(i,n,r),s=Math.min(i,n,r),c=(s+o)/2;if(s===o)t=0,a=0;else{var d=o-s;switch(a=c<=.5?d/(o+s):d/(2-o-s),o){case i:t=(n-r)/d+(n<r?6:0);break;case n:t=(r-i)/d+2;break;case r:t=(i-n)/d+4}t/=6}return e.h=t,e.s=a,e.l=c,e},getStyle:function(){return\"rgb(\"+(255*this.r|0)+\",\"+(255*this.g|0)+\",\"+(255*this.b|0)+\")\"},offsetHSL:function(e,t,a){return this.getHSL(ti),ti.h+=e,ti.s+=t,ti.l+=a,this.setHSL(ti.h,ti.s,ti.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(e,t){this.getHSL(ti),e.getHSL(ai);var a=Ct.lerp(ti.h,ai.h,t),i=Ct.lerp(ti.s,ai.s,t),n=Ct.lerp(ti.l,ai.l,t);return this.setHSL(a,i,n),this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}}),Object.assign(si.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,a=e.vertexNormals.length;t<a;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,a=e.vertexColors.length;t<a;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var ci=0;function di(){Object.defineProperty(this,\"id\",{value:ci++}),this.uuid=Ct.generateUUID(),this.name=\"\",this.type=\"Material\",this.fog=!0,this.blending=x,this.side=l,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=m,this.opacity=1,this.transparent=!1,this.blendSrc=D,this.blendDst=N,this.blendEquation=T,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=j,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=At,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Et,this.stencilZFail=Et,this.stencilZPass=Et,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.needsUpdate=!0}function bi(e){di.call(this),this.type=\"MeshBasicMaterial\",this.color=new ii(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Z,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\"round\",this.wireframeLinejoin=\"round\",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}function fi(e,t,a){if(Array.isArray(e))throw new TypeError(\"THREE.BufferAttribute: array should be a Typed Array.\");this.name=\"\",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===a,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function hi(e,t,a){fi.call(this,new Int8Array(e),t,a)}function li(e,t,a){fi.call(this,new Uint8Array(e),t,a)}function ui(e,t,a){fi.call(this,new Uint8ClampedArray(e),t,a)}function pi(e,t,a){fi.call(this,new Int16Array(e),t,a)}function mi(e,t,a){fi.call(this,new Uint16Array(e),t,a)}function gi(e,t,a){fi.call(this,new Int32Array(e),t,a)}function vi(e,t,a){fi.call(this,new Uint32Array(e),t,a)}function yi(e,t,a){fi.call(this,new Float32Array(e),t,a)}function xi(e,t,a){fi.call(this,new Float64Array(e),t,a)}function wi(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function _i(e){if(0===e.length)return-1/0;for(var t=e[0],a=1,i=e.length;a<i;++a)e[a]>t&&(t=e[a]);return t}di.prototype=Object.assign(Object.create(Lt.prototype),{constructor:di,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var a=e[t];if(void 0!==a)if(\"shading\"!==t){var i=this[t];void 0!==i?i&&i.isColor?i.set(a):i&&i.isVector3&&a&&a.isVector3?i.copy(a):this[t]=a:console.warn(\"THREE.\"+this.type+\": '\"+t+\"' is not a property of this material.\")}else console.warn(\"THREE.\"+this.type+\": .shading has been removed. Use the boolean .flatShading instead.\"),this.flatShading=1===a;else console.warn(\"THREE.Material: '\"+t+\"' parameter is undefined.\")}},toJSON:function(e){var t=void 0===e||\"string\"==typeof e;t&&(e={textures:{},images:{}});var a={metadata:{version:4.5,type:\"Material\",generator:\"Material.toJSON\"}};function i(e){var t=[];for(var a in e){var i=e[a];delete i.metadata,t.push(i)}return t}if(a.uuid=this.uuid,a.type=this.type,\"\"!==this.name&&(a.name=this.name),this.color&&this.color.isColor&&(a.color=this.color.getHex()),void 0!==this.roughness&&(a.roughness=this.roughness),void 0!==this.metalness&&(a.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(a.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(a.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(a.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(a.specular=this.specular.getHex()),void 0!==this.shininess&&(a.shininess=this.shininess),void 0!==this.clearcoat&&(a.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(a.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(a.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,a.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(a.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(a.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(a.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(a.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(a.aoMap=this.aoMap.toJSON(e).uuid,a.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(a.bumpMap=this.bumpMap.toJSON(e).uuid,a.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(a.normalMap=this.normalMap.toJSON(e).uuid,a.normalMapType=this.normalMapType,a.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(a.displacementMap=this.displacementMap.toJSON(e).uuid,a.displacementScale=this.displacementScale,a.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(a.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(a.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(a.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(a.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(a.envMap=this.envMap.toJSON(e).uuid,a.reflectivity=this.reflectivity,a.refractionRatio=this.refractionRatio,void 0!==this.combine&&(a.combine=this.combine),void 0!==this.envMapIntensity&&(a.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(a.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(a.size=this.size),void 0!==this.sizeAttenuation&&(a.sizeAttenuation=this.sizeAttenuation),this.blending!==x&&(a.blending=this.blending),!0===this.flatShading&&(a.flatShading=this.flatShading),this.side!==l&&(a.side=this.side),this.vertexColors!==m&&(a.vertexColors=this.vertexColors),this.opacity<1&&(a.opacity=this.opacity),!0===this.transparent&&(a.transparent=this.transparent),a.depthFunc=this.depthFunc,a.depthTest=this.depthTest,a.depthWrite=this.depthWrite,a.stencilWrite=this.stencilWrite,a.stencilWriteMask=this.stencilWriteMask,a.stencilFunc=this.stencilFunc,a.stencilRef=this.stencilRef,a.stencilFuncMask=this.stencilFuncMask,a.stencilFail=this.stencilFail,a.stencilZFail=this.stencilZFail,a.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(a.rotation=this.rotation),!0===this.polygonOffset&&(a.polygonOffset=!0),0!==this.polygonOffsetFactor&&(a.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(a.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(a.linewidth=this.linewidth),void 0!==this.dashSize&&(a.dashSize=this.dashSize),void 0!==this.gapSize&&(a.gapSize=this.gapSize),void 0!==this.scale&&(a.scale=this.scale),!0===this.dithering&&(a.dithering=!0),this.alphaTest>0&&(a.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(a.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(a.wireframe=this.wireframe),this.wireframeLinewidth>1&&(a.wireframeLinewidth=this.wireframeLinewidth),\"round\"!==this.wireframeLinecap&&(a.wireframeLinecap=this.wireframeLinecap),\"round\"!==this.wireframeLinejoin&&(a.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(a.morphTargets=!0),!0===this.morphNormals&&(a.morphNormals=!0),!0===this.skinning&&(a.skinning=!0),!1===this.visible&&(a.visible=!1),!1===this.toneMapped&&(a.toneMapped=!1),\"{}\"!==JSON.stringify(this.userData)&&(a.userData=this.userData),t){var n=i(e.textures),r=i(e.images);n.length>0&&(a.textures=n),r.length>0&&(a.images=r)}return a},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWrite=e.stencilWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,a=null;if(null!==t){var i=t.length;a=new Array(i);for(var n=0;n!==i;++n)a[n]=t[n].clone()}return this.clippingPlanes=a,this.shadowSide=e.shadowSide,this},dispose:function(){this.dispatchEvent({type:\"dispose\"})}}),bi.prototype=Object.create(di.prototype),bi.prototype.constructor=bi,bi.prototype.isMeshBasicMaterial=!0,bi.prototype.copy=function(e){return di.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},Object.defineProperty(fi.prototype,\"needsUpdate\",{set:function(e){!0===e&&this.version++}}),Object.assign(fi.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,a){e*=this.itemSize,a*=t.itemSize;for(var i=0,n=this.itemSize;i<n;i++)this.array[e+i]=t.array[a+i];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,a=0,i=0,n=e.length;i<n;i++){var r=e[i];void 0===r&&(console.warn(\"THREE.BufferAttribute.copyColorsArray(): color is undefined\",i),r=new ii),t[a++]=r.r,t[a++]=r.g,t[a++]=r.b}return this},copyVector2sArray:function(e){for(var t=this.array,a=0,i=0,n=e.length;i<n;i++){var r=e[i];void 0===r&&(console.warn(\"THREE.BufferAttribute.copyVector2sArray(): vector is undefined\",i),r=new Ot),t[a++]=r.x,t[a++]=r.y}return this},copyVector3sArray:function(e){for(var t=this.array,a=0,i=0,n=e.length;i<n;i++){var r=e[i];void 0===r&&(console.warn(\"THREE.BufferAttribute.copyVector3sArray(): vector is undefined\",i),r=new zt),t[a++]=r.x,t[a++]=r.y,t[a++]=r.z}return this},copyVector4sArray:function(e){for(var t=this.array,a=0,i=0,n=e.length;i<n;i++){var r=e[i];void 0===r&&(console.warn(\"THREE.BufferAttribute.copyVector4sArray(): vector is undefined\",i),r=new kt),t[a++]=r.x,t[a++]=r.y,t[a++]=r.z,t[a++]=r.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,a){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=a,this},setXYZ:function(e,t,a,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=a,this.array[e+2]=i,this},setXYZW:function(e,t,a,i,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=a,this.array[e+2]=i,this.array[e+3]=n,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),hi.prototype=Object.create(fi.prototype),hi.prototype.constructor=hi,li.prototype=Object.create(fi.prototype),li.prototype.constructor=li,ui.prototype=Object.create(fi.prototype),ui.prototype.constructor=ui,pi.prototype=Object.create(fi.prototype),pi.prototype.constructor=pi,mi.prototype=Object.create(fi.prototype),mi.prototype.constructor=mi,gi.prototype=Object.create(fi.prototype),gi.prototype.constructor=gi,vi.prototype=Object.create(fi.prototype),vi.prototype.constructor=vi,yi.prototype=Object.create(fi.prototype),yi.prototype.constructor=yi,xi.prototype=Object.create(fi.prototype),xi.prototype.constructor=xi,Object.assign(wi.prototype,{computeGroups:function(e){for(var t,a=[],i=void 0,n=e.faces,r=0;r<n.length;r++){var o=n[r];o.materialIndex!==i&&(i=o.materialIndex,void 0!==t&&(t.count=3*r-t.start,a.push(t)),t={start:3*r,materialIndex:i})}void 0!==t&&(t.count=3*r-t.start,a.push(t)),this.groups=a},fromGeometry:function(e){var t,a=e.faces,i=e.vertices,n=e.faceVertexUvs,r=n[0]&&n[0].length>0,o=n[1]&&n[1].length>0,s=e.morphTargets,c=s.length;if(c>0){t=[];for(var d=0;d<c;d++)t[d]={name:s[d].name,data:[]};this.morphTargets.position=t}var b,f=e.morphNormals,h=f.length;if(h>0){b=[];for(d=0;d<h;d++)b[d]={name:f[d].name,data:[]};this.morphTargets.normal=b}var l=e.skinIndices,u=e.skinWeights,p=l.length===i.length,m=u.length===i.length;i.length>0&&0===a.length&&console.error(\"THREE.DirectGeometry: Faceless geometries are not supported.\");for(d=0;d<a.length;d++){var g=a[d];this.vertices.push(i[g.a],i[g.b],i[g.c]);var v=g.vertexNormals;if(3===v.length)this.normals.push(v[0],v[1],v[2]);else{var y=g.normal;this.normals.push(y,y,y)}var x,w=g.vertexColors;if(3===w.length)this.colors.push(w[0],w[1],w[2]);else{var _=g.color;this.colors.push(_,_,_)}if(!0===r)void 0!==(x=n[0][d])?this.uvs.push(x[0],x[1],x[2]):(console.warn(\"THREE.DirectGeometry.fromGeometry(): Undefined vertexUv \",d),this.uvs.push(new Ot,new Ot,new Ot));if(!0===o)void 0!==(x=n[1][d])?this.uvs2.push(x[0],x[1],x[2]):(console.warn(\"THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 \",d),this.uvs2.push(new Ot,new Ot,new Ot));for(var M=0;M<c;M++){var S=s[M].vertices;t[M].data.push(S[g.a],S[g.b],S[g.c])}for(M=0;M<h;M++){var T=f[M].vertexNormals[d];b[M].data.push(T.a,T.b,T.c)}p&&this.skinIndices.push(l[g.a],l[g.b],l[g.c]),m&&this.skinWeights.push(u[g.a],u[g.b],u[g.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}});var Mi=1,Si=new $t,Ti=new ga,Ei=new zt,Ai=new Ca,Li=new Ca,Ri=new zt;function Pi(){Object.defineProperty(this,\"id\",{value:Mi+=2}),this.uuid=Ct.generateUUID(),this.name=\"\",this.type=\"BufferGeometry\",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Pi.prototype=Object.assign(Object.create(Lt.prototype),{constructor:Pi,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(_i(e)>65535?vi:mi)(e,1):this.index=e},addAttribute:function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?\"index\"===e?(console.warn(\"THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.\"),this.setIndex(t),this):this.setAttribute(e,t):(console.warn(\"THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).\"),this.addAttribute(e,new fi(arguments[1],arguments[2])))},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,a){this.groups.push({start:e,count:t,materialIndex:void 0!==a?a:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var a=this.attributes.normal;void 0!==a&&((new Ft).getNormalMatrix(e).applyToBufferAttribute(a),a.needsUpdate=!0);var i=this.attributes.tangent;void 0!==i&&((new Ft).getNormalMatrix(e).applyToBufferAttribute(i),i.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return Si.makeRotationX(e),this.applyMatrix(Si),this},rotateY:function(e){return Si.makeRotationY(e),this.applyMatrix(Si),this},rotateZ:function(e){return Si.makeRotationZ(e),this.applyMatrix(Si),this},translate:function(e,t,a){return Si.makeTranslation(e,t,a),this.applyMatrix(Si),this},scale:function(e,t,a){return Si.makeScale(e,t,a),this.applyMatrix(Si),this},lookAt:function(e){return Ti.lookAt(e),Ti.updateMatrix(),this.applyMatrix(Ti.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ei).negate(),this.translate(Ei.x,Ei.y,Ei.z),this},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var a=new yi(3*t.vertices.length,3),i=new yi(3*t.colors.length,3);if(this.addAttribute(\"position\",a.copyVector3sArray(t.vertices)),this.addAttribute(\"color\",i.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var n=new yi(t.lineDistances.length,1);this.addAttribute(\"lineDistance\",n.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],a=0,i=e.length;a<i;a++){var n=e[a];t.push(n.x,n.y,n.z||0)}return this.addAttribute(\"position\",new yi(t,3)),this},updateFromObject:function(e){var t,a=e.geometry;if(e.isMesh){var i=a.__directGeometry;if(!0===a.elementsNeedUpdate&&(i=void 0,a.elementsNeedUpdate=!1),void 0===i)return this.fromGeometry(a);i.verticesNeedUpdate=a.verticesNeedUpdate,i.normalsNeedUpdate=a.normalsNeedUpdate,i.colorsNeedUpdate=a.colorsNeedUpdate,i.uvsNeedUpdate=a.uvsNeedUpdate,i.groupsNeedUpdate=a.groupsNeedUpdate,a.verticesNeedUpdate=!1,a.normalsNeedUpdate=!1,a.colorsNeedUpdate=!1,a.uvsNeedUpdate=!1,a.groupsNeedUpdate=!1,a=i}return!0===a.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(a.vertices),t.needsUpdate=!0),a.verticesNeedUpdate=!1),!0===a.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(a.normals),t.needsUpdate=!0),a.normalsNeedUpdate=!1),!0===a.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(a.colors),t.needsUpdate=!0),a.colorsNeedUpdate=!1),a.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(a.uvs),t.needsUpdate=!0),a.uvsNeedUpdate=!1),a.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(a.lineDistances),t.needsUpdate=!0),a.lineDistancesNeedUpdate=!1),a.groupsNeedUpdate&&(a.computeGroups(e.geometry),this.groups=a.groups,a.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new wi).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute(\"position\",new fi(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var a=new Float32Array(3*e.normals.length);this.addAttribute(\"normal\",new fi(a,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var i=new Float32Array(3*e.colors.length);this.addAttribute(\"color\",new fi(i,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var n=new Float32Array(2*e.uvs.length);this.addAttribute(\"uv\",new fi(n,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var r=new Float32Array(2*e.uvs2.length);this.addAttribute(\"uv2\",new fi(r,2).copyVector2sArray(e.uvs2))}for(var o in this.groups=e.groups,e.morphTargets){for(var s=[],c=e.morphTargets[o],d=0,b=c.length;d<b;d++){var f=c[d],h=new yi(3*f.data.length,3);h.name=f.name,s.push(h.copyVector3sArray(f.data))}this.morphAttributes[o]=s}if(e.skinIndices.length>0){var l=new yi(4*e.skinIndices.length,4);this.addAttribute(\"skinIndex\",l.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var u=new yi(4*e.skinWeights.length,4);this.addAttribute(\"skinWeight\",u.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Ca);var e=this.attributes.position,t=this.morphAttributes.position;if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var a=0,i=t.length;a<i;a++){var n=t[a];Ai.setFromBufferAttribute(n),this.boundingBox.expandByPoint(Ai.min),this.boundingBox.expandByPoint(Ai.max)}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Da);var e=this.attributes.position,t=this.morphAttributes.position;if(e){var a=this.boundingSphere.center;if(Ai.setFromBufferAttribute(e),t)for(var i=0,n=t.length;i<n;i++){var r=t[i];Li.setFromBufferAttribute(r),Ai.expandByPoint(Li.min),Ai.expandByPoint(Li.max)}Ai.getCenter(a);var o=0;for(i=0,n=e.count;i<n;i++)Ri.fromBufferAttribute(e,i),o=Math.max(o,a.distanceToSquared(Ri));if(t)for(i=0,n=t.length;i<n;i++)for(var s=0,c=(r=t[i]).count;s<c;s++)Ri.fromBufferAttribute(r,s),o=Math.max(o,a.distanceToSquared(Ri));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var a=t.position.array;if(void 0===t.normal)this.addAttribute(\"normal\",new fi(new Float32Array(a.length),3));else for(var i=t.normal.array,n=0,r=i.length;n<r;n++)i[n]=0;var o,s,c,d=t.normal.array,b=new zt,f=new zt,h=new zt,l=new zt,u=new zt;if(e){var p=e.array;for(n=0,r=e.count;n<r;n+=3)o=3*p[n+0],s=3*p[n+1],c=3*p[n+2],b.fromArray(a,o),f.fromArray(a,s),h.fromArray(a,c),l.subVectors(h,f),u.subVectors(b,f),l.cross(u),d[o]+=l.x,d[o+1]+=l.y,d[o+2]+=l.z,d[s]+=l.x,d[s+1]+=l.y,d[s+2]+=l.z,d[c]+=l.x,d[c+1]+=l.y,d[c+2]+=l.z}else for(n=0,r=a.length;n<r;n+=9)b.fromArray(a,n),f.fromArray(a,n+3),h.fromArray(a,n+6),l.subVectors(h,f),u.subVectors(b,f),l.cross(u),d[n]=l.x,d[n+1]=l.y,d[n+2]=l.z,d[n+3]=l.x,d[n+4]=l.y,d[n+5]=l.z,d[n+6]=l.x,d[n+7]=l.y,d[n+8]=l.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn(\"THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.\"));var a=this.attributes;for(var i in a)if(void 0!==e.attributes[i])for(var n=a[i].array,r=e.attributes[i],o=r.array,s=r.itemSize*t,c=Math.min(o.length,n.length-s),d=0,b=s;d<c;d++,b++)n[b]=o[d];return this}console.error(\"THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.\",e)},normalizeNormals:function(){for(var e=this.attributes.normal,t=0,a=e.count;t<a;t++)Ri.x=e.getX(t),Ri.y=e.getY(t),Ri.z=e.getZ(t),Ri.normalize(),e.setXYZ(t,Ri.x,Ri.y,Ri.z)},toNonIndexed:function(){function e(e,t){for(var a=e.array,i=e.itemSize,n=new a.constructor(t.length*i),r=0,o=0,s=0,c=t.length;s<c;s++){r=t[s]*i;for(var d=0;d<i;d++)n[o++]=a[r++]}return new fi(n,i)}if(null===this.index)return console.warn(\"THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.\"),this;var t=new Pi,a=this.index.array,i=this.attributes;for(var n in i){var r=e(i[n],a);t.addAttribute(n,r)}var o=this.morphAttributes;for(n in o){for(var s=[],c=o[n],d=0,b=c.length;d<b;d++){r=e(c[d],a);s.push(r)}t.morphAttributes[n]=s}for(var f=this.groups,h=(d=0,f.length);d<h;d++){var l=f[d];t.addGroup(l.start,l.count,l.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:\"BufferGeometry\",generator:\"BufferGeometry.toJSON\"}};if(e.uuid=this.uuid,e.type=this.type,\"\"!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var a in t)void 0!==t[a]&&(e[a]=t[a]);return e}e.data={attributes:{}};var i=this.index;null!==i&&(e.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)});var n=this.attributes;for(var a in n){var r=(h=n[a]).toJSON();\"\"!==h.name&&(r.name=h.name),e.data.attributes[a]=r}var o={},s=!1;for(var a in this.morphAttributes){for(var c=this.morphAttributes[a],d=[],b=0,f=c.length;b<f;b++){var h;r=(h=c[b]).toJSON();\"\"!==h.name&&(r.name=h.name),d.push(r)}d.length>0&&(o[a]=d,s=!0)}s&&(e.data.morphAttributes=o);var l=this.groups;l.length>0&&(e.data.groups=JSON.parse(JSON.stringify(l)));var u=this.boundingSphere;return null!==u&&(e.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),e},clone:function(){return(new Pi).copy(this)},copy:function(e){var t,a,i;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone());var r=e.attributes;for(t in r){var o=r[t];this.addAttribute(t,o.clone())}var s=e.morphAttributes;for(t in s){var c=[],d=s[t];for(a=0,i=d.length;a<i;a++)c.push(d[a].clone());this.morphAttributes[t]=c}var b=e.groups;for(a=0,i=b.length;a<i;a++){var f=b[a];this.addGroup(f.start,f.count,f.materialIndex)}var h=e.boundingBox;null!==h&&(this.boundingBox=h.clone());var l=e.boundingSphere;return null!==l&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:\"dispose\"})}});var Ci=new $t,Oi=new Va,Ii=new Da,Di=new zt,Ni=new zt,zi=new zt,Ui=new zt,Bi=new zt,Fi=new zt,Gi=new zt,Hi=new zt,Vi=new zt,ki=new Ot,ji=new Ot,Wi=new Ot,Xi=new zt,qi=new zt;function Yi(e,t){ga.call(this),this.type=\"Mesh\",this.geometry=void 0!==e?e:new Pi,this.material=void 0!==t?t:new bi({color:16777215*Math.random()}),this.drawMode=ft,this.updateMorphTargets()}function Zi(e,t,a,i,n,r,o,s){if(null===(t.side===u?i.intersectTriangle(o,r,n,!0,s):i.intersectTriangle(n,r,o,t.side!==p,s)))return null;qi.copy(s),qi.applyMatrix4(e.matrixWorld);var c=a.ray.origin.distanceTo(qi);return c<a.near||c>a.far?null:{distance:c,point:qi.clone(),object:e}}function Ji(e,t,a,i,n,r,o,s,c,d,b){Di.fromBufferAttribute(n,c),Ni.fromBufferAttribute(n,d),zi.fromBufferAttribute(n,b);var f=e.morphTargetInfluences;if(t.morphTargets&&r&&f){Gi.set(0,0,0),Hi.set(0,0,0),Vi.set(0,0,0);for(var h=0,l=r.length;h<l;h++){var u=f[h],p=r[h];0!==u&&(Ui.fromBufferAttribute(p,c),Bi.fromBufferAttribute(p,d),Fi.fromBufferAttribute(p,b),Gi.addScaledVector(Ui.sub(Di),u),Hi.addScaledVector(Bi.sub(Ni),u),Vi.addScaledVector(Fi.sub(zi),u))}Di.add(Gi),Ni.add(Hi),zi.add(Vi)}var m=Zi(e,t,a,i,Di,Ni,zi,Xi);if(m){o&&(ki.fromBufferAttribute(o,c),ji.fromBufferAttribute(o,d),Wi.fromBufferAttribute(o,b),m.uv=$a.getUV(Xi,Di,Ni,zi,ki,ji,Wi,new Ot)),s&&(ki.fromBufferAttribute(s,c),ji.fromBufferAttribute(s,d),Wi.fromBufferAttribute(s,b),m.uv2=$a.getUV(Xi,Di,Ni,zi,ki,ji,Wi,new Ot));var g=new si(c,d,b);$a.getNormal(Di,Ni,zi,g.normal),m.face=g}return m}Yi.prototype=Object.assign(Object.create(ga.prototype),{constructor:Yi,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return ga.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,a,i=this.geometry;if(i.isBufferGeometry){var n=i.morphAttributes,r=Object.keys(n);if(r.length>0){var o=n[r[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=o.length;e<t;e++)a=o[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=e}}else{var s=i.morphTargets;void 0!==s&&s.length>0&&console.error(\"THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.\")}},raycast:function(e,t){var a,i=this.geometry,n=this.material,r=this.matrixWorld;if(void 0!==n&&(null===i.boundingSphere&&i.computeBoundingSphere(),Ii.copy(i.boundingSphere),Ii.applyMatrix4(r),!1!==e.ray.intersectsSphere(Ii)&&(Ci.getInverse(r),Oi.copy(e.ray).applyMatrix4(Ci),null===i.boundingBox||!1!==Oi.intersectsBox(i.boundingBox))))if(i.isBufferGeometry){var o,s,c,d,b,f,h,l,u,p=i.index,m=i.attributes.position,g=i.morphAttributes.position,v=i.attributes.uv,y=i.attributes.uv2,x=i.groups,w=i.drawRange;if(null!==p)if(Array.isArray(n))for(d=0,f=x.length;d<f;d++)for(u=n[(l=x[d]).materialIndex],b=Math.max(l.start,w.start),h=Math.min(l.start+l.count,w.start+w.count);b<h;b+=3)o=p.getX(b),s=p.getX(b+1),c=p.getX(b+2),(a=Ji(this,u,e,Oi,m,g,v,y,o,s,c))&&(a.faceIndex=Math.floor(b/3),a.face.materialIndex=l.materialIndex,t.push(a));else for(d=Math.max(0,w.start),f=Math.min(p.count,w.start+w.count);d<f;d+=3)o=p.getX(d),s=p.getX(d+1),c=p.getX(d+2),(a=Ji(this,n,e,Oi,m,g,v,y,o,s,c))&&(a.faceIndex=Math.floor(d/3),t.push(a));else if(void 0!==m)if(Array.isArray(n))for(d=0,f=x.length;d<f;d++)for(u=n[(l=x[d]).materialIndex],b=Math.max(l.start,w.start),h=Math.min(l.start+l.count,w.start+w.count);b<h;b+=3)(a=Ji(this,u,e,Oi,m,g,v,y,o=b,s=b+1,c=b+2))&&(a.faceIndex=Math.floor(b/3),a.face.materialIndex=l.materialIndex,t.push(a));else for(d=Math.max(0,w.start),f=Math.min(m.count,w.start+w.count);d<f;d+=3)(a=Ji(this,n,e,Oi,m,g,v,y,o=d,s=d+1,c=d+2))&&(a.faceIndex=Math.floor(d/3),t.push(a))}else if(i.isGeometry){var _,M,S,T,E=Array.isArray(n),A=i.vertices,L=i.faces,R=i.faceVertexUvs[0];R.length>0&&(T=R);for(var P=0,C=L.length;P<C;P++){var O=L[P],I=E?n[O.materialIndex]:n;if(void 0!==I&&(_=A[O.a],M=A[O.b],S=A[O.c],a=Zi(this,I,e,Oi,_,M,S,Xi))){if(T&&T[P]){var D=T[P];ki.copy(D[0]),ji.copy(D[1]),Wi.copy(D[2]),a.uv=$a.getUV(Xi,_,M,S,ki,ji,Wi,new Ot)}a.face=O,a.faceIndex=P,t.push(a)}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Ki=0,Qi=new $t,$i=new ga,en=new zt;function tn(){Object.defineProperty(this,\"id\",{value:Ki+=2}),this.uuid=Ct.generateUUID(),this.name=\"\",this.type=\"Geometry\",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}tn.prototype=Object.assign(Object.create(Lt.prototype),{constructor:tn,isGeometry:!0,applyMatrix:function(e){for(var t=(new Ft).getNormalMatrix(e),a=0,i=this.vertices.length;a<i;a++){this.vertices[a].applyMatrix4(e)}for(a=0,i=this.faces.length;a<i;a++){var n=this.faces[a];n.normal.applyMatrix3(t).normalize();for(var r=0,o=n.vertexNormals.length;r<o;r++)n.vertexNormals[r].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return Qi.makeRotationX(e),this.applyMatrix(Qi),this},rotateY:function(e){return Qi.makeRotationY(e),this.applyMatrix(Qi),this},rotateZ:function(e){return Qi.makeRotationZ(e),this.applyMatrix(Qi),this},translate:function(e,t,a){return Qi.makeTranslation(e,t,a),this.applyMatrix(Qi),this},scale:function(e,t,a){return Qi.makeScale(e,t,a),this.applyMatrix(Qi),this},lookAt:function(e){return $i.lookAt(e),$i.updateMatrix(),this.applyMatrix($i.matrix),this},fromBufferGeometry:function(e){var t=this,a=null!==e.index?e.index.array:void 0,i=e.attributes;if(void 0===i.position)return console.error(\"THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion.\"),this;var n=i.position.array,r=void 0!==i.normal?i.normal.array:void 0,o=void 0!==i.color?i.color.array:void 0,s=void 0!==i.uv?i.uv.array:void 0,c=void 0!==i.uv2?i.uv2.array:void 0;void 0!==c&&(this.faceVertexUvs[1]=[]);for(var d=0;d<n.length;d+=3)t.vertices.push((new zt).fromArray(n,d)),void 0!==o&&t.colors.push((new ii).fromArray(o,d));function b(e,a,i,n){var d=void 0===o?[]:[t.colors[e].clone(),t.colors[a].clone(),t.colors[i].clone()],b=new si(e,a,i,void 0===r?[]:[(new zt).fromArray(r,3*e),(new zt).fromArray(r,3*a),(new zt).fromArray(r,3*i)],d,n);t.faces.push(b),void 0!==s&&t.faceVertexUvs[0].push([(new Ot).fromArray(s,2*e),(new Ot).fromArray(s,2*a),(new Ot).fromArray(s,2*i)]),void 0!==c&&t.faceVertexUvs[1].push([(new Ot).fromArray(c,2*e),(new Ot).fromArray(c,2*a),(new Ot).fromArray(c,2*i)])}var f=e.groups;if(f.length>0)for(d=0;d<f.length;d++)for(var h=f[d],l=h.start,u=l,p=l+h.count;u<p;u+=3)void 0!==a?b(a[u],a[u+1],a[u+2],h.materialIndex):b(u,u+1,u+2,h.materialIndex);else if(void 0!==a)for(d=0;d<a.length;d+=3)b(a[d],a[d+1],a[d+2]);else for(d=0;d<n.length/3;d+=3)b(d,d+1,d+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(en).negate(),this.translate(en.x,en.y,en.z),this},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,a=0===t?1:1/t,i=new $t;return i.set(a,0,0,-a*e.x,0,a,0,-a*e.y,0,0,a,-a*e.z,0,0,0,1),this.applyMatrix(i),this},computeFaceNormals:function(){for(var e=new zt,t=new zt,a=0,i=this.faces.length;a<i;a++){var n=this.faces[a],r=this.vertices[n.a],o=this.vertices[n.b],s=this.vertices[n.c];e.subVectors(s,o),t.subVectors(r,o),e.cross(t),e.normalize(),n.normal.copy(e)}},computeVertexNormals:function(e){var t,a,i,n,r,o;for(void 0===e&&(e=!0),o=new Array(this.vertices.length),t=0,a=this.vertices.length;t<a;t++)o[t]=new zt;if(e){var s,c,d,b=new zt,f=new zt;for(i=0,n=this.faces.length;i<n;i++)r=this.faces[i],s=this.vertices[r.a],c=this.vertices[r.b],d=this.vertices[r.c],b.subVectors(d,c),f.subVectors(s,c),b.cross(f),o[r.a].add(b),o[r.b].add(b),o[r.c].add(b)}else for(this.computeFaceNormals(),i=0,n=this.faces.length;i<n;i++)o[(r=this.faces[i]).a].add(r.normal),o[r.b].add(r.normal),o[r.c].add(r.normal);for(t=0,a=this.vertices.length;t<a;t++)o[t].normalize();for(i=0,n=this.faces.length;i<n;i++){var h=(r=this.faces[i]).vertexNormals;3===h.length?(h[0].copy(o[r.a]),h[1].copy(o[r.b]),h[2].copy(o[r.c])):(h[0]=o[r.a].clone(),h[1]=o[r.b].clone(),h[2]=o[r.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,a;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var i=(a=this.faces[e]).vertexNormals;3===i.length?(i[0].copy(a.normal),i[1].copy(a.normal),i[2].copy(a.normal)):(i[0]=a.normal.clone(),i[1]=a.normal.clone(),i[2]=a.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,a,i,n;for(a=0,i=this.faces.length;a<i;a++)for((n=this.faces[a]).__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]),e=0,t=n.vertexNormals.length;e<t;e++)n.__originalVertexNormals[e]?n.__originalVertexNormals[e].copy(n.vertexNormals[e]):n.__originalVertexNormals[e]=n.vertexNormals[e].clone();var r=new tn;for(r.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var o=this.morphNormals[e].faceNormals,s=this.morphNormals[e].vertexNormals;for(a=0,i=this.faces.length;a<i;a++)c=new zt,d={a:new zt,b:new zt,c:new zt},o.push(c),s.push(d)}var c,d,b=this.morphNormals[e];for(r.vertices=this.morphTargets[e].vertices,r.computeFaceNormals(),r.computeVertexNormals(),a=0,i=this.faces.length;a<i;a++)n=this.faces[a],c=b.faceNormals[a],d=b.vertexNormals[a],c.copy(n.normal),d.a.copy(n.vertexNormals[0]),d.b.copy(n.vertexNormals[1]),d.c.copy(n.vertexNormals[2])}for(a=0,i=this.faces.length;a<i;a++)(n=this.faces[a]).normal=n.__originalFaceNormal,n.vertexNormals=n.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Ca),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Da),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,a){if(e&&e.isGeometry){var i,n=this.vertices.length,r=this.vertices,o=e.vertices,s=this.faces,c=e.faces,d=this.colors,b=e.colors;void 0===a&&(a=0),void 0!==t&&(i=(new Ft).getNormalMatrix(t));for(var f=0,h=o.length;f<h;f++){var l=o[f].clone();void 0!==t&&l.applyMatrix4(t),r.push(l)}for(f=0,h=b.length;f<h;f++)d.push(b[f].clone());for(f=0,h=c.length;f<h;f++){var u,p,m,g=c[f],v=g.vertexNormals,y=g.vertexColors;(u=new si(g.a+n,g.b+n,g.c+n)).normal.copy(g.normal),void 0!==i&&u.normal.applyMatrix3(i).normalize();for(var x=0,w=v.length;x<w;x++)p=v[x].clone(),void 0!==i&&p.applyMatrix3(i).normalize(),u.vertexNormals.push(p);u.color.copy(g.color);for(x=0,w=y.length;x<w;x++)m=y[x],u.vertexColors.push(m.clone());u.materialIndex=g.materialIndex+a,s.push(u)}for(f=0,h=e.faceVertexUvs.length;f<h;f++){var _=e.faceVertexUvs[f];void 0===this.faceVertexUvs[f]&&(this.faceVertexUvs[f]=[]);for(x=0,w=_.length;x<w;x++){for(var M=_[x],S=[],T=0,E=M.length;T<E;T++)S.push(M[T].clone());this.faceVertexUvs[f].push(S)}}}else console.error(\"THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.\",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error(\"THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.\",e)},mergeVertices:function(){var e,t,a,i,n,r,o,s,c={},d=[],b=[],f=Math.pow(10,4);for(a=0,i=this.vertices.length;a<i;a++)e=this.vertices[a],void 0===c[t=Math.round(e.x*f)+\"_\"+Math.round(e.y*f)+\"_\"+Math.round(e.z*f)]?(c[t]=a,d.push(this.vertices[a]),b[a]=d.length-1):b[a]=b[c[t]];var h=[];for(a=0,i=this.faces.length;a<i;a++){(n=this.faces[a]).a=b[n.a],n.b=b[n.b],n.c=b[n.c],r=[n.a,n.b,n.c];for(var l=0;l<3;l++)if(r[l]===r[(l+1)%3]){h.push(a);break}}for(a=h.length-1;a>=0;a--){var u=h[a];for(this.faces.splice(u,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(u,1)}var p=this.vertices.length-d.length;return this.vertices=d,p},setFromPoints:function(e){this.vertices=[];for(var t=0,a=e.length;t<a;t++){var i=e[t];this.vertices.push(new zt(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,a=0;a<t;a++)e[a]._id=a;e.sort((function(e,t){return e.materialIndex-t.materialIndex}));var i,n,r=this.faceVertexUvs[0],o=this.faceVertexUvs[1];r&&r.length===t&&(i=[]),o&&o.length===t&&(n=[]);for(a=0;a<t;a++){var s=e[a]._id;i&&i.push(r[s]),n&&n.push(o[s])}i&&(this.faceVertexUvs[0]=i),n&&(this.faceVertexUvs[1]=n)},toJSON:function(){var e={metadata:{version:4.5,type:\"Geometry\",generator:\"Geometry.toJSON\"}};if(e.uuid=this.uuid,e.type=this.type,\"\"!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var a in t)void 0!==t[a]&&(e[a]=t[a]);return e}for(var i=[],n=0;n<this.vertices.length;n++){var r=this.vertices[n];i.push(r.x,r.y,r.z)}var o=[],s=[],c={},d=[],b={},f=[],h={};for(n=0;n<this.faces.length;n++){var l=this.faces[n],u=void 0!==this.faceVertexUvs[0][n],p=l.normal.length()>0,m=l.vertexNormals.length>0,g=1!==l.color.r||1!==l.color.g||1!==l.color.b,v=l.vertexColors.length>0,y=0;if(y=M(y,0,0),y=M(y,1,!0),y=M(y,2,!1),y=M(y,3,u),y=M(y,4,p),y=M(y,5,m),y=M(y,6,g),y=M(y,7,v),o.push(y),o.push(l.a,l.b,l.c),o.push(l.materialIndex),u){var x=this.faceVertexUvs[0][n];o.push(E(x[0]),E(x[1]),E(x[2]))}if(p&&o.push(S(l.normal)),m){var w=l.vertexNormals;o.push(S(w[0]),S(w[1]),S(w[2]))}if(g&&o.push(T(l.color)),v){var _=l.vertexColors;o.push(T(_[0]),T(_[1]),T(_[2]))}}function M(e,t,a){return a?e|1<<t:e&~(1<<t)}function S(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==c[t]?c[t]:(c[t]=s.length/3,s.push(e.x,e.y,e.z),c[t])}function T(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==b[t]?b[t]:(b[t]=d.length,d.push(e.getHex()),b[t])}function E(e){var t=e.x.toString()+e.y.toString();return void 0!==h[t]?h[t]:(h[t]=f.length/2,f.push(e.x,e.y),h[t])}return e.data={},e.data.vertices=i,e.data.normals=s,d.length>0&&(e.data.colors=d),f.length>0&&(e.data.uvs=[f]),e.data.faces=o,e},clone:function(){return(new tn).copy(this)},copy:function(e){var t,a,i,n,r,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var s=e.vertices;for(t=0,a=s.length;t<a;t++)this.vertices.push(s[t].clone());var c=e.colors;for(t=0,a=c.length;t<a;t++)this.colors.push(c[t].clone());var d=e.faces;for(t=0,a=d.length;t<a;t++)this.faces.push(d[t].clone());for(t=0,a=e.faceVertexUvs.length;t<a;t++){var b=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),i=0,n=b.length;i<n;i++){var f=b[i],h=[];for(r=0,o=f.length;r<o;r++){var l=f[r];h.push(l.clone())}this.faceVertexUvs[t].push(h)}}var u=e.morphTargets;for(t=0,a=u.length;t<a;t++){var p={};if(p.name=u[t].name,void 0!==u[t].vertices)for(p.vertices=[],i=0,n=u[t].vertices.length;i<n;i++)p.vertices.push(u[t].vertices[i].clone());if(void 0!==u[t].normals)for(p.normals=[],i=0,n=u[t].normals.length;i<n;i++)p.normals.push(u[t].normals[i].clone());this.morphTargets.push(p)}var m=e.morphNormals;for(t=0,a=m.length;t<a;t++){var g={};if(void 0!==m[t].vertexNormals)for(g.vertexNormals=[],i=0,n=m[t].vertexNormals.length;i<n;i++){var v=m[t].vertexNormals[i],y={};y.a=v.a.clone(),y.b=v.b.clone(),y.c=v.c.clone(),g.vertexNormals.push(y)}if(void 0!==m[t].faceNormals)for(g.faceNormals=[],i=0,n=m[t].faceNormals.length;i<n;i++)g.faceNormals.push(m[t].faceNormals[i].clone());this.morphNormals.push(g)}var x=e.skinWeights;for(t=0,a=x.length;t<a;t++)this.skinWeights.push(x[t].clone());var w=e.skinIndices;for(t=0,a=w.length;t<a;t++)this.skinIndices.push(w[t].clone());var _=e.lineDistances;for(t=0,a=_.length;t<a;t++)this.lineDistances.push(_[t]);var M=e.boundingBox;null!==M&&(this.boundingBox=M.clone());var S=e.boundingSphere;return null!==S&&(this.boundingSphere=S.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:\"dispose\"})}});class an extends Pi{constructor(e,t,a,i,n,r){super(),this.type=\"BoxBufferGeometry\",this.parameters={width:e,height:t,depth:a,widthSegments:i,heightSegments:n,depthSegments:r};var o=this;e=e||1,t=t||1,a=a||1,i=Math.floor(i)||1,n=Math.floor(n)||1,r=Math.floor(r)||1;var s=[],c=[],d=[],b=[],f=0,h=0;function l(e,t,a,i,n,r,l,u,p,m,g){var v,y,x=r/p,w=l/m,_=r/2,M=l/2,S=u/2,T=p+1,E=m+1,A=0,L=0,R=new zt;for(y=0;y<E;y++){var P=y*w-M;for(v=0;v<T;v++){var C=v*x-_;R[e]=C*i,R[t]=P*n,R[a]=S,c.push(R.x,R.y,R.z),R[e]=0,R[t]=0,R[a]=u>0?1:-1,d.push(R.x,R.y,R.z),b.push(v/p),b.push(1-y/m),A+=1}}for(y=0;y<m;y++)for(v=0;v<p;v++){var O=f+v+T*y,I=f+v+T*(y+1),D=f+(v+1)+T*(y+1),N=f+(v+1)+T*y;s.push(O,I,N),s.push(I,D,N),L+=6}o.addGroup(h,L,g),h+=L,f+=A}l(\"z\",\"y\",\"x\",-1,-1,a,t,e,r,n,0),l(\"z\",\"y\",\"x\",1,-1,a,t,-e,r,n,1),l(\"x\",\"z\",\"y\",1,1,e,a,t,i,r,2),l(\"x\",\"z\",\"y\",1,-1,e,a,-t,i,r,3),l(\"x\",\"y\",\"z\",1,-1,e,t,a,i,n,4),l(\"x\",\"y\",\"z\",-1,-1,e,t,-a,i,n,5),this.setIndex(s),this.addAttribute(\"position\",new yi(c,3)),this.addAttribute(\"normal\",new yi(d,3)),this.addAttribute(\"uv\",new yi(b,2))}}function nn(e){var t={};for(var a in e)for(var i in t[a]={},e[a]){var n=e[a][i];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture)?t[a][i]=n.clone():Array.isArray(n)?t[a][i]=n.slice():t[a][i]=n}return t}function rn(e){for(var t={},a=0;a<e.length;a++){var i=nn(e[a]);for(var n in i)t[n]=i[n]}return t}var on={clone:nn,merge:rn},sn=\"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\",cn=\"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\";function dn(e){di.call(this),this.type=\"ShaderMaterial\",this.defines={},this.uniforms={},this.vertexShader=sn,this.fragmentShader=cn,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error(\"THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.\"),this.setValues(e))}function bn(){ga.call(this),this.type=\"Camera\",this.matrixWorldInverse=new $t,this.projectionMatrix=new $t,this.projectionMatrixInverse=new $t}function fn(e,t,a,i){bn.call(this),this.type=\"PerspectiveCamera\",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==a?a:.1,this.far=void 0!==i?i:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}dn.prototype=Object.create(di.prototype),dn.prototype.constructor=dn,dn.prototype.isShaderMaterial=!0,dn.prototype.copy=function(e){return di.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=nn(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},dn.prototype.toJSON=function(e){var t=di.prototype.toJSON.call(this,e);for(var a in t.uniforms={},this.uniforms){var i=this.uniforms[a].value;i&&i.isTexture?t.uniforms[a]={type:\"t\",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[a]={type:\"c\",value:i.getHex()}:i&&i.isVector2?t.uniforms[a]={type:\"v2\",value:i.toArray()}:i&&i.isVector3?t.uniforms[a]={type:\"v3\",value:i.toArray()}:i&&i.isVector4?t.uniforms[a]={type:\"v4\",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[a]={type:\"m3\",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[a]={type:\"m4\",value:i.toArray()}:t.uniforms[a]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var n={};for(var r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t},bn.prototype=Object.assign(Object.create(ga.prototype),{constructor:bn,isCamera:!0,copy:function(e,t){return ga.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn(\"THREE.Camera: .getWorldDirection() target is now required\"),e=new zt),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){ga.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),fn.prototype=Object.assign(Object.create(bn.prototype),{constructor:fn,isPerspectiveCamera:!0,copy:function(e,t){return bn.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Ct.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*Ct.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Ct.RAD2DEG*Math.atan(Math.tan(.5*Ct.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,a,i,n,r){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=a,this.view.offsetY=i,this.view.width=n,this.view.height=r,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*Ct.DEG2RAD*this.fov)/this.zoom,a=2*t,i=this.aspect*a,n=-.5*i,r=this.view;if(null!==this.view&&this.view.enabled){var o=r.fullWidth,s=r.fullHeight;n+=r.offsetX*i/o,t-=r.offsetY*a/s,i*=r.width/o,a*=r.height/s}var c=this.filmOffset;0!==c&&(n+=e*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(n,n+i,t,t-a,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=ga.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});var hn=90,ln=1;function un(e,t,a,i){ga.call(this),this.type=\"CubeCamera\";var n=new fn(hn,ln,e,t);n.up.set(0,-1,0),n.lookAt(new zt(1,0,0)),this.add(n);var r=new fn(hn,ln,e,t);r.up.set(0,-1,0),r.lookAt(new zt(-1,0,0)),this.add(r);var o=new fn(hn,ln,e,t);o.up.set(0,0,1),o.lookAt(new zt(0,1,0)),this.add(o);var s=new fn(hn,ln,e,t);s.up.set(0,0,-1),s.lookAt(new zt(0,-1,0)),this.add(s);var c=new fn(hn,ln,e,t);c.up.set(0,-1,0),c.lookAt(new zt(0,0,1)),this.add(c);var d=new fn(hn,ln,e,t);d.up.set(0,-1,0),d.lookAt(new zt(0,0,-1)),this.add(d),i=i||{format:Ie,magFilter:ge,minFilter:ge},this.renderTarget=new pn(a,a,i),this.renderTarget.texture.name=\"CubeCamera\",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var a=e.getRenderTarget(),i=this.renderTarget,b=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,n),e.setRenderTarget(i,1),e.render(t,r),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,s),e.setRenderTarget(i,4),e.render(t,c),i.texture.generateMipmaps=b,e.setRenderTarget(i,5),e.render(t,d),e.setRenderTarget(a)},this.clear=function(e,t,a,i){for(var n=e.getRenderTarget(),r=this.renderTarget,o=0;o<6;o++)e.setRenderTarget(r,o),e.clear(t,a,i);e.setRenderTarget(n)}}function pn(e,t,a){jt.call(this,e,t,a)}function mn(e,t,a,i,n,r,o,s,c,d,b,f){Vt.call(this,null,r,o,s,c,d,i,n,b,f),this.image={data:e||null,width:t||1,height:a||1},this.magFilter=void 0!==c?c:ue,this.minFilter=void 0!==d?d:ue,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}un.prototype=Object.create(ga.prototype),un.prototype.constructor=un,pn.prototype=Object.create(jt.prototype),pn.prototype.constructor=pn,pn.prototype.isWebGLRenderTargetCube=!0,pn.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=t.format,this.texture.encoding=t.encoding;var a=new va,i={uniforms:{tEquirect:{value:null}},vertexShader:[\"varying vec3 vWorldDirection;\",\"vec3 transformDirection( in vec3 dir, in mat4 matrix ) {\",\"\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\",\"}\",\"void main() {\",\"\\tvWorldDirection = transformDirection( position, modelMatrix );\",\"\\t#include <begin_vertex>\",\"\\t#include <project_vertex>\",\"}\"].join(\"\\n\"),fragmentShader:[\"uniform sampler2D tEquirect;\",\"varying vec3 vWorldDirection;\",\"#define RECIPROCAL_PI 0.31830988618\",\"#define RECIPROCAL_PI2 0.15915494\",\"void main() {\",\"\\tvec3 direction = normalize( vWorldDirection );\",\"\\tvec2 sampleUV;\",\"\\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\",\"\\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\",\"\\tgl_FragColor = texture2D( tEquirect, sampleUV );\",\"}\"].join(\"\\n\")},n=new dn({type:\"CubemapFromEquirect\",uniforms:nn(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:u,blending:y});n.uniforms.tEquirect.value=t;var r=new Yi(new an(5,5,5),n);a.add(r);var o=new un(1,10,1);return o.renderTarget=this,o.renderTarget.texture.name=\"CubeCameraTexture\",o.update(e,a),r.geometry.dispose(),r.material.dispose(),this},mn.prototype=Object.create(Vt.prototype),mn.prototype.constructor=mn,mn.prototype.isDataTexture=!0;var gn=new zt,vn=new zt,yn=new Ft;function xn(e,t){this.normal=void 0!==e?e:new zt(1,0,0),this.constant=void 0!==t?t:0}Object.assign(xn.prototype,{isPlane:!0,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,a,i){return this.normal.set(e,t,a),this.constant=i,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(e,t,a){var i=gn.subVectors(a,t).cross(vn.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn(\"THREE.Plane: .projectPoint() target is now required\"),t=new zt),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,t){void 0===t&&(console.warn(\"THREE.Plane: .intersectLine() target is now required\"),t=new zt);var a=e.delta(gn),i=this.normal.dot(a);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):void 0;var n=-(e.start.dot(this.normal)+this.constant)/i;return n<0||n>1?void 0:t.copy(a).multiplyScalar(n).add(e.start)},intersectsLine:function(e){var t=this.distanceToPoint(e.start),a=this.distanceToPoint(e.end);return t<0&&a>0||a<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn(\"THREE.Plane: .coplanarPoint() target is now required\"),e=new zt),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,t){var a=t||yn.getNormalMatrix(e),i=this.coplanarPoint(gn).applyMatrix4(e),n=this.normal.applyMatrix3(a).normalize();return this.constant=-i.dot(n),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});var wn=new Da,_n=new zt;function Mn(e,t,a,i,n,r){this.planes=[void 0!==e?e:new xn,void 0!==t?t:new xn,void 0!==a?a:new xn,void 0!==i?i:new xn,void 0!==n?n:new xn,void 0!==r?r:new xn]}Object.assign(Mn.prototype,{set:function(e,t,a,i,n,r){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(a),o[3].copy(i),o[4].copy(n),o[5].copy(r),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,a=0;a<6;a++)t[a].copy(e.planes[a]);return this},setFromMatrix:function(e){var t=this.planes,a=e.elements,i=a[0],n=a[1],r=a[2],o=a[3],s=a[4],c=a[5],d=a[6],b=a[7],f=a[8],h=a[9],l=a[10],u=a[11],p=a[12],m=a[13],g=a[14],v=a[15];return t[0].setComponents(o-i,b-s,u-f,v-p).normalize(),t[1].setComponents(o+i,b+s,u+f,v+p).normalize(),t[2].setComponents(o+n,b+c,u+h,v+m).normalize(),t[3].setComponents(o-n,b-c,u-h,v-m).normalize(),t[4].setComponents(o-r,b-d,u-l,v-g).normalize(),t[5].setComponents(o+r,b+d,u+l,v+g).normalize(),this},intersectsObject:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),wn.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(wn)},intersectsSprite:function(e){return wn.center.set(0,0,0),wn.radius=.7071067811865476,wn.applyMatrix4(e.matrixWorld),this.intersectsSphere(wn)},intersectsSphere:function(e){for(var t=this.planes,a=e.center,i=-e.radius,n=0;n<6;n++){if(t[n].distanceToPoint(a)<i)return!1}return!0},intersectsBox:function(e){for(var t=this.planes,a=0;a<6;a++){var i=t[a];if(_n.x=i.normal.x>0?e.max.x:e.min.x,_n.y=i.normal.y>0?e.max.y:e.min.y,_n.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(_n)<0)return!1}return!0},containsPoint:function(e){for(var t=this.planes,a=0;a<6;a++)if(t[a].distanceToPoint(e)<0)return!1;return!0}});var Sn={alphamap_fragment:\"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\",alphamap_pars_fragment:\"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\",alphatest_fragment:\"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\",aomap_fragment:\"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\",aomap_pars_fragment:\"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\",begin_vertex:\"vec3 transformed = vec3( position );\",beginnormal_vertex:\"vec3 objectNormal = vec3( normal );\\n#ifdef USE_TANGENT\\n\\tvec3 objectTangent = vec3( tangent.xyz );\\n#endif\",bsdfs:\"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\\n}\\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\tif( cutoffDistance > 0.0 ) {\\n\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t}\\n\\treturn distanceFalloff;\\n#else\\n\\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t}\\n\\treturn 1.0;\\n#endif\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\\n\\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\\n\\treturn Fr * fresnel + F0;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE  = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\treturn specularColor * brdf.x + brdf.y;\\n}\\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\tvec3 FssEss = F * brdf.x + brdf.y;\\n\\tfloat Ess = brdf.x + brdf.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n#if defined( USE_SHEEN )\\nfloat D_Charlie(float roughness, float NoH) {\\n\\tfloat invAlpha  = 1.0 / roughness;\\n\\tfloat cos2h = NoH * NoH;\\n\\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\\n}\\nfloat V_Neubelt(float NoV, float NoL) {\\n\\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\\n}\\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\\n\\tvec3 N = geometry.normal;\\n\\tvec3 V = geometry.viewDir;\\n\\tvec3 H = normalize( V + L );\\n\\tfloat dotNH = saturate( dot( N, H ) );\\n\\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\\n}\\n#endif\",bumpmap_pars_fragment:\"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 );\\n\\t\\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\",clipping_planes_fragment:\"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\",clipping_planes_pars_fragment:\"#if NUM_CLIPPING_PLANES > 0\\n\\t#if ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\t\\tvarying vec3 vViewPosition;\\n\\t#endif\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\",clipping_planes_pars_vertex:\"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\",clipping_planes_vertex:\"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\",color_fragment:\"#ifdef USE_COLOR\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\",color_pars_fragment:\"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\",color_pars_vertex:\"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\",color_vertex:\"#ifdef USE_COLOR\\n\\tvColor.xyz = color.xyz;\\n#endif\",common:\"#define PI 3.14159265359\\n#define PI2 6.28318530718\\n#define PI_HALF 1.5707963267949\\n#define RECIPROCAL_PI 0.31830988618\\n#define RECIPROCAL_PI2 0.15915494\\n#define LOG2 1.442695\\n#define EPSILON 1e-6\\n#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\n#ifdef HIGH_PRECISION\\n\\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\\n#else\\n\\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\\n\\tfloat precisionSafeLength( vec3 v ) {\\n\\t\\tfloat maxComponent = max3( abs( v ) );\\n\\t\\treturn length( v / maxComponent ) * maxComponent;\\n\\t}\\n#endif\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal;\\n#endif\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\\nbool isPerspectiveMatrix( mat4 m ) {\\n  return m[ 2 ][ 3 ] == - 1.0;\\n}\",cube_uv_reflection_fragment:\"#ifdef ENVMAP_TYPE_CUBE_UV\\n#define cubeUV_textureSize (1024.0)\\nint getFaceFromDirection(vec3 direction) {\\n\\tvec3 absDirection = abs(direction);\\n\\tint face = -1;\\n\\tif( absDirection.x > absDirection.z ) {\\n\\t\\tif(absDirection.x > absDirection.y )\\n\\t\\t\\tface = direction.x > 0.0 ? 0 : 3;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\telse {\\n\\t\\tif(absDirection.z > absDirection.y )\\n\\t\\t\\tface = direction.z > 0.0 ? 2 : 5;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\treturn face;\\n}\\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\\n\\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\\n\\tfloat dxRoughness = dFdx(roughness);\\n\\tfloat dyRoughness = dFdy(roughness);\\n\\tvec3 dx = dFdx( vec * scale * dxRoughness );\\n\\tvec3 dy = dFdy( vec * scale * dyRoughness );\\n\\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\\n\\td = clamp(d, 1.0, cubeUV_rangeClamp);\\n\\tfloat mipLevel = 0.5 * log2(d);\\n\\treturn vec2(floor(mipLevel), fract(mipLevel));\\n}\\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\\n\\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\\n\\tfloat a = 16.0 * cubeUV_rcpTextureSize;\\n\\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\\n\\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\\n\\tfloat powScale = exp2_packed.x * exp2_packed.y;\\n\\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\\n\\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\\n\\tbool bRes = mipLevel == 0.0;\\n\\tscale =  bRes && (scale < a) ? a : scale;\\n\\tvec3 r;\\n\\tvec2 offset;\\n\\tint face = getFaceFromDirection(direction);\\n\\tfloat rcpPowScale = 1.0 / powScale;\\n\\tif( face == 0) {\\n\\t\\tr = vec3(direction.x, -direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 1) {\\n\\t\\tr = vec3(direction.y, direction.x, direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 2) {\\n\\t\\tr = vec3(direction.z, direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 3) {\\n\\t\\tr = vec3(direction.x, direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse if( face == 4) {\\n\\t\\tr = vec3(direction.y, direction.x, -direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse {\\n\\t\\tr = vec3(direction.z, -direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\tr = normalize(r);\\n\\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\\n\\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\\n\\tvec2 base = offset + vec2( texelOffset );\\n\\treturn base + s * ( scale - 2.0 * texelOffset );\\n}\\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\\n\\tfloat roughnessVal = roughness* cubeUV_maxLods3;\\n\\tfloat r1 = floor(roughnessVal);\\n\\tfloat r2 = r1 + 1.0;\\n\\tfloat t = fract(roughnessVal);\\n\\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\\n\\tfloat s = mipInfo.y;\\n\\tfloat level0 = mipInfo.x;\\n\\tfloat level1 = level0 + 1.0;\\n\\tlevel1 = level1 > 5.0 ? 5.0 : level1;\\n\\tlevel0 += min( floor( s + 0.5 ), 5.0 );\\n\\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\\n\\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\\n\\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\\n\\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\\n\\tvec4 result = mix(color10, color20, t);\\n\\treturn vec4(result.rgb, 1.0);\\n}\\n#endif\",defaultnormal_vertex:\"vec3 transformedNormal = objectNormal;\\n#ifdef USE_INSTANCING\\n\\ttransformedNormal = mat3( instanceMatrix ) * transformedNormal;\\n#endif\\ntransformedNormal = normalMatrix * transformedNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n#ifdef USE_TANGENT\\n\\tvec3 transformedTangent = normalMatrix * objectTangent;\\n\\t#ifdef FLIP_SIDED\\n\\t\\ttransformedTangent = - transformedTangent;\\n\\t#endif\\n#endif\",displacementmap_pars_vertex:\"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\",displacementmap_vertex:\"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\\n#endif\",emissivemap_fragment:\"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\",emissivemap_pars_fragment:\"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\",encodings_fragment:\"gl_FragColor = linearToOutputTexel( gl_FragColor );\",encodings_pars_fragment:\"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat D = max( maxRange / maxRGB, 1.0 );\\n\\tD = min( floor( D ) / 255.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value )  {\\n\\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\\n\\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract( Le );\\n\\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\\n\\treturn vec4( max( vRGB, 0.0 ), 1.0 );\\n}\",envmap_fragment:\"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\tvec2 sampleUV;\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\tvec4 envColor = texture2D( envMap, sampleUV );\\n\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\\n\\t\\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\",envmap_common_pars_fragment:\"#ifdef USE_ENVMAP\\n\\tuniform float envMapIntensity;\\n\\tuniform float flipEnvMap;\\n\\tuniform int maxMipLevel;\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\t\\n#endif\",envmap_pars_fragment:\"#ifdef USE_ENVMAP\\n\\tuniform float reflectivity;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\",envmap_pars_vertex:\"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\t\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\",envmap_physical_pars_fragment:\"#if defined( USE_ENVMAP )\\n\\t#ifdef ENVMAP_MODE_REFRACTION\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t  vec3 reflectVec = reflect( -viewDir, normal );\\n\\t\\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\\n\\t\\t#else\\n\\t\\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, roughness );\\n\\t\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\t\\tvec2 sampleUV;\\n\\t\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\",envmap_vertex:\"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\",fog_vertex:\"#ifdef USE_FOG\\n\\tfogDepth = -mvPosition.z;\\n#endif\",fog_pars_vertex:\"#ifdef USE_FOG\\n\\tvarying float fogDepth;\\n#endif\",fog_fragment:\"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\",fog_pars_fragment:\"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\",gradientmap_pars_fragment:\"#ifdef TOON\\n\\tuniform sampler2D gradientMap;\\n\\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\t\\tfloat dotNL = dot( normal, lightDirection );\\n\\t\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t\\t#ifdef USE_GRADIENTMAP\\n\\t\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t\\t#else\\n\\t\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t\\t#endif\\n\\t}\\n#endif\",lightmap_fragment:\"#ifdef USE_LIGHTMAP\\n\\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n#endif\",lightmap_pars_fragment:\"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\",lights_lambert_vertex:\"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\nvIndirectFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n\\tvIndirectBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\n#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n#endif\",lights_pars_begin:\"uniform bool receiveShadow;\\nuniform vec3 ambientLightColor;\\nuniform vec3 lightProbe[ 9 ];\\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\\n\\tfloat x = normal.x, y = normal.y, z = normal.z;\\n\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\\n\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\\n\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\\n\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\\n\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\\n\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\\n\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\\n\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\\n\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\\n\\treturn result;\\n}\\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\\n\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\\n\\treturn irradiance;\\n}\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t\\tfloat shadowCameraNear;\\n\\t\\tfloat shadowCameraFar;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\",lights_phong_fragment:\"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\",lights_phong_pars_fragment:\"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tvec3\\tspecularColor;\\n\\tfloat\\tspecularShininess;\\n\\tfloat\\tspecularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t#ifdef TOON\\n\\t\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#else\\n\\t\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\t\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#endif\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\",lights_physical_fragment:\"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\\n#ifdef REFLECTIVITY\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#endif\\n#ifdef CLEARCOAT\\n\\tmaterial.clearcoat = saturate( clearcoat );\\tmaterial.clearcoatRoughness = clamp( clearcoatRoughness, 0.04, 1.0 );\\n#endif\\n#ifdef USE_SHEEN\\n\\tmaterial.sheenColor = sheen;\\n#endif\",lights_physical_pars_fragment:\"struct PhysicalMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tfloat\\tspecularRoughness;\\n\\tvec3\\tspecularColor;\\n#ifdef CLEARCOAT\\n\\tfloat clearcoat;\\n\\tfloat clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tvec3 sheenColor;\\n#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(    0, 1,    0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\\n\\t\\tvec3 ccIrradiance = ccDotNL * directLight.color;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tccIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t\\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\\n\\t\\t\\tmaterial.specularRoughness,\\n\\t\\t\\tdirectLight.direction,\\n\\t\\t\\tgeometry,\\n\\t\\t\\tmaterial.sheenColor\\n\\t\\t);\\n\\t#else\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\\n\\t#endif\\n\\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t\\tfloat ccDotNL = ccDotNV;\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\tfloat clearcoatInv = 1.0 - clearcoatDHR;\\n\\tvec3 singleScattering = vec3( 0.0 );\\n\\tvec3 multiScattering = vec3( 0.0 );\\n\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\\n\\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\\n\\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\\n\\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\\n\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\",lights_fragment_begin:\"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = normalize( vViewPosition );\\n#ifdef CLEARCOAT\\n\\tgeometry.clearcoatNormal = clearcoatNormal;\\n#endif\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\\n\\t\\tdirectLight.color *= all( bvec3( pointLight.shadow, directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\tdirectLight.color *= all( bvec3( spotLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\\n\\t\\tdirectLight.color *= all( bvec3( directionalLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 iblIrradiance = vec3( 0.0 );\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearcoatRadiance = vec3( 0.0 );\\n#endif\",lights_fragment_maps:\"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\\n\\t#ifdef CLEARCOAT\\n\\t\\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\\n\\t#endif\\n#endif\",lights_fragment_end:\"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\\n#endif\",logdepthbuf_fragment:\"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = vIsPerspective == 1.0 ? log2( vFragDepth ) * logDepthBufFC * 0.5 : gl_FragCoord.z;\\n#endif\",logdepthbuf_pars_fragment:\"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n\\tvarying float vIsPerspective;\\n#endif\",logdepthbuf_pars_vertex:\"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t\\tvarying float vIsPerspective;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\",logdepthbuf_vertex:\"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t\\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\\n\\t#else\\n\\t\\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\\n\\t\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\t\\tgl_Position.z *= gl_Position.w;\\n\\t\\t}\\n\\t#endif\\n#endif\",map_fragment:\"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\",map_pars_fragment:\"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\",map_particle_fragment:\"#ifdef USE_MAP\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\",map_particle_pars_fragment:\"#ifdef USE_MAP\\n\\tuniform mat3 uvTransform;\\n\\tuniform sampler2D map;\\n#endif\",metalnessmap_fragment:\"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\",metalnessmap_pars_fragment:\"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\",morphnormal_vertex:\"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\\n#endif\",morphtarget_pars_vertex:\"#ifdef USE_MORPHTARGETS\\n\\t#ifndef USE_MORPHNORMALS\\n\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\",morphtarget_vertex:\"#ifdef USE_MORPHTARGETS\\n\\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\\n\\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\\n\\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\\n\\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\\n\\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\\n\\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\\n\\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\",normal_fragment_begin:\"#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\t#ifdef USE_TANGENT\\n\\t\\tvec3 tangent = normalize( vTangent );\\n\\t\\tvec3 bitangent = normalize( vBitangent );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t\\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\nvec3 geometryNormal = normal;\",normal_fragment_maps:\"#ifdef OBJECTSPACE_NORMALMAP\\n\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t#ifdef FLIP_SIDED\\n\\t\\tnormal = - normal;\\n\\t#endif\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\tnormal = normalize( normalMatrix * normal );\\n#elif defined( TANGENTSPACE_NORMALMAP )\\n\\t#ifdef USE_TANGENT\\n\\t\\tmat3 vTBN = mat3( tangent, bitangent, normal );\\n\\t\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t\\tmapN.xy = normalScale * mapN.xy;\\n\\t\\tnormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( -vViewPosition, normal, normalScale, normalMap );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n#endif\",normalmap_pars_fragment:\"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n#endif\\n#ifdef OBJECTSPACE_NORMALMAP\\n\\tuniform mat3 normalMatrix;\\n#endif\\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec2 normalScale, in sampler2D normalMap ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\\n\\t\\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\\n\\t\\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\\n\\t\\tvec3 N = normalize( surf_norm );\\n\\t\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t\\tmapN.xy *= normalScale;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tbool frontFacing = dot( cross( S, T ), N ) > 0.0;\\n\\t\\t\\tmapN.xy *= ( float( frontFacing ) * 2.0 - 1.0 );\\n\\t\\t#else\\n\\t\\t\\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t#endif\\n\\t\\tmat3 tsn = mat3( S, T, N );\\n\\t\\treturn normalize( tsn * mapN );\\n\\t}\\n#endif\",clearcoat_normal_fragment_begin:\"#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal = geometryNormal;\\n#endif\",clearcoat_normal_fragment_maps:\"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\t#ifdef USE_TANGENT\\n\\t\\tmat3 vTBN = mat3( tangent, bitangent, clearcoatNormal );\\n\\t\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t\\tmapN.xy = clearcoatNormalScale * mapN.xy;\\n\\t\\tclearcoatNormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatNormalScale, clearcoatNormalMap );\\n\\t#endif\\n#endif\",clearcoat_normalmap_pars_fragment:\"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tuniform sampler2D clearcoatNormalMap;\\n\\tuniform vec2 clearcoatNormalScale;\\n#endif\",packing:\"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nvec4 encodeHalfRGBA ( vec2 v ) {\\n\\tvec4 encoded = vec4( 0.0 );\\n\\tconst vec2 offset = vec2( 1.0 / 255.0, 0.0 );\\n\\tencoded.xy = vec2( v.x, fract( v.x * 255.0 ) );\\n\\tencoded.xy = encoded.xy - ( encoded.yy * offset );\\n\\tencoded.zw = vec2( v.y, fract( v.y * 255.0 ) );\\n\\tencoded.zw = encoded.zw - ( encoded.ww * offset );\\n\\treturn encoded;\\n}\\nvec2 decodeHalfRGBA( vec4 v ) {\\n\\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\",premultiplied_alpha_fragment:\"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\",project_vertex:\"vec4 mvPosition = vec4( transformed, 1.0 );\\n#ifdef USE_INSTANCING\\n\\tmvPosition = instanceMatrix * mvPosition;\\n#endif\\nmvPosition = modelViewMatrix * mvPosition;\\ngl_Position = projectionMatrix * mvPosition;\",dithering_fragment:\"#ifdef DITHERING\\n\\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\",dithering_pars_fragment:\"#ifdef DITHERING\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\",roughnessmap_fragment:\"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\",roughnessmap_pars_fragment:\"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\",shadowmap_pars_fragment:\"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\\n\\t\\treturn decodeHalfRGBA( texture2D( shadow, uv ) );\\n\\t}\\n\\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\\n\\t\\tfloat occlusion = 1.0;\\n\\t\\tvec2 distribution = texture2DDistribution( shadow, uv );\\n\\t\\tfloat hard_shadow = step( compare , distribution.x );\\n\\t\\tif (hard_shadow != 1.0 ) {\\n\\t\\t\\tfloat distance = compare - distribution.x ;\\n\\t\\t\\tfloat variance = max( 0.00000, distribution.y * distribution.y );\\n\\t\\t\\tfloat softness_probability = variance / (variance + distance * distance );\\t\\t\\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\\t\\t\\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\\n\\t\\t}\\n\\t\\treturn occlusion;\\n\\t}\\n\\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\\n\\t\\tconst vec2 offset = vec2( 0.0, 1.0 );\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / size;\\n\\t\\tvec2 centroidUV = ( floor( uv * size - 0.5 ) + 0.5 ) * texelSize;\\n\\t\\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\\n\\t\\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\\n\\t\\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\\n\\t\\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\\n\\t\\tvec2 f = fract( uv * size + 0.5 );\\n\\t\\tfloat a = mix( lb, lt, f.y );\\n\\t\\tfloat b = mix( rb, rt, f.y );\\n\\t\\tfloat c = mix( a, b, f.x );\\n\\t\\treturn c;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx2 = dx0 / 2.0;\\n\\t\\t\\tfloat dy2 = dy0 / 2.0;\\n\\t\\t\\tfloat dx3 = dx1 / 2.0;\\n\\t\\t\\tfloat dy3 = dy1 / 2.0;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 17.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\",shadowmap_pars_vertex:\"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n#endif\",shadowmap_vertex:\"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n#endif\",shadowmask_pars_fragment:\"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLight directionalLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tshadow *= all( bvec2( directionalLight.shadow, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLight spotLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tshadow *= all( bvec2( spotLight.shadow, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLight pointLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tshadow *= all( bvec2( pointLight.shadow, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\",skinbase_vertex:\"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\",skinning_pars_vertex:\"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform highp sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\",skinning_vertex:\"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\",skinnormal_vertex:\"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\t#ifdef USE_TANGENT\\n\\t\\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#endif\\n#endif\",specularmap_fragment:\"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\",specularmap_pars_fragment:\"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\",tonemapping_fragment:\"#if defined( TONE_MAPPING )\\n\\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\",tonemapping_pars_fragment:\"#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nuniform float toneMappingWhitePoint;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\\nvec3 Uncharted2ToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\\n}\",uv_pars_fragment:\"#ifdef USE_UV\\n\\tvarying vec2 vUv;\\n#endif\",uv_pars_vertex:\"#ifdef USE_UV\\n\\tvarying vec2 vUv;\\n\\tuniform mat3 uvTransform;\\n#endif\",uv_vertex:\"#ifdef USE_UV\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\",uv2_pars_fragment:\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\",uv2_pars_vertex:\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n#endif\",uv2_vertex:\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = uv2;\\n#endif\",worldpos_vertex:\"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\n\\tvec4 worldPosition = vec4( transformed, 1.0 );\\n\\t#ifdef USE_INSTANCING\\n\\t\\tworldPosition = instanceMatrix * worldPosition;\\n\\t#endif\\n\\tworldPosition = modelMatrix * worldPosition;\\n#endif\",background_frag:\"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tvec4 texColor = texture2D( t2D, vUv );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\",background_vert:\"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\",cube_frag:\"uniform samplerCube tCube;\\nuniform float tFlip;\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\nvoid main() {\\n\\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\",cube_vert:\"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\",depth_frag:\"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\\n\\t#endif\\n}\",depth_vert:\"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n}\",distanceRGBA_frag:\"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\",distanceRGBA_vert:\"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\",equirect_frag:\"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV;\\n\\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tvec4 texColor = texture2D( tEquirect, sampleUV );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\",equirect_vert:\"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\",linedashed_frag:\"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\",linedashed_vert:\"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\tvLineDistance = scale * lineDistance;\\n\\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\",meshbasic_frag:\"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\",meshbasic_vert:\"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\",meshlambert_frag:\"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vIndirectFront;\\n\\t#endif\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\",meshlambert_vert:\"#define LAMBERT\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\",meshmatcap_frag:\"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t\\tmatcapColor = matcapTexelToLinear( matcapColor );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\",meshmatcap_vert:\"#define MATCAP\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#ifndef FLAT_SHADED\\n\\t\\tvNormal = normalize( transformedNormal );\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\",meshphong_frag:\"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\",meshphong_vert:\"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\",meshphysical_frag:\"#define STANDARD\\n#ifdef PHYSICAL\\n\\t#define REFLECTIVITY\\n\\t#define CLEARCOAT\\n\\t#define TRANSPARENCY\\n#endif\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifdef TRANSPARENCY\\n\\tuniform float transparency;\\n#endif\\n#ifdef REFLECTIVITY\\n\\tuniform float reflectivity;\\n#endif\\n#ifdef CLEARCOAT\\n\\tuniform float clearcoat;\\n\\tuniform float clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tuniform vec3 sheen;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <clearcoat_normalmap_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <clearcoat_normal_fragment_begin>\\n\\t#include <clearcoat_normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#ifdef TRANSPARENCY\\n\\t\\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\\n\\t#endif\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\",meshphysical_vert:\"#define STANDARD\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\",normal_frag:\"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\",normal_vert:\"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\",points_frag:\"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\",points_vert:\"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\",shadow_frag:\"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <fog_fragment>\\n}\",shadow_vert:\"#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\",sprite_frag:\"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\",sprite_vert:\"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\"},Tn={common:{diffuse:{value:new ii(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ft},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ot(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ii(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new ii(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new Ft}},sprite:{diffuse:{value:new ii(15658734)},opacity:{value:1},center:{value:new Ot(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new Ft}}},En={basic:{uniforms:rn([Tn.common,Tn.specularmap,Tn.envmap,Tn.aomap,Tn.lightmap,Tn.fog]),vertexShader:Sn.meshbasic_vert,fragmentShader:Sn.meshbasic_frag},lambert:{uniforms:rn([Tn.common,Tn.specularmap,Tn.envmap,Tn.aomap,Tn.lightmap,Tn.emissivemap,Tn.fog,Tn.lights,{emissive:{value:new ii(0)}}]),vertexShader:Sn.meshlambert_vert,fragmentShader:Sn.meshlambert_frag},phong:{uniforms:rn([Tn.common,Tn.specularmap,Tn.envmap,Tn.aomap,Tn.lightmap,Tn.emissivemap,Tn.bumpmap,Tn.normalmap,Tn.displacementmap,Tn.gradientmap,Tn.fog,Tn.lights,{emissive:{value:new ii(0)},specular:{value:new ii(1118481)},shininess:{value:30}}]),vertexShader:Sn.meshphong_vert,fragmentShader:Sn.meshphong_frag},standard:{uniforms:rn([Tn.common,Tn.envmap,Tn.aomap,Tn.lightmap,Tn.emissivemap,Tn.bumpmap,Tn.normalmap,Tn.displacementmap,Tn.roughnessmap,Tn.metalnessmap,Tn.fog,Tn.lights,{emissive:{value:new ii(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Sn.meshphysical_vert,fragmentShader:Sn.meshphysical_frag},matcap:{uniforms:rn([Tn.common,Tn.bumpmap,Tn.normalmap,Tn.displacementmap,Tn.fog,{matcap:{value:null}}]),vertexShader:Sn.meshmatcap_vert,fragmentShader:Sn.meshmatcap_frag},points:{uniforms:rn([Tn.points,Tn.fog]),vertexShader:Sn.points_vert,fragmentShader:Sn.points_frag},dashed:{uniforms:rn([Tn.common,Tn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Sn.linedashed_vert,fragmentShader:Sn.linedashed_frag},depth:{uniforms:rn([Tn.common,Tn.displacementmap]),vertexShader:Sn.depth_vert,fragmentShader:Sn.depth_frag},normal:{uniforms:rn([Tn.common,Tn.bumpmap,Tn.normalmap,Tn.displacementmap,{opacity:{value:1}}]),vertexShader:Sn.normal_vert,fragmentShader:Sn.normal_frag},sprite:{uniforms:rn([Tn.sprite,Tn.fog]),vertexShader:Sn.sprite_vert,fragmentShader:Sn.sprite_frag},background:{uniforms:{uvTransform:{value:new Ft},t2D:{value:null}},vertexShader:Sn.background_vert,fragmentShader:Sn.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Sn.cube_vert,fragmentShader:Sn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Sn.equirect_vert,fragmentShader:Sn.equirect_frag},distanceRGBA:{uniforms:rn([Tn.common,Tn.displacementmap,{referencePosition:{value:new zt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Sn.distanceRGBA_vert,fragmentShader:Sn.distanceRGBA_frag},shadow:{uniforms:rn([Tn.lights,Tn.fog,{color:{value:new ii(0)},opacity:{value:1}}]),vertexShader:Sn.shadow_vert,fragmentShader:Sn.shadow_frag}};function An(){var e=null,t=!1,a=null;function i(n,r){!1!==t&&(a(n,r),e.requestAnimationFrame(i))}return{start:function(){!0!==t&&null!==a&&(e.requestAnimationFrame(i),t=!0)},stop:function(){t=!1},setAnimationLoop:function(e){a=e},setContext:function(t){e=t}}}function Ln(e){var t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(a){a.isInterleavedBufferAttribute&&(a=a.data);var i=t.get(a);i&&(e.deleteBuffer(i.buffer),t.delete(a))},update:function(a,i){a.isInterleavedBufferAttribute&&(a=a.data);var n=t.get(a);void 0===n?t.set(a,function(t,a){var i=t.array,n=t.dynamic?35048:35044,r=e.createBuffer();e.bindBuffer(a,r),e.bufferData(a,i,n),t.onUploadCallback();var o=5126;return i instanceof Float32Array?o=5126:i instanceof Float64Array?console.warn(\"THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.\"):i instanceof Uint16Array?o=5123:i instanceof Int16Array?o=5122:i instanceof Uint32Array?o=5125:i instanceof Int32Array?o=5124:i instanceof Int8Array?o=5120:i instanceof Uint8Array&&(o=5121),{buffer:r,type:o,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}(a,i)):n.version<a.version&&(!function(t,a,i){var n=a.array,r=a.updateRange;e.bindBuffer(i,t),!1===a.dynamic?e.bufferData(i,n,35044):-1===r.count?e.bufferSubData(i,0,n):0===r.count?console.error(\"THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.\"):(e.bufferSubData(i,r.offset*n.BYTES_PER_ELEMENT,n.subarray(r.offset,r.offset+r.count)),r.count=-1)}(n.buffer,a,i),n.version=a.version)}}}function Rn(e,t,a,i){tn.call(this),this.type=\"PlaneGeometry\",this.parameters={width:e,height:t,widthSegments:a,heightSegments:i},this.fromBufferGeometry(new Pn(e,t,a,i)),this.mergeVertices()}function Pn(e,t,a,i){Pi.call(this),this.type=\"PlaneBufferGeometry\",this.parameters={width:e,height:t,widthSegments:a,heightSegments:i};var n,r,o=(e=e||1)/2,s=(t=t||1)/2,c=Math.floor(a)||1,d=Math.floor(i)||1,b=c+1,f=d+1,h=e/c,l=t/d,u=[],p=[],m=[],g=[];for(r=0;r<f;r++){var v=r*l-s;for(n=0;n<b;n++){var y=n*h-o;p.push(y,-v,0),m.push(0,0,1),g.push(n/c),g.push(1-r/d)}}for(r=0;r<d;r++)for(n=0;n<c;n++){var x=n+b*r,w=n+b*(r+1),_=n+1+b*(r+1),M=n+1+b*r;u.push(x,w,M),u.push(w,_,M)}this.setIndex(u),this.addAttribute(\"position\",new yi(p,3)),this.addAttribute(\"normal\",new yi(m,3)),this.addAttribute(\"uv\",new yi(g,2))}function Cn(e,t,a,i){var n,r,o=new ii(0),s=0,c=null,d=0;function b(e,a){t.buffers.color.setClear(e.r,e.g,e.b,a,i)}return{getClearColor:function(){return o},setClearColor:function(e,t){o.set(e),b(o,s=void 0!==t?t:1)},getClearAlpha:function(){return s},setClearAlpha:function(e){b(o,s=e)},render:function(t,i,f,h){var p=i.background,m=e.vr,g=m.getSession&&m.getSession();if(g&&\"additive\"===g.environmentBlendMode&&(p=null),null===p?(b(o,s),c=null,d=0):p&&p.isColor&&(b(p,1),h=!0,c=null,d=0),(e.autoClear||h)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),p&&(p.isCubeTexture||p.isWebGLRenderTargetCube)){void 0===r&&((r=new Yi(new an(1,1,1),new dn({type:\"BackgroundCubeMaterial\",uniforms:nn(En.cube.uniforms),vertexShader:En.cube.vertexShader,fragmentShader:En.cube.fragmentShader,side:u,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute(\"normal\"),r.geometry.removeAttribute(\"uv\"),r.onBeforeRender=function(e,t,a){this.matrixWorld.copyPosition(a.matrixWorld)},Object.defineProperty(r.material,\"map\",{get:function(){return this.uniforms.tCube.value}}),a.update(r));var v=p.isWebGLRenderTargetCube?p.texture:p;r.material.uniforms.tCube.value=v,r.material.uniforms.tFlip.value=p.isWebGLRenderTargetCube?1:-1,c===p&&d===v.version||(r.material.needsUpdate=!0,c=p,d=v.version),t.unshift(r,r.geometry,r.material,0,0,null)}else p&&p.isTexture&&(void 0===n&&((n=new Yi(new Pn(2,2),new dn({type:\"BackgroundMaterial\",uniforms:nn(En.background.uniforms),vertexShader:En.background.vertexShader,fragmentShader:En.background.fragmentShader,side:l,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute(\"normal\"),Object.defineProperty(n.material,\"map\",{get:function(){return this.uniforms.t2D.value}}),a.update(n)),n.material.uniforms.t2D.value=p,!0===p.matrixAutoUpdate&&p.updateMatrix(),n.material.uniforms.uvTransform.value.copy(p.matrix),c===p&&d===p.version||(n.material.needsUpdate=!0,c=p,d=p.version),t.unshift(n,n.geometry,n.material,0,0,null))}}}function On(e,t,a,i){var n;this.setMode=function(e){n=e},this.render=function(t,i){e.drawArrays(n,t,i),a.update(i,n)},this.renderInstances=function(r,o,s,c){if(0!==c){var d,b;if(i.isWebGL2)d=e,b=\"drawArraysInstanced\";else if(b=\"drawArraysInstancedANGLE\",null===(d=t.get(\"ANGLE_instanced_arrays\")))return void console.error(\"THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.\");d[b](n,o,s,c),a.update(s,n,c)}}}function In(e,t,a){var i;function n(t){if(\"highp\"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return\"highp\";t=\"mediump\"}return\"mediump\"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?\"mediump\":\"lowp\"}var r=\"undefined\"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext,o=void 0!==a.precision?a.precision:\"highp\",s=n(o);s!==o&&(console.warn(\"THREE.WebGLRenderer:\",o,\"not supported, using\",s,\"instead.\"),o=s);var c=!0===a.logarithmicDepthBuffer,d=e.getParameter(34930),b=e.getParameter(35660),f=e.getParameter(3379),h=e.getParameter(34076),l=e.getParameter(34921),u=e.getParameter(36347),p=e.getParameter(36348),m=e.getParameter(36349),g=b>0,v=r||!!t.get(\"OES_texture_float\");return{isWebGL2:r,getMaxAnisotropy:function(){if(void 0!==i)return i;var a=t.get(\"EXT_texture_filter_anisotropic\");return i=null!==a?e.getParameter(a.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:n,precision:o,logarithmicDepthBuffer:c,maxTextures:d,maxVertexTextures:b,maxTextureSize:f,maxCubemapSize:h,maxAttributes:l,maxVertexUniforms:u,maxVaryings:p,maxFragmentUniforms:m,vertexTextures:g,floatFragmentTextures:v,floatVertexTextures:g&&v,maxSamples:r?e.getParameter(36183):0}}function Dn(){var e=this,t=null,a=0,i=!1,n=!1,r=new xn,o=new Ft,s={value:null,needsUpdate:!1};function c(){s.value!==t&&(s.value=t,s.needsUpdate=a>0),e.numPlanes=a,e.numIntersection=0}function d(t,a,i,n){var c=null!==t?t.length:0,d=null;if(0!==c){if(d=s.value,!0!==n||null===d){var b=i+4*c,f=a.matrixWorldInverse;o.getNormalMatrix(f),(null===d||d.length<b)&&(d=new Float32Array(b));for(var h=0,l=i;h!==c;++h,l+=4)r.copy(t[h]).applyMatrix4(f,o),r.normal.toArray(d,l),d[l+3]=r.constant}s.value=d,s.needsUpdate=!0}return e.numPlanes=c,d}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(e,n,r){var o=0!==e.length||n||0!==a||i;return i=n,t=d(e,r,0),a=e.length,o},this.beginShadows=function(){n=!0,d(null)},this.endShadows=function(){n=!1,c()},this.setState=function(e,r,o,b,f,h){if(!i||null===e||0===e.length||n&&!o)n?d(null):c();else{var l=n?0:a,u=4*l,p=f.clippingState||null;s.value=p,p=d(e,b,u,h);for(var m=0;m!==u;++m)p[m]=t[m];f.clippingState=p,this.numIntersection=r?this.numPlanes:0,this.numPlanes+=l}}}function Nn(e){var t={};return{get:function(a){if(void 0!==t[a])return t[a];var i;switch(a){case\"WEBGL_depth_texture\":i=e.getExtension(\"WEBGL_depth_texture\")||e.getExtension(\"MOZ_WEBGL_depth_texture\")||e.getExtension(\"WEBKIT_WEBGL_depth_texture\");break;case\"EXT_texture_filter_anisotropic\":i=e.getExtension(\"EXT_texture_filter_anisotropic\")||e.getExtension(\"MOZ_EXT_texture_filter_anisotropic\")||e.getExtension(\"WEBKIT_EXT_texture_filter_anisotropic\");break;case\"WEBGL_compressed_texture_s3tc\":i=e.getExtension(\"WEBGL_compressed_texture_s3tc\")||e.getExtension(\"MOZ_WEBGL_compressed_texture_s3tc\")||e.getExtension(\"WEBKIT_WEBGL_compressed_texture_s3tc\");break;case\"WEBGL_compressed_texture_pvrtc\":i=e.getExtension(\"WEBGL_compressed_texture_pvrtc\")||e.getExtension(\"WEBKIT_WEBGL_compressed_texture_pvrtc\");break;default:i=e.getExtension(a)}return null===i&&console.warn(\"THREE.WebGLRenderer: \"+a+\" extension not supported.\"),t[a]=i,i}}}function zn(e,t,a){var i=new WeakMap,n=new WeakMap;function r(e){var o=e.target,s=i.get(o);for(var c in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[c]);o.removeEventListener(\"dispose\",r),i.delete(o);var d=n.get(s);d&&(t.remove(d),n.delete(s)),a.memory.geometries--}function o(e){var a=[],i=e.index,r=e.attributes.position,o=0;if(null!==i){var s=i.array;o=i.version;for(var c=0,d=s.length;c<d;c+=3){var b=s[c+0],f=s[c+1],h=s[c+2];a.push(b,f,f,h,h,b)}}else{s=r.array;o=r.version;for(c=0,d=s.length/3-1;c<d;c+=3){b=c+0,f=c+1,h=c+2;a.push(b,f,f,h,h,b)}}var l=new(_i(a)>65535?vi:mi)(a,1);l.version=o,t.update(l,34963);var u=n.get(e);u&&t.remove(u),n.set(e,l)}return{get:function(e,t){var n=i.get(t);return n||(t.addEventListener(\"dispose\",r),t.isBufferGeometry?n=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new Pi).setFromObject(e)),n=t._bufferGeometry),i.set(t,n),a.memory.geometries++,n)},update:function(e){var a=e.index,i=e.attributes;for(var n in null!==a&&t.update(a,34963),i)t.update(i[n],34962);var r=e.morphAttributes;for(var n in r)for(var o=r[n],s=0,c=o.length;s<c;s++)t.update(o[s],34962)},getWireframeAttribute:function(e){var t=n.get(e);if(t){var a=e.index;null!==a&&t.version<a.version&&o(e)}else o(e);return n.get(e)}}}function Un(e,t,a,i){var n,r,o;this.setMode=function(e){n=e},this.setIndex=function(e){r=e.type,o=e.bytesPerElement},this.render=function(t,i){e.drawElements(n,i,r,t*o),a.update(i,n)},this.renderInstances=function(s,c,d,b){if(0!==b){var f,h;if(i.isWebGL2)f=e,h=\"drawElementsInstanced\";else if(h=\"drawElementsInstancedANGLE\",null===(f=t.get(\"ANGLE_instanced_arrays\")))return void console.error(\"THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.\");f[h](n,d,r,c*o,b),a.update(d,n,b)}}}function Bn(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,a,i){switch(i=i||1,t.calls++,a){case 4:t.triangles+=i*(e/3);break;case 5:case 6:t.triangles+=i*(e-2);break;case 1:t.lines+=i*(e/2);break;case 3:t.lines+=i*(e-1);break;case 2:t.lines+=i*e;break;case 0:t.points+=i*e;break;default:console.error(\"THREE.WebGLInfo: Unknown draw mode:\",a)}}}}function Fn(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Gn(e){var t={},a=new Float32Array(8);return{update:function(i,n,r,o){var s=i.morphTargetInfluences,c=s.length,d=t[n.id];if(void 0===d){d=[];for(var b=0;b<c;b++)d[b]=[b,0];t[n.id]=d}var f=r.morphTargets&&n.morphAttributes.position,h=r.morphNormals&&n.morphAttributes.normal;for(b=0;b<c;b++){0!==(l=d[b])[1]&&(f&&n.removeAttribute(\"morphTarget\"+b),h&&n.removeAttribute(\"morphNormal\"+b))}for(b=0;b<c;b++){(l=d[b])[0]=b,l[1]=s[b]}for(d.sort(Fn),b=0;b<8;b++){var l;if(l=d[b]){var u=l[0],p=l[1];if(p){f&&n.addAttribute(\"morphTarget\"+b,f[u]),h&&n.addAttribute(\"morphNormal\"+b,h[u]),a[b]=p;continue}}a[b]=0}o.getUniforms().setValue(e,\"morphTargetInfluences\",a)}}}function Hn(e,t,a,i){var n={};return{update:function(e){var r=i.render.frame,o=e.geometry,s=t.get(e,o);return n[s.id]!==r&&(o.isGeometry&&s.updateFromObject(e),t.update(s),n[s.id]=r),e.isInstancedMesh&&a.update(e.instanceMatrix,34962),s},dispose:function(){n={}}}}function Vn(e,t,a,i,n,r,o,s,c,d){e=void 0!==e?e:[],t=void 0!==t?t:ne,o=void 0!==o?o:Ie,Vt.call(this,e,t,a,i,n,r,o,s,c,d),this.flipY=!1}function kn(e,t,a,i){Vt.call(this,null),this.image={data:e||null,width:t||1,height:a||1,depth:i||1},this.magFilter=ue,this.minFilter=ue,this.wrapR=he,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function jn(e,t,a,i){Vt.call(this,null),this.image={data:e||null,width:t||1,height:a||1,depth:i||1},this.magFilter=ue,this.minFilter=ue,this.wrapR=he,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}En.physical={uniforms:rn([En.standard.uniforms,{transparency:{value:0},clearcoat:{value:0},clearcoatRoughness:{value:0},sheen:{value:new ii(0)},clearcoatNormalScale:{value:new Ot(1,1)},clearcoatNormalMap:{value:null}}]),vertexShader:Sn.meshphysical_vert,fragmentShader:Sn.meshphysical_frag},Rn.prototype=Object.create(tn.prototype),Rn.prototype.constructor=Rn,Pn.prototype=Object.create(Pi.prototype),Pn.prototype.constructor=Pn,Vn.prototype=Object.create(Vt.prototype),Vn.prototype.constructor=Vn,Vn.prototype.isCubeTexture=!0,Object.defineProperty(Vn.prototype,\"images\",{get:function(){return this.image},set:function(e){this.image=e}}),kn.prototype=Object.create(Vt.prototype),kn.prototype.constructor=kn,kn.prototype.isDataTexture2DArray=!0,jn.prototype=Object.create(Vt.prototype),jn.prototype.constructor=jn,jn.prototype.isDataTexture3D=!0;var Wn=new Vt,Xn=new kn,qn=new jn,Yn=new Vn,Zn=[],Jn=[],Kn=new Float32Array(16),Qn=new Float32Array(9),$n=new Float32Array(4);function er(e,t,a){var i=e[0];if(i<=0||i>0)return e;var n=t*a,r=Zn[n];if(void 0===r&&(r=new Float32Array(n),Zn[n]=r),0!==t){i.toArray(r,0);for(var o=1,s=0;o!==t;++o)s+=a,e[o].toArray(r,s)}return r}function tr(e,t){if(e.length!==t.length)return!1;for(var a=0,i=e.length;a<i;a++)if(e[a]!==t[a])return!1;return!0}function ar(e,t){for(var a=0,i=t.length;a<i;a++)e[a]=t[a]}function ir(e,t){var a=Jn[t];void 0===a&&(a=new Int32Array(t),Jn[t]=a);for(var i=0;i!==t;++i)a[i]=e.allocateTextureUnit();return a}function nr(e,t){var a=this.cache;a[0]!==t&&(e.uniform1f(this.addr,t),a[0]=t)}function rr(e,t){var a=this.cache;if(void 0!==t.x)a[0]===t.x&&a[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),a[0]=t.x,a[1]=t.y);else{if(tr(a,t))return;e.uniform2fv(this.addr,t),ar(a,t)}}function or(e,t){var a=this.cache;if(void 0!==t.x)a[0]===t.x&&a[1]===t.y&&a[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),a[0]=t.x,a[1]=t.y,a[2]=t.z);else if(void 0!==t.r)a[0]===t.r&&a[1]===t.g&&a[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),a[0]=t.r,a[1]=t.g,a[2]=t.b);else{if(tr(a,t))return;e.uniform3fv(this.addr,t),ar(a,t)}}function sr(e,t){var a=this.cache;if(void 0!==t.x)a[0]===t.x&&a[1]===t.y&&a[2]===t.z&&a[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),a[0]=t.x,a[1]=t.y,a[2]=t.z,a[3]=t.w);else{if(tr(a,t))return;e.uniform4fv(this.addr,t),ar(a,t)}}function cr(e,t){var a=this.cache,i=t.elements;if(void 0===i){if(tr(a,t))return;e.uniformMatrix2fv(this.addr,!1,t),ar(a,t)}else{if(tr(a,i))return;$n.set(i),e.uniformMatrix2fv(this.addr,!1,$n),ar(a,i)}}function dr(e,t){var a=this.cache,i=t.elements;if(void 0===i){if(tr(a,t))return;e.uniformMatrix3fv(this.addr,!1,t),ar(a,t)}else{if(tr(a,i))return;Qn.set(i),e.uniformMatrix3fv(this.addr,!1,Qn),ar(a,i)}}function br(e,t){var a=this.cache,i=t.elements;if(void 0===i){if(tr(a,t))return;e.uniformMatrix4fv(this.addr,!1,t),ar(a,t)}else{if(tr(a,i))return;Kn.set(i),e.uniformMatrix4fv(this.addr,!1,Kn),ar(a,i)}}function fr(e,t,a){var i=this.cache,n=a.allocateTextureUnit();i[0]!==n&&(e.uniform1i(this.addr,n),i[0]=n),a.safeSetTexture2D(t||Wn,n)}function hr(e,t,a){var i=this.cache,n=a.allocateTextureUnit();i[0]!==n&&(e.uniform1i(this.addr,n),i[0]=n),a.setTexture2DArray(t||Xn,n)}function lr(e,t,a){var i=this.cache,n=a.allocateTextureUnit();i[0]!==n&&(e.uniform1i(this.addr,n),i[0]=n),a.setTexture3D(t||qn,n)}function ur(e,t,a){var i=this.cache,n=a.allocateTextureUnit();i[0]!==n&&(e.uniform1i(this.addr,n),i[0]=n),a.safeSetTextureCube(t||Yn,n)}function pr(e,t){var a=this.cache;a[0]!==t&&(e.uniform1i(this.addr,t),a[0]=t)}function mr(e,t){var a=this.cache;tr(a,t)||(e.uniform2iv(this.addr,t),ar(a,t))}function gr(e,t){var a=this.cache;tr(a,t)||(e.uniform3iv(this.addr,t),ar(a,t))}function vr(e,t){var a=this.cache;tr(a,t)||(e.uniform4iv(this.addr,t),ar(a,t))}function yr(e,t){e.uniform1fv(this.addr,t)}function xr(e,t){e.uniform1iv(this.addr,t)}function wr(e,t){e.uniform2iv(this.addr,t)}function _r(e,t){e.uniform3iv(this.addr,t)}function Mr(e,t){e.uniform4iv(this.addr,t)}function Sr(e,t){var a=er(t,this.size,2);e.uniform2fv(this.addr,a)}function Tr(e,t){var a=er(t,this.size,3);e.uniform3fv(this.addr,a)}function Er(e,t){var a=er(t,this.size,4);e.uniform4fv(this.addr,a)}function Ar(e,t){var a=er(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,a)}function Lr(e,t){var a=er(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,a)}function Rr(e,t){var a=er(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,a)}function Pr(e,t,a){var i=t.length,n=ir(a,i);e.uniform1iv(this.addr,n);for(var r=0;r!==i;++r)a.safeSetTexture2D(t[r]||Wn,n[r])}function Cr(e,t,a){var i=t.length,n=ir(a,i);e.uniform1iv(this.addr,n);for(var r=0;r!==i;++r)a.safeSetTextureCube(t[r]||Yn,n[r])}function Or(e,t,a){this.id=e,this.addr=a,this.cache=[],this.setValue=function(e){switch(e){case 5126:return nr;case 35664:return rr;case 35665:return or;case 35666:return sr;case 35674:return cr;case 35675:return dr;case 35676:return br;case 35678:case 36198:return fr;case 35679:return lr;case 35680:return ur;case 36289:return hr;case 5124:case 35670:return pr;case 35667:case 35671:return mr;case 35668:case 35672:return gr;case 35669:case 35673:return vr}}(t.type)}function Ir(e,t,a){this.id=e,this.addr=a,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return yr;case 35664:return Sr;case 35665:return Tr;case 35666:return Er;case 35674:return Ar;case 35675:return Lr;case 35676:return Rr;case 35678:return Pr;case 35680:return Cr;case 5124:case 35670:return xr;case 35667:case 35671:return wr;case 35668:case 35672:return _r;case 35669:case 35673:return Mr}}(t.type)}function Dr(e){this.id=e,this.seq=[],this.map={}}Ir.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),ar(t,e)},Dr.prototype.setValue=function(e,t,a){for(var i=this.seq,n=0,r=i.length;n!==r;++n){var o=i[n];o.setValue(e,t[o.id],a)}};var Nr=/([\\w\\d_]+)(\\])?(\\[|\\.)?/g;function zr(e,t){e.seq.push(t),e.map[t.id]=t}function Ur(e,t,a){var i=e.name,n=i.length;for(Nr.lastIndex=0;;){var r=Nr.exec(i),o=Nr.lastIndex,s=r[1],c=\"]\"===r[2],d=r[3];if(c&&(s|=0),void 0===d||\"[\"===d&&o+2===n){zr(a,void 0===d?new Or(s,e,t):new Ir(s,e,t));break}var b=a.map[s];void 0===b&&zr(a,b=new Dr(s)),a=b}}function Br(e,t){this.seq=[],this.map={};for(var a=e.getProgramParameter(t,35718),i=0;i<a;++i){var n=e.getActiveUniform(t,i);Ur(n,e.getUniformLocation(t,n.name),this)}}function Fr(e,t,a){var i=e.createShader(t);return e.shaderSource(i,a),e.compileShader(i),i}Br.prototype.setValue=function(e,t,a,i){var n=this.map[t];void 0!==n&&n.setValue(e,a,i)},Br.prototype.setOptional=function(e,t,a){var i=t[a];void 0!==i&&this.setValue(e,a,i)},Br.upload=function(e,t,a,i){for(var n=0,r=t.length;n!==r;++n){var o=t[n],s=a[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,i)}},Br.seqWithValue=function(e,t){for(var a=[],i=0,n=e.length;i!==n;++i){var r=e[i];r.id in t&&a.push(r)}return a};var Gr=0;function Hr(e){switch(e){case ut:return[\"Linear\",\"( value )\"];case pt:return[\"sRGB\",\"( value )\"];case gt:return[\"RGBE\",\"( value )\"];case yt:return[\"RGBM\",\"( value, 7.0 )\"];case xt:return[\"RGBM\",\"( value, 16.0 )\"];case wt:return[\"RGBD\",\"( value, 256.0 )\"];case mt:return[\"Gamma\",\"( value, float( GAMMA_FACTOR ) )\"];case vt:return[\"LogLuv\",\"( value )\"];default:throw new Error(\"unsupported encoding: \"+e)}}function Vr(e,t,a){var i=e.getShaderParameter(t,35713),n=e.getShaderInfoLog(t).trim();return i&&\"\"===n?\"\":\"THREE.WebGLShader: gl.getShaderInfoLog() \"+a+\"\\n\"+n+function(e){for(var t=e.split(\"\\n\"),a=0;a<t.length;a++)t[a]=a+1+\": \"+t[a];return t.join(\"\\n\")}(e.getShaderSource(t))}function kr(e,t){var a=Hr(t);return\"vec4 \"+e+\"( vec4 value ) { return \"+a[0]+\"ToLinear\"+a[1]+\"; }\"}function jr(e,t){var a;switch(t){case $:a=\"Linear\";break;case ee:a=\"Reinhard\";break;case te:a=\"Uncharted2\";break;case ae:a=\"OptimizedCineon\";break;case ie:a=\"ACESFilmic\";break;default:throw new Error(\"unsupported toneMapping: \"+t)}return\"vec3 \"+e+\"( vec3 color ) { return \"+a+\"ToneMapping( color ); }\"}function Wr(e){return\"\"!==e}function Xr(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function qr(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var Yr=/^[ \\t]*#include +<([\\w\\d./]+)>/gm;function Zr(e){return e.replace(Yr,Jr)}function Jr(e,t){var a=Sn[t];if(void 0===a)throw new Error(\"Can not resolve #include <\"+t+\">\");return Zr(a)}var Kr=/#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;function Qr(e){return e.replace(Kr,$r)}function $r(e,t,a,i){for(var n=\"\",r=parseInt(t);r<parseInt(a);r++)n+=i.replace(/\\[ i \\]/g,\"[ \"+r+\" ]\").replace(/UNROLLED_LOOP_INDEX/g,r);return n}function eo(e){var t=\"precision \"+e.precision+\" float;\\nprecision \"+e.precision+\" int;\";return\"highp\"===e.precision?t+=\"\\n#define HIGH_PRECISION\":\"mediump\"===e.precision?t+=\"\\n#define MEDIUM_PRECISION\":\"lowp\"===e.precision&&(t+=\"\\n#define LOW_PRECISION\"),t}function to(e,t,a,i,n,r){var o,s,c,d,l,u=e.getContext(),p=i.defines,m=n.vertexShader,g=n.fragmentShader,v=function(e){var t=\"SHADOWMAP_TYPE_BASIC\";return e.shadowMapType===b?t=\"SHADOWMAP_TYPE_PCF\":e.shadowMapType===f?t=\"SHADOWMAP_TYPE_PCF_SOFT\":e.shadowMapType===h&&(t=\"SHADOWMAP_TYPE_VSM\"),t}(r),y=function(e,t){var a=\"ENVMAP_TYPE_CUBE\";if(e.envMap)switch(t.envMap.mapping){case ne:case re:a=\"ENVMAP_TYPE_CUBE\";break;case de:case be:a=\"ENVMAP_TYPE_CUBE_UV\";break;case oe:case se:a=\"ENVMAP_TYPE_EQUIREC\";break;case ce:a=\"ENVMAP_TYPE_SPHERE\"}return a}(r,i),x=function(e,t){var a=\"ENVMAP_MODE_REFLECTION\";if(e.envMap)switch(t.envMap.mapping){case re:case se:a=\"ENVMAP_MODE_REFRACTION\"}return a}(r,i),w=function(e,t){var a=\"ENVMAP_BLENDING_MULTIPLY\";if(e.envMap)switch(t.combine){case Z:a=\"ENVMAP_BLENDING_MULTIPLY\";break;case J:a=\"ENVMAP_BLENDING_MIX\";break;case K:a=\"ENVMAP_BLENDING_ADD\"}return a}(r,i),_=e.gammaFactor>0?e.gammaFactor:1,M=r.isWebGL2?\"\":function(e,t,a){return[(e=e||{}).derivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading?\"#extension GL_OES_standard_derivatives : enable\":\"\",(e.fragDepth||t.logarithmicDepthBuffer)&&a.get(\"EXT_frag_depth\")?\"#extension GL_EXT_frag_depth : enable\":\"\",e.drawBuffers&&a.get(\"WEBGL_draw_buffers\")?\"#extension GL_EXT_draw_buffers : require\":\"\",(e.shaderTextureLOD||t.envMap)&&a.get(\"EXT_shader_texture_lod\")?\"#extension GL_EXT_shader_texture_lod : enable\":\"\"].filter(Wr).join(\"\\n\")}(i.extensions,r,t),S=function(e){var t=[];for(var a in e){var i=e[a];!1!==i&&t.push(\"#define \"+a+\" \"+i)}return t.join(\"\\n\")}(p),T=u.createProgram(),E=e.getRenderTarget(),A=E&&E.isWebGLMultiviewRenderTarget?E.numViews:0;if(i.isRawShaderMaterial?((o=[S].filter(Wr).join(\"\\n\")).length>0&&(o+=\"\\n\"),(s=[M,S].filter(Wr).join(\"\\n\")).length>0&&(s+=\"\\n\")):(o=[eo(r),\"#define SHADER_NAME \"+n.name,S,r.instancing?\"#define USE_INSTANCING\":\"\",r.supportsVertexTextures?\"#define VERTEX_TEXTURES\":\"\",\"#define GAMMA_FACTOR \"+_,\"#define MAX_BONES \"+r.maxBones,r.useFog&&r.fog?\"#define USE_FOG\":\"\",r.useFog&&r.fogExp2?\"#define FOG_EXP2\":\"\",r.map?\"#define USE_MAP\":\"\",r.envMap?\"#define USE_ENVMAP\":\"\",r.envMap?\"#define \"+x:\"\",r.lightMap?\"#define USE_LIGHTMAP\":\"\",r.aoMap?\"#define USE_AOMAP\":\"\",r.emissiveMap?\"#define USE_EMISSIVEMAP\":\"\",r.bumpMap?\"#define USE_BUMPMAP\":\"\",r.normalMap?\"#define USE_NORMALMAP\":\"\",r.normalMap&&r.objectSpaceNormalMap?\"#define OBJECTSPACE_NORMALMAP\":\"\",r.normalMap&&r.tangentSpaceNormalMap?\"#define TANGENTSPACE_NORMALMAP\":\"\",r.clearcoatNormalMap?\"#define USE_CLEARCOAT_NORMALMAP\":\"\",r.displacementMap&&r.supportsVertexTextures?\"#define USE_DISPLACEMENTMAP\":\"\",r.specularMap?\"#define USE_SPECULARMAP\":\"\",r.roughnessMap?\"#define USE_ROUGHNESSMAP\":\"\",r.metalnessMap?\"#define USE_METALNESSMAP\":\"\",r.alphaMap?\"#define USE_ALPHAMAP\":\"\",r.vertexTangents?\"#define USE_TANGENT\":\"\",r.vertexColors?\"#define USE_COLOR\":\"\",r.vertexUvs?\"#define USE_UV\":\"\",r.flatShading?\"#define FLAT_SHADED\":\"\",r.skinning?\"#define USE_SKINNING\":\"\",r.useVertexTexture?\"#define BONE_TEXTURE\":\"\",r.morphTargets?\"#define USE_MORPHTARGETS\":\"\",r.morphNormals&&!1===r.flatShading?\"#define USE_MORPHNORMALS\":\"\",r.doubleSided?\"#define DOUBLE_SIDED\":\"\",r.flipSided?\"#define FLIP_SIDED\":\"\",r.shadowMapEnabled?\"#define USE_SHADOWMAP\":\"\",r.shadowMapEnabled?\"#define \"+v:\"\",r.sizeAttenuation?\"#define USE_SIZEATTENUATION\":\"\",r.logarithmicDepthBuffer?\"#define USE_LOGDEPTHBUF\":\"\",r.logarithmicDepthBuffer&&(r.isWebGL2||t.get(\"EXT_frag_depth\"))?\"#define USE_LOGDEPTHBUF_EXT\":\"\",\"uniform mat4 modelMatrix;\",\"uniform mat4 modelViewMatrix;\",\"uniform mat4 projectionMatrix;\",\"uniform mat4 viewMatrix;\",\"uniform mat3 normalMatrix;\",\"uniform vec3 cameraPosition;\",\"#ifdef USE_INSTANCING\",\" attribute mat4 instanceMatrix;\",\"#endif\",\"attribute vec3 position;\",\"attribute vec3 normal;\",\"attribute vec2 uv;\",\"#ifdef USE_TANGENT\",\"\\tattribute vec4 tangent;\",\"#endif\",\"#ifdef USE_COLOR\",\"\\tattribute vec3 color;\",\"#endif\",\"#ifdef USE_MORPHTARGETS\",\"\\tattribute vec3 morphTarget0;\",\"\\tattribute vec3 morphTarget1;\",\"\\tattribute vec3 morphTarget2;\",\"\\tattribute vec3 morphTarget3;\",\"\\t#ifdef USE_MORPHNORMALS\",\"\\t\\tattribute vec3 morphNormal0;\",\"\\t\\tattribute vec3 morphNormal1;\",\"\\t\\tattribute vec3 morphNormal2;\",\"\\t\\tattribute vec3 morphNormal3;\",\"\\t#else\",\"\\t\\tattribute vec3 morphTarget4;\",\"\\t\\tattribute vec3 morphTarget5;\",\"\\t\\tattribute vec3 morphTarget6;\",\"\\t\\tattribute vec3 morphTarget7;\",\"\\t#endif\",\"#endif\",\"#ifdef USE_SKINNING\",\"\\tattribute vec4 skinIndex;\",\"\\tattribute vec4 skinWeight;\",\"#endif\",\"\\n\"].filter(Wr).join(\"\\n\"),s=[M,eo(r),\"#define SHADER_NAME \"+n.name,S,r.alphaTest?\"#define ALPHATEST \"+r.alphaTest+(r.alphaTest%1?\"\":\".0\"):\"\",\"#define GAMMA_FACTOR \"+_,r.useFog&&r.fog?\"#define USE_FOG\":\"\",r.useFog&&r.fogExp2?\"#define FOG_EXP2\":\"\",r.map?\"#define USE_MAP\":\"\",r.matcap?\"#define USE_MATCAP\":\"\",r.envMap?\"#define USE_ENVMAP\":\"\",r.envMap?\"#define \"+y:\"\",r.envMap?\"#define \"+x:\"\",r.envMap?\"#define \"+w:\"\",r.lightMap?\"#define USE_LIGHTMAP\":\"\",r.aoMap?\"#define USE_AOMAP\":\"\",r.emissiveMap?\"#define USE_EMISSIVEMAP\":\"\",r.bumpMap?\"#define USE_BUMPMAP\":\"\",r.normalMap?\"#define USE_NORMALMAP\":\"\",r.normalMap&&r.objectSpaceNormalMap?\"#define OBJECTSPACE_NORMALMAP\":\"\",r.normalMap&&r.tangentSpaceNormalMap?\"#define TANGENTSPACE_NORMALMAP\":\"\",r.clearcoatNormalMap?\"#define USE_CLEARCOAT_NORMALMAP\":\"\",r.specularMap?\"#define USE_SPECULARMAP\":\"\",r.roughnessMap?\"#define USE_ROUGHNESSMAP\":\"\",r.metalnessMap?\"#define USE_METALNESSMAP\":\"\",r.alphaMap?\"#define USE_ALPHAMAP\":\"\",r.sheen?\"#define USE_SHEEN\":\"\",r.vertexTangents?\"#define USE_TANGENT\":\"\",r.vertexColors?\"#define USE_COLOR\":\"\",r.vertexUvs?\"#define USE_UV\":\"\",r.gradientMap?\"#define USE_GRADIENTMAP\":\"\",r.flatShading?\"#define FLAT_SHADED\":\"\",r.doubleSided?\"#define DOUBLE_SIDED\":\"\",r.flipSided?\"#define FLIP_SIDED\":\"\",r.shadowMapEnabled?\"#define USE_SHADOWMAP\":\"\",r.shadowMapEnabled?\"#define \"+v:\"\",r.premultipliedAlpha?\"#define PREMULTIPLIED_ALPHA\":\"\",r.physicallyCorrectLights?\"#define PHYSICALLY_CORRECT_LIGHTS\":\"\",r.logarithmicDepthBuffer?\"#define USE_LOGDEPTHBUF\":\"\",r.logarithmicDepthBuffer&&(r.isWebGL2||t.get(\"EXT_frag_depth\"))?\"#define USE_LOGDEPTHBUF_EXT\":\"\",(i.extensions&&i.extensions.shaderTextureLOD||r.envMap)&&(r.isWebGL2||t.get(\"EXT_shader_texture_lod\"))?\"#define TEXTURE_LOD_EXT\":\"\",\"uniform mat4 viewMatrix;\",\"uniform vec3 cameraPosition;\",r.toneMapping!==Q?\"#define TONE_MAPPING\":\"\",r.toneMapping!==Q?Sn.tonemapping_pars_fragment:\"\",r.toneMapping!==Q?jr(\"toneMapping\",r.toneMapping):\"\",r.dithering?\"#define DITHERING\":\"\",r.outputEncoding||r.mapEncoding||r.matcapEncoding||r.envMapEncoding||r.emissiveMapEncoding?Sn.encodings_pars_fragment:\"\",r.mapEncoding?kr(\"mapTexelToLinear\",r.mapEncoding):\"\",r.matcapEncoding?kr(\"matcapTexelToLinear\",r.matcapEncoding):\"\",r.envMapEncoding?kr(\"envMapTexelToLinear\",r.envMapEncoding):\"\",r.emissiveMapEncoding?kr(\"emissiveMapTexelToLinear\",r.emissiveMapEncoding):\"\",r.outputEncoding?(c=\"linearToOutputTexel\",d=r.outputEncoding,l=Hr(d),\"vec4 \"+c+\"( vec4 value ) { return LinearTo\"+l[0]+l[1]+\"; }\"):\"\",r.depthPacking?\"#define DEPTH_PACKING \"+i.depthPacking:\"\",\"\\n\"].filter(Wr).join(\"\\n\")),m=qr(m=Xr(m=Zr(m),r),r),g=qr(g=Xr(g=Zr(g),r),r),m=Qr(m),g=Qr(g),r.isWebGL2&&!i.isRawShaderMaterial){var L=!1,R=/^\\s*#version\\s+300\\s+es\\s*\\n/;i.isShaderMaterial&&null!==m.match(R)&&null!==g.match(R)&&(L=!0,m=m.replace(R,\"\"),g=g.replace(R,\"\")),o=[\"#version 300 es\\n\",\"#define attribute in\",\"#define varying out\",\"#define texture2D texture\"].join(\"\\n\")+\"\\n\"+o,s=[\"#version 300 es\\n\",\"#define varying in\",L?\"\":\"out highp vec4 pc_fragColor;\",L?\"\":\"#define gl_FragColor pc_fragColor\",\"#define gl_FragDepthEXT gl_FragDepth\",\"#define texture2D texture\",\"#define textureCube texture\",\"#define texture2DProj textureProj\",\"#define texture2DLodEXT textureLod\",\"#define texture2DProjLodEXT textureProjLod\",\"#define textureCubeLodEXT textureLod\",\"#define texture2DGradEXT textureGrad\",\"#define texture2DProjGradEXT textureProjGrad\",\"#define textureCubeGradEXT textureGrad\"].join(\"\\n\")+\"\\n\"+s,A>0&&(o=(o=o.replace(\"#version 300 es\\n\",[\"#version 300 es\\n\",\"#extension GL_OVR_multiview2 : require\",\"layout(num_views = \"+A+\") in;\",\"#define VIEW_ID gl_ViewID_OVR\"].join(\"\\n\"))).replace([\"uniform mat4 modelViewMatrix;\",\"uniform mat4 projectionMatrix;\",\"uniform mat4 viewMatrix;\",\"uniform mat3 normalMatrix;\"].join(\"\\n\"),[\"uniform mat4 modelViewMatrices[\"+A+\"];\",\"uniform mat4 projectionMatrices[\"+A+\"];\",\"uniform mat4 viewMatrices[\"+A+\"];\",\"uniform mat3 normalMatrices[\"+A+\"];\",\"#define modelViewMatrix modelViewMatrices[VIEW_ID]\",\"#define projectionMatrix projectionMatrices[VIEW_ID]\",\"#define viewMatrix viewMatrices[VIEW_ID]\",\"#define normalMatrix normalMatrices[VIEW_ID]\"].join(\"\\n\")),s=(s=s.replace(\"#version 300 es\\n\",[\"#version 300 es\\n\",\"#extension GL_OVR_multiview2 : require\",\"#define VIEW_ID gl_ViewID_OVR\"].join(\"\\n\"))).replace(\"uniform mat4 viewMatrix;\",[\"uniform mat4 viewMatrices[\"+A+\"];\",\"#define viewMatrix viewMatrices[VIEW_ID]\"].join(\"\\n\")))}var P,C,O=s+g,I=Fr(u,35633,o+m),D=Fr(u,35632,O);if(u.attachShader(T,I),u.attachShader(T,D),void 0!==i.index0AttributeName?u.bindAttribLocation(T,0,i.index0AttributeName):!0===r.morphTargets&&u.bindAttribLocation(T,0,\"position\"),u.linkProgram(T),e.debug.checkShaderErrors){var N=u.getProgramInfoLog(T).trim(),z=u.getShaderInfoLog(I).trim(),U=u.getShaderInfoLog(D).trim(),B=!0,F=!0;if(!1===u.getProgramParameter(T,35714)){B=!1;var G=Vr(u,I,\"vertex\"),H=Vr(u,D,\"fragment\");console.error(\"THREE.WebGLProgram: shader error: \",u.getError(),\"35715\",u.getProgramParameter(T,35715),\"gl.getProgramInfoLog\",N,G,H)}else\"\"!==N?console.warn(\"THREE.WebGLProgram: gl.getProgramInfoLog()\",N):\"\"!==z&&\"\"!==U||(F=!1);F&&(this.diagnostics={runnable:B,material:i,programLog:N,vertexShader:{log:z,prefix:o},fragmentShader:{log:U,prefix:s}})}return u.deleteShader(I),u.deleteShader(D),this.getUniforms=function(){return void 0===P&&(P=new Br(u,T)),P},this.getAttributes=function(){return void 0===C&&(C=function(e,t){for(var a={},i=e.getProgramParameter(t,35721),n=0;n<i;n++){var r=e.getActiveAttrib(t,n).name;a[r]=e.getAttribLocation(t,r)}return a}(u,T)),C},this.destroy=function(){u.deleteProgram(T),this.program=void 0},this.name=n.name,this.id=Gr++,this.code=a,this.usedTimes=1,this.program=T,this.vertexShader=I,this.fragmentShader=D,this.numMultiviewViews=A,this}function ao(e,t,a){var i=[],n={MeshDepthMaterial:\"depth\",MeshDistanceMaterial:\"distanceRGBA\",MeshNormalMaterial:\"normal\",MeshBasicMaterial:\"basic\",MeshLambertMaterial:\"lambert\",MeshPhongMaterial:\"phong\",MeshToonMaterial:\"phong\",MeshStandardMaterial:\"physical\",MeshPhysicalMaterial:\"physical\",MeshMatcapMaterial:\"matcap\",LineBasicMaterial:\"basic\",LineDashedMaterial:\"dashed\",PointsMaterial:\"points\",ShadowMaterial:\"shadow\",SpriteMaterial:\"sprite\"},r=[\"precision\",\"supportsVertexTextures\",\"instancing\",\"map\",\"mapEncoding\",\"matcap\",\"matcapEncoding\",\"envMap\",\"envMapMode\",\"envMapEncoding\",\"lightMap\",\"aoMap\",\"emissiveMap\",\"emissiveMapEncoding\",\"bumpMap\",\"normalMap\",\"objectSpaceNormalMap\",\"tangentSpaceNormalMap\",\"clearcoatNormalMap\",\"displacementMap\",\"specularMap\",\"roughnessMap\",\"metalnessMap\",\"gradientMap\",\"alphaMap\",\"combine\",\"vertexColors\",\"vertexTangents\",\"fog\",\"useFog\",\"fogExp2\",\"flatShading\",\"sizeAttenuation\",\"logarithmicDepthBuffer\",\"skinning\",\"maxBones\",\"useVertexTexture\",\"morphTargets\",\"morphNormals\",\"maxMorphTargets\",\"maxMorphNormals\",\"premultipliedAlpha\",\"numDirLights\",\"numPointLights\",\"numSpotLights\",\"numHemiLights\",\"numRectAreaLights\",\"shadowMapEnabled\",\"shadowMapType\",\"toneMapping\",\"physicallyCorrectLights\",\"alphaTest\",\"doubleSided\",\"flipSided\",\"numClippingPlanes\",\"numClipIntersection\",\"depthPacking\",\"dithering\",\"sheen\"];function o(e,t){var a;return e?e.isTexture?a=e.encoding:e.isWebGLRenderTarget&&(console.warn(\"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\"),a=e.texture.encoding):a=ut,a===ut&&t&&(a=mt),a}this.getParameters=function(t,i,r,s,c,d,b){var f=n[t.type],h=b.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(a.floatVertexTextures)return 1024;var i=a.maxVertexUniforms,n=Math.floor((i-20)/4),r=Math.min(n,t.length);return r<t.length?(console.warn(\"THREE.WebGLRenderer: Skeleton has \"+t.length+\" bones. This GPU supports \"+r+\".\"),0):r}(b):0,l=a.precision;null!==t.precision&&(l=a.getMaxPrecision(t.precision))!==t.precision&&console.warn(\"THREE.WebGLProgram.getParameters:\",t.precision,\"not supported, using\",l,\"instead.\");var m=e.getRenderTarget();return{isWebGL2:a.isWebGL2,shaderID:f,precision:l,instancing:!0===b.isInstancedMesh,supportsVertexTextures:a.vertexTextures,outputEncoding:o(m?m.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:o(t.map,e.gammaInput),matcap:!!t.matcap,matcapEncoding:o(t.matcap,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:o(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(t.envMap.mapping===de||t.envMap.mapping===be),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:o(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,objectSpaceNormalMap:t.normalMapType===Tt,tangentSpaceNormalMap:t.normalMapType===St,clearcoatNormalMap:!!t.clearcoatNormalMap,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,sheen:!!t.sheen,combine:t.combine,vertexTangents:t.normalMap&&t.vertexTangents,vertexColors:t.vertexColors,vertexUvs:!!(t.map||t.bumpMap||t.normalMap||t.specularMap||t.alphaMap||t.emissiveMap||t.roughnessMap||t.metalnessMap||t.clearcoatNormalMap),fog:!!s,useFog:t.fog,fogExp2:s&&s.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:a.logarithmicDepthBuffer,skinning:t.skinning&&h>0,maxBones:h,useVertexTexture:a.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:i.directional.length,numPointLights:i.point.length,numSpotLights:i.spot.length,numRectAreaLights:i.rectArea.length,numHemiLights:i.hemi.length,numDirLightShadows:i.directionalShadowMap.length,numPointLightShadows:i.pointShadowMap.length,numSpotLightShadows:i.spotShadowMap.length,numClippingPlanes:c,numClipIntersection:d,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&r.length>0,shadowMapType:e.shadowMap.type,toneMapping:t.toneMapped?e.toneMapping:Q,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:t.side===p,flipSided:t.side===u,depthPacking:void 0!==t.depthPacking&&t.depthPacking}},this.getProgramCode=function(t,a){var i=[];if(a.shaderID?i.push(a.shaderID):(i.push(t.fragmentShader),i.push(t.vertexShader)),void 0!==t.defines)for(var n in t.defines)i.push(n),i.push(t.defines[n]);for(var o=0;o<r.length;o++)i.push(a[r[o]]);return i.push(t.onBeforeCompile.toString()),i.push(e.gammaOutput),i.push(e.gammaFactor),i.join()},this.acquireProgram=function(a,n,r,o){for(var s,c=0,d=i.length;c<d;c++){var b=i[c];if(b.code===o){++(s=b).usedTimes;break}}return void 0===s&&(s=new to(e,t,o,a,n,r),i.push(s)),s},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=i.indexOf(e);i[t]=i[i.length-1],i.pop(),e.destroy()}},this.programs=i}function io(){var e=new WeakMap;return{get:function(t){var a=e.get(t);return void 0===a&&(a={},e.set(t,a)),a},remove:function(t){e.delete(t)},update:function(t,a,i){e.get(t)[a]=i},dispose:function(){e=new WeakMap}}}function no(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function ro(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function oo(){var e=[],t=0,a=[],i=[],n={id:-1};function r(a,i,r,o,s,c){var d=e[t];return void 0===d?(d={id:a.id,object:a,geometry:i,material:r,program:r.program||n,groupOrder:o,renderOrder:a.renderOrder,z:s,group:c},e[t]=d):(d.id=a.id,d.object=a,d.geometry=i,d.material=r,d.program=r.program||n,d.groupOrder=o,d.renderOrder=a.renderOrder,d.z=s,d.group=c),t++,d}return{opaque:a,transparent:i,init:function(){t=0,a.length=0,i.length=0},push:function(e,t,n,o,s,c){var d=r(e,t,n,o,s,c);(!0===n.transparent?i:a).push(d)},unshift:function(e,t,n,o,s,c){var d=r(e,t,n,o,s,c);(!0===n.transparent?i:a).unshift(d)},sort:function(){a.length>1&&a.sort(no),i.length>1&&i.sort(ro)}}}function so(){var e=new WeakMap;function t(a){var i=a.target;i.removeEventListener(\"dispose\",t),e.delete(i)}return{get:function(a,i){var n,r=e.get(a);return void 0===r?(n=new oo,e.set(a,new WeakMap),e.get(a).set(i,n),a.addEventListener(\"dispose\",t)):void 0===(n=r.get(i))&&(n=new oo,r.set(i,n)),n},dispose:function(){e=new WeakMap}}}function co(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var a;switch(t.type){case\"DirectionalLight\":a={direction:new zt,color:new ii,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Ot};break;case\"SpotLight\":a={position:new zt,direction:new zt,color:new ii,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Ot};break;case\"PointLight\":a={position:new zt,color:new ii,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Ot,shadowCameraNear:1,shadowCameraFar:1e3};break;case\"HemisphereLight\":a={direction:new zt,skyColor:new ii,groundColor:new ii};break;case\"RectAreaLight\":a={color:new ii,position:new zt,halfWidth:new zt,halfHeight:new zt}}return e[t.id]=a,a}}}var bo=0;function fo(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function ho(){for(var e=new co,t={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},a=0;a<9;a++)t.probe.push(new zt);var i=new zt,n=new $t,r=new $t;return{setup:function(a,o,s){for(var c=0,d=0,b=0,f=0;f<9;f++)t.probe[f].set(0,0,0);var h=0,l=0,u=0,p=0,m=0,g=0,v=0,y=0,x=s.matrixWorldInverse;a.sort(fo),f=0;for(var w=a.length;f<w;f++){var _=a[f],M=_.color,S=_.intensity,T=_.distance,E=_.shadow&&_.shadow.map?_.shadow.map.texture:null;if(_.isAmbientLight)c+=M.r*S,d+=M.g*S,b+=M.b*S;else if(_.isLightProbe)for(var A=0;A<9;A++)t.probe[A].addScaledVector(_.sh.coefficients[A],S);else if(_.isDirectionalLight){if((R=e.get(_)).color.copy(_.color).multiplyScalar(_.intensity),R.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),R.direction.sub(i),R.direction.transformDirection(x),R.shadow=_.castShadow,_.castShadow){var L=_.shadow;R.shadowBias=L.bias,R.shadowRadius=L.radius,R.shadowMapSize=L.mapSize,t.directionalShadowMap[h]=E,t.directionalShadowMatrix[h]=_.shadow.matrix,g++}t.directional[h]=R,h++}else if(_.isSpotLight){if((R=e.get(_)).position.setFromMatrixPosition(_.matrixWorld),R.position.applyMatrix4(x),R.color.copy(M).multiplyScalar(S),R.distance=T,R.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),R.direction.sub(i),R.direction.transformDirection(x),R.coneCos=Math.cos(_.angle),R.penumbraCos=Math.cos(_.angle*(1-_.penumbra)),R.decay=_.decay,R.shadow=_.castShadow,_.castShadow){L=_.shadow;R.shadowBias=L.bias,R.shadowRadius=L.radius,R.shadowMapSize=L.mapSize,t.spotShadowMap[u]=E,t.spotShadowMatrix[u]=_.shadow.matrix,y++}t.spot[u]=R,u++}else if(_.isRectAreaLight){(R=e.get(_)).color.copy(M).multiplyScalar(S),R.position.setFromMatrixPosition(_.matrixWorld),R.position.applyMatrix4(x),r.identity(),n.copy(_.matrixWorld),n.premultiply(x),r.extractRotation(n),R.halfWidth.set(.5*_.width,0,0),R.halfHeight.set(0,.5*_.height,0),R.halfWidth.applyMatrix4(r),R.halfHeight.applyMatrix4(r),t.rectArea[p]=R,p++}else if(_.isPointLight){if((R=e.get(_)).position.setFromMatrixPosition(_.matrixWorld),R.position.applyMatrix4(x),R.color.copy(_.color).multiplyScalar(_.intensity),R.distance=_.distance,R.decay=_.decay,R.shadow=_.castShadow,_.castShadow){L=_.shadow;R.shadowBias=L.bias,R.shadowRadius=L.radius,R.shadowMapSize=L.mapSize,R.shadowCameraNear=L.camera.near,R.shadowCameraFar=L.camera.far,t.pointShadowMap[l]=E,t.pointShadowMatrix[l]=_.shadow.matrix,v++}t.point[l]=R,l++}else if(_.isHemisphereLight){var R;(R=e.get(_)).direction.setFromMatrixPosition(_.matrixWorld),R.direction.transformDirection(x),R.direction.normalize(),R.skyColor.copy(_.color).multiplyScalar(S),R.groundColor.copy(_.groundColor).multiplyScalar(S),t.hemi[m]=R,m++}}t.ambient[0]=c,t.ambient[1]=d,t.ambient[2]=b;var P=t.hash;P.directionalLength===h&&P.pointLength===l&&P.spotLength===u&&P.rectAreaLength===p&&P.hemiLength===m&&P.numDirectionalShadows===g&&P.numPointShadows===v&&P.numSpotShadows===y||(t.directional.length=h,t.spot.length=u,t.rectArea.length=p,t.point.length=l,t.hemi.length=m,t.directionalShadowMap.length=g,t.pointShadowMap.length=v,t.spotShadowMap.length=y,t.directionalShadowMatrix.length=g,t.pointShadowMatrix.length=v,t.spotShadowMatrix.length=y,P.directionalLength=h,P.pointLength=l,P.spotLength=u,P.rectAreaLength=p,P.hemiLength=m,P.numDirectionalShadows=g,P.numPointShadows=v,P.numSpotShadows=y,t.version=bo++)},state:t}}function lo(){var e=new ho,t=[],a=[];return{init:function(){t.length=0,a.length=0},state:{lightsArray:t,shadowsArray:a,lights:e},setupLights:function(i){e.setup(t,a,i)},pushLight:function(e){t.push(e)},pushShadow:function(e){a.push(e)}}}function uo(){var e=new WeakMap;function t(a){var i=a.target;i.removeEventListener(\"dispose\",t),e.delete(i)}return{get:function(a,i){var n;return!1===e.has(a)?(n=new lo,e.set(a,new WeakMap),e.get(a).set(i,n),a.addEventListener(\"dispose\",t)):!1===e.get(a).has(i)?(n=new lo,e.get(a).set(i,n)):n=e.get(a).get(i),n},dispose:function(){e=new WeakMap}}}function po(e){di.call(this),this.type=\"MeshDepthMaterial\",this.depthPacking=_t,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}function mo(e){di.call(this),this.type=\"MeshDistanceMaterial\",this.referencePosition=new zt,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}po.prototype=Object.create(di.prototype),po.prototype.constructor=po,po.prototype.isMeshDepthMaterial=!0,po.prototype.copy=function(e){return di.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},mo.prototype=Object.create(di.prototype),mo.prototype.constructor=mo,mo.prototype.isMeshDistanceMaterial=!0,mo.prototype.copy=function(e){return di.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};var go=\"uniform sampler2D shadow_pass;\\nuniform vec2 resolution;\\nuniform float radius;\\n#include <packing>\\nvoid main() {\\n  float mean = 0.0;\\n  float squared_mean = 0.0;\\n  \\n\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\\n    #ifdef HORIZONAL_PASS\\n      vec2 distribution = decodeHalfRGBA ( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\\n      mean += distribution.x;\\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\\n    #else\\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\\n      mean += depth;\\n      squared_mean += depth * depth;\\n    #endif\\n  }\\n  mean = mean * HALF_SAMPLE_RATE;\\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\\n  float std_dev = pow( squared_mean - mean * mean, 0.5 );\\n  gl_FragColor = encodeHalfRGBA( vec2( mean, std_dev ) );\\n}\",vo=\"void main() {\\n\\tgl_Position = vec4( position, 1.0 );\\n}\";function yo(e,t,a){var i=new Mn,n=new Ot,r=new Ot,o=new kt,s=1,c=2,d=1+(s|c),f=new Array(d),m=new Array(d),g={},v={0:u,1:l,2:p},x=new dn({defines:{SAMPLE_RATE:.25,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ot},radius:{value:4}},vertexShader:vo,fragmentShader:go}),w=x.clone();w.defines.HORIZONAL_PASS=1;var _=new Pi;_.addAttribute(\"position\",new fi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));for(var M=new Yi(_,x),S=0;S!==d;++S){var T=0!=(S&s),E=0!=(S&c),A=new po({depthPacking:Mt,morphTargets:T,skinning:E});f[S]=A;var L=new mo({morphTargets:T,skinning:E});m[S]=L}var R=this;function P(a,i){var n=t.update(M);x.uniforms.shadow_pass.value=a.map.texture,x.uniforms.resolution.value=a.mapSize,x.uniforms.radius.value=a.radius,e.setRenderTarget(a.mapPass),e.clear(),e.renderBufferDirect(i,null,n,x,M,null),w.uniforms.shadow_pass.value=a.mapPass.texture,w.uniforms.resolution.value=a.mapSize,w.uniforms.radius.value=a.radius,e.setRenderTarget(a.map),e.clear(),e.renderBufferDirect(i,null,n,w,M,null)}function C(t,a,i,n,r,o){var d=t.geometry,b=null,l=f,u=t.customDepthMaterial;if(i.isPointLight&&(l=m,u=t.customDistanceMaterial),u)b=u;else{var p=!1;a.morphTargets&&(d&&d.isBufferGeometry?p=d.morphAttributes&&d.morphAttributes.position&&d.morphAttributes.position.length>0:d&&d.isGeometry&&(p=d.morphTargets&&d.morphTargets.length>0)),t.isSkinnedMesh&&!1===a.skinning&&console.warn(\"THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:\",t);var y=t.isSkinnedMesh&&a.skinning,x=0;p&&(x|=s),y&&(x|=c),b=l[x]}if(e.localClippingEnabled&&!0===a.clipShadows&&0!==a.clippingPlanes.length){var w=b.uuid,_=a.uuid,M=g[w];void 0===M&&(M={},g[w]=M);var S=M[_];void 0===S&&(S=b.clone(),M[_]=S),b=S}return b.visible=a.visible,b.wireframe=a.wireframe,b.side=o===h?null!=a.shadowSide?a.shadowSide:a.side:null!=a.shadowSide?a.shadowSide:v[a.side],b.clipShadows=a.clipShadows,b.clippingPlanes=a.clippingPlanes,b.clipIntersection=a.clipIntersection,b.wireframeLinewidth=a.wireframeLinewidth,b.linewidth=a.linewidth,i.isPointLight&&b.isMeshDistanceMaterial&&(b.referencePosition.setFromMatrixPosition(i.matrixWorld),b.nearDistance=n,b.farDistance=r),b}function O(a,n,r,o,s){if(!1!==a.visible){if(a.layers.test(n.layers)&&(a.isMesh||a.isLine||a.isPoints)&&(a.castShadow||a.receiveShadow&&s===h)&&(!a.frustumCulled||i.intersectsObject(a))){a.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,a.matrixWorld);var c=t.update(a),d=a.material;if(Array.isArray(d))for(var b=c.groups,f=0,l=b.length;f<l;f++){var u=b[f],p=d[u.materialIndex];if(p&&p.visible){var m=C(a,p,o,r.near,r.far,s);e.renderBufferDirect(r,null,c,m,a,u)}}else if(d.visible){m=C(a,d,o,r.near,r.far,s);e.renderBufferDirect(r,null,c,m,a,null)}}for(var g=a.children,v=0,y=g.length;v<y;v++)O(g[v],n,r,o,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=b,this.render=function(t,s,c){if(!1!==R.enabled&&(!1!==R.autoUpdate||!1!==R.needsUpdate)&&0!==t.length){var d=e.getRenderTarget(),b=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),l=e.state;l.setBlending(y),l.buffers.color.setClear(1,1,1,1),l.buffers.depth.setTest(!0),l.setScissorTest(!1);for(var u=0,p=t.length;u<p;u++){var m=t[u],g=m.shadow;if(void 0!==g){n.copy(g.mapSize);var v=g.getFrameExtents();if(n.multiply(v),r.copy(g.mapSize),(n.x>a||n.y>a)&&(console.warn(\"THREE.WebGLShadowMap:\",m,\"has shadow exceeding max texture size, reducing\"),n.x>a&&(r.x=Math.floor(a/v.x),n.x=r.x*v.x,g.mapSize.x=r.x),n.y>a&&(r.y=Math.floor(a/v.y),n.y=r.y*v.y,g.mapSize.y=r.y)),null===g.map&&!g.isPointLightShadow&&this.type===h){var x={minFilter:ge,magFilter:ge,format:De};g.map=new jt(n.x,n.y,x),g.map.texture.name=m.name+\".shadowMap\",g.mapPass=new jt(n.x,n.y,x),g.camera.updateProjectionMatrix()}if(null===g.map){x={minFilter:ue,magFilter:ue,format:De};g.map=new jt(n.x,n.y,x),g.map.texture.name=m.name+\".shadowMap\",g.camera.updateProjectionMatrix()}e.setRenderTarget(g.map),e.clear();for(var w=g.getViewportCount(),_=0;_<w;_++){var M=g.getViewport(_);o.set(r.x*M.x,r.y*M.y,r.x*M.z,r.y*M.w),l.viewport(o),g.updateMatrices(m,c,_),i=g.getFrustum(),O(s,c,g.camera,m,this.type)}g.isPointLightShadow||this.type!==h||P(g,c)}else console.warn(\"THREE.WebGLShadowMap:\",m,\"has no shadow.\")}R.needsUpdate=!1,e.setRenderTarget(d,b,f)}}}function xo(e,t,a,i){var n=new function(){var t=!1,a=new kt,i=null,n=new kt(0,0,0,0);return{setMask:function(a){i===a||t||(e.colorMask(a,a,a,a),i=a)},setLocked:function(e){t=e},setClear:function(t,i,r,o,s){!0===s&&(t*=o,i*=o,r*=o),a.set(t,i,r,o),!1===n.equals(a)&&(e.clearColor(t,i,r,o),n.copy(a))},reset:function(){t=!1,i=null,n.set(-1,0,0,0)}}},r=new function(){var t=!1,a=null,i=null,n=null;return{setTest:function(e){e?re(2929):oe(2929)},setMask:function(i){a===i||t||(e.depthMask(i),a=i)},setFunc:function(t){if(i!==t){if(t)switch(t){case H:e.depthFunc(512);break;case V:e.depthFunc(519);break;case k:e.depthFunc(513);break;case j:e.depthFunc(515);break;case W:e.depthFunc(514);break;case X:e.depthFunc(518);break;case q:e.depthFunc(516);break;case Y:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);i=t}},setLocked:function(e){t=e},setClear:function(t){n!==t&&(e.clearDepth(t),n=t)},reset:function(){t=!1,a=null,i=null,n=null}}},o=new function(){var t=!1,a=null,i=null,n=null,r=null,o=null,s=null,c=null,d=null;return{setTest:function(e){t||(e?re(2960):oe(2960))},setMask:function(i){a===i||t||(e.stencilMask(i),a=i)},setFunc:function(t,a,o){i===t&&n===a&&r===o||(e.stencilFunc(t,a,o),i=t,n=a,r=o)},setOp:function(t,a,i){o===t&&s===a&&c===i||(e.stencilOp(t,a,i),o=t,s=a,c=i)},setLocked:function(e){t=e},setClear:function(t){d!==t&&(e.clearStencil(t),d=t)},reset:function(){t=!1,a=null,i=null,n=null,r=null,o=null,s=null,c=null,d=null}}},b=e.getParameter(34921),f=new Uint8Array(b),h=new Uint8Array(b),l=new Uint8Array(b),m={},g=null,v=null,E=null,A=null,L=null,R=null,P=null,C=null,O=null,I=null,D=!1,N=null,z=null,U=null,B=null,F=null,G=e.getParameter(35661),Z=!1,J=0,K=e.getParameter(7938);-1!==K.indexOf(\"WebGL\")?(J=parseFloat(/^WebGL\\ ([0-9])/.exec(K)[1]),Z=J>=1):-1!==K.indexOf(\"OpenGL ES\")&&(J=parseFloat(/^OpenGL\\ ES\\ ([0-9])/.exec(K)[1]),Z=J>=2);var Q=null,$={},ee=new kt,te=new kt;function ae(t,a,i){var n=new Uint8Array(4),r=e.createTexture();e.bindTexture(t,r),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<i;o++)e.texImage2D(a+o,0,6408,1,1,0,6408,5121,n);return r}var ie={};function ne(a,n){(f[a]=1,0===h[a]&&(e.enableVertexAttribArray(a),h[a]=1),l[a]!==n)&&((i.isWebGL2?e:t.get(\"ANGLE_instanced_arrays\"))[i.isWebGL2?\"vertexAttribDivisor\":\"vertexAttribDivisorANGLE\"](a,n),l[a]=n)}function re(t){!0!==m[t]&&(e.enable(t),m[t]=!0)}function oe(t){!1!==m[t]&&(e.disable(t),m[t]=!1)}function se(t,i,n,r,o,s,c,d){if(t!==y){if(E||(re(3042),E=!0),t===S)o=o||i,s=s||n,c=c||r,i===L&&o===C||(e.blendEquationSeparate(a.convert(i),a.convert(o)),L=i,C=o),n===R&&r===P&&s===O&&c===I||(e.blendFuncSeparate(a.convert(n),a.convert(r),a.convert(s),a.convert(c)),R=n,P=r,O=s,I=c),A=t,D=null;else if(t!==A||d!==D){if(L===T&&C===T||(e.blendEquation(32774),L=T,C=T),d)switch(t){case x:e.blendFuncSeparate(1,771,1,771);break;case w:e.blendFunc(1,1);break;case _:e.blendFuncSeparate(0,0,769,771);break;case M:e.blendFuncSeparate(0,768,0,770);break;default:console.error(\"THREE.WebGLState: Invalid blending: \",t)}else switch(t){case x:e.blendFuncSeparate(770,771,1,771);break;case w:e.blendFunc(770,1);break;case _:e.blendFunc(0,769);break;case M:e.blendFunc(0,768);break;default:console.error(\"THREE.WebGLState: Invalid blending: \",t)}R=null,P=null,O=null,I=null,A=t,D=d}}else E&&(oe(3042),E=!1)}function ce(t){N!==t&&(t?e.frontFace(2304):e.frontFace(2305),N=t)}function de(t){t!==s?(re(2884),t!==z&&(t===c?e.cullFace(1029):t===d?e.cullFace(1028):e.cullFace(1032))):oe(2884),z=t}function be(t,a,i){t?(re(32823),B===a&&F===i||(e.polygonOffset(a,i),B=a,F=i)):oe(32823)}function fe(t){void 0===t&&(t=33984+G-1),Q!==t&&(e.activeTexture(t),Q=t)}return ie[3553]=ae(3553,3553,1),ie[34067]=ae(34067,34069,6),n.setClear(0,0,0,1),r.setClear(1),o.setClear(0),re(2929),r.setFunc(j),ce(!1),de(c),re(2884),se(y),{buffers:{color:n,depth:r,stencil:o},initAttributes:function(){for(var e=0,t=f.length;e<t;e++)f[e]=0},enableAttribute:function(e){ne(e,0)},enableAttributeAndDivisor:ne,disableUnusedAttributes:function(){for(var t=0,a=h.length;t!==a;++t)h[t]!==f[t]&&(e.disableVertexAttribArray(t),h[t]=0)},enable:re,disable:oe,getCompressedTextureFormats:function(){if(null===g&&(g=[],t.get(\"WEBGL_compressed_texture_pvrtc\")||t.get(\"WEBGL_compressed_texture_s3tc\")||t.get(\"WEBGL_compressed_texture_etc1\")||t.get(\"WEBGL_compressed_texture_astc\")))for(var a=e.getParameter(34467),i=0;i<a.length;i++)g.push(a[i]);return g},useProgram:function(t){return v!==t&&(e.useProgram(t),v=t,!0)},setBlending:se,setMaterial:function(e,t){e.side===p?oe(2884):re(2884);var a=e.side===u;t&&(a=!a),ce(a),e.blending===x&&!1===e.transparent?se(y):se(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),r.setFunc(e.depthFunc),r.setTest(e.depthTest),r.setMask(e.depthWrite),n.setMask(e.colorWrite);var i=e.stencilWrite;o.setTest(i),i&&(o.setMask(e.stencilWriteMask),o.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),o.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),be(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:ce,setCullFace:de,setLineWidth:function(t){t!==U&&(Z&&e.lineWidth(t),U=t)},setPolygonOffset:be,setScissorTest:function(e){e?re(3089):oe(3089)},activeTexture:fe,bindTexture:function(t,a){null===Q&&fe();var i=$[Q];void 0===i&&(i={type:void 0,texture:void 0},$[Q]=i),i.type===t&&i.texture===a||(e.bindTexture(t,a||ie[t]),i.type=t,i.texture=a)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error(\"THREE.WebGLState:\",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error(\"THREE.WebGLState:\",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error(\"THREE.WebGLState:\",e)}},scissor:function(t){!1===ee.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),ee.copy(t))},viewport:function(t){!1===te.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),te.copy(t))},reset:function(){for(var t=0;t<h.length;t++)1===h[t]&&(e.disableVertexAttribArray(t),h[t]=0);m={},g=null,Q=null,$={},v=null,A=null,N=null,z=null,n.reset(),r.reset(),o.reset()}}}function wo(e,t,a,i,n,r,o){var s,c=new WeakMap,d=\"undefined\"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext(\"2d\");function b(e,t){return d?new OffscreenCanvas(e,t):document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"canvas\")}function f(e,t,a,i){var n=1;if((e.width>i||e.height>i)&&(n=i/Math.max(e.width,e.height)),n<1||!0===t){if(\"undefined\"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||\"undefined\"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||\"undefined\"!=typeof ImageBitmap&&e instanceof ImageBitmap){var r=t?Ct.floorPowerOfTwo:Math.floor,o=r(n*e.width),c=r(n*e.height);void 0===s&&(s=b(o,c));var d=a?b(o,c):s;return d.width=o,d.height=c,d.getContext(\"2d\").drawImage(e,0,0,o,c),console.warn(\"THREE.WebGLRenderer: Texture has been resized from (\"+e.width+\"x\"+e.height+\") to (\"+o+\"x\"+c+\").\"),d}return\"data\"in e&&console.warn(\"THREE.WebGLRenderer: Image in DataTexture is too big (\"+e.width+\"x\"+e.height+\").\"),e}return e}function h(e){return Ct.isPowerOfTwo(e.width)&&Ct.isPowerOfTwo(e.height)}function l(e,t){return e.generateMipmaps&&t&&e.minFilter!==ue&&e.minFilter!==ge}function u(t,a,n,r){e.generateMipmap(t),i.get(a).__maxMipLevel=Math.log(Math.max(n,r))*Math.LOG2E}function p(e,a){if(!n.isWebGL2)return e;var i=e;return 6403===e&&(5126===a&&(i=33326),5131===a&&(i=33325),5121===a&&(i=33321)),6407===e&&(5126===a&&(i=34837),5131===a&&(i=34843),5121===a&&(i=32849)),6408===e&&(5126===a&&(i=34836),5131===a&&(i=34842),5121===a&&(i=32856)),33325===i||33326===i||34842===i||34836===i?t.get(\"EXT_color_buffer_float\"):34843!==i&&34837!==i||console.warn(\"THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead.\"),i}function m(e){return e===ue||e===pe||e===me?9728:9729}function g(t){var a=t.target;a.removeEventListener(\"dispose\",g),function(t){var a=i.get(t);if(void 0===a.__webglInit)return;e.deleteTexture(a.__webglTexture),i.remove(t)}(a),a.isVideoTexture&&c.delete(a),o.memory.textures--}function v(t){var a=t.target;a.removeEventListener(\"dispose\",v),function(t){var a=i.get(t),n=i.get(t.texture);if(!t)return;void 0!==n.__webglTexture&&e.deleteTexture(n.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLRenderTargetCube)for(var r=0;r<6;r++)e.deleteFramebuffer(a.__webglFramebuffer[r]),a.__webglDepthbuffer&&e.deleteRenderbuffer(a.__webglDepthbuffer[r]);else e.deleteFramebuffer(a.__webglFramebuffer),a.__webglDepthbuffer&&e.deleteRenderbuffer(a.__webglDepthbuffer);if(t.isWebGLMultiviewRenderTarget){e.deleteTexture(a.__webglColorTexture),e.deleteTexture(a.__webglDepthStencilTexture),o.memory.textures-=2;r=0;for(var s=a.__webglViewFramebuffers.length;r<s;r++)e.deleteFramebuffer(a.__webglViewFramebuffers[r])}i.remove(t.texture),i.remove(t)}(a),o.memory.textures--}var y=0;function x(e,t){var n=i.get(e);if(e.isVideoTexture&&function(e){var t=o.render.frame;c.get(e)!==t&&(c.set(e,t),e.update())}(e),e.version>0&&n.__version!==e.version){var r=e.image;if(void 0===r)console.warn(\"THREE.WebGLRenderer: Texture marked for update but image is undefined\");else{if(!1!==r.complete)return void T(n,e,t);console.warn(\"THREE.WebGLRenderer: Texture marked for update but image is incomplete\")}}a.activeTexture(33984+t),a.bindTexture(3553,n.__webglTexture)}function w(t,o){if(6===t.image.length){var s=i.get(t);if(t.version>0&&s.__version!==t.version){S(s,t),a.activeTexture(33984+o),a.bindTexture(34067,s.__webglTexture),e.pixelStorei(37440,t.flipY);for(var c=t&&t.isCompressedTexture,d=t.image[0]&&t.image[0].isDataTexture,b=[],m=0;m<6;m++)b[m]=c||d?d?t.image[m].image:t.image[m]:f(t.image[m],!1,!0,n.maxCubemapSize);var g,v=b[0],y=h(v)||n.isWebGL2,x=r.convert(t.format),w=r.convert(t.type),_=p(x,w);if(M(34067,t,y),c){for(m=0;m<6;m++){g=b[m].mipmaps;for(var T=0;T<g.length;T++){var E=g[T];t.format!==De&&t.format!==Ie?a.getCompressedTextureFormats().indexOf(x)>-1?a.compressedTexImage2D(34069+m,T,_,E.width,E.height,0,E.data):console.warn(\"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()\"):a.texImage2D(34069+m,T,_,E.width,E.height,0,x,w,E.data)}}s.__maxMipLevel=g.length-1}else{g=t.mipmaps;for(m=0;m<6;m++)if(d){a.texImage2D(34069+m,0,_,b[m].width,b[m].height,0,x,w,b[m].data);for(T=0;T<g.length;T++){var A=(E=g[T]).image[m].image;a.texImage2D(34069+m,T+1,_,A.width,A.height,0,x,w,A.data)}}else{a.texImage2D(34069+m,0,_,x,w,b[m]);for(T=0;T<g.length;T++){E=g[T];a.texImage2D(34069+m,T+1,_,x,w,E.image[m])}}s.__maxMipLevel=g.length}l(t,y)&&u(34067,t,v.width,v.height),s.__version=t.version,t.onUpdate&&t.onUpdate(t)}else a.activeTexture(33984+o),a.bindTexture(34067,s.__webglTexture)}}function _(e,t){a.activeTexture(33984+t),a.bindTexture(34067,i.get(e).__webglTexture)}function M(a,o,s){var c;if(s?(e.texParameteri(a,10242,r.convert(o.wrapS)),e.texParameteri(a,10243,r.convert(o.wrapT)),32879!==a&&35866!==a||e.texParameteri(a,32882,r.convert(o.wrapR)),e.texParameteri(a,10240,r.convert(o.magFilter)),e.texParameteri(a,10241,r.convert(o.minFilter))):(e.texParameteri(a,10242,33071),e.texParameteri(a,10243,33071),32879!==a&&35866!==a||e.texParameteri(a,32882,33071),o.wrapS===he&&o.wrapT===he||console.warn(\"THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.\"),e.texParameteri(a,10240,m(o.magFilter)),e.texParameteri(a,10241,m(o.minFilter)),o.minFilter!==ue&&o.minFilter!==ge&&console.warn(\"THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.\")),c=t.get(\"EXT_texture_filter_anisotropic\")){if(o.type===Ee&&null===t.get(\"OES_texture_float_linear\"))return;if(o.type===Ae&&null===(n.isWebGL2||t.get(\"OES_texture_half_float_linear\")))return;(o.anisotropy>1||i.get(o).__currentAnisotropy)&&(e.texParameterf(a,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,n.getMaxAnisotropy())),i.get(o).__currentAnisotropy=o.anisotropy)}}function S(t,a){void 0===t.__webglInit&&(t.__webglInit=!0,a.addEventListener(\"dispose\",g),t.__webglTexture=e.createTexture(),o.memory.textures++)}function T(t,i,o){var s=3553;i.isDataTexture2DArray&&(s=35866),i.isDataTexture3D&&(s=32879),S(t,i),a.activeTexture(33984+o),a.bindTexture(s,t.__webglTexture),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment);var c=function(e){return!n.isWebGL2&&(e.wrapS!==he||e.wrapT!==he||e.minFilter!==ue&&e.minFilter!==ge)}(i)&&!1===h(i.image),d=f(i.image,c,!1,n.maxTextureSize),b=h(d)||n.isWebGL2,m=r.convert(i.format),g=r.convert(i.type),v=p(m,g);M(s,i,b);var y,x=i.mipmaps;if(i.isDepthTexture){if(v=6402,i.type===Ee){if(!n.isWebGL2)throw new Error(\"Float Depth Texture only supported in WebGL2.0\");v=36012}else n.isWebGL2&&(v=33189);i.format===Ue&&6402===v&&i.type!==Me&&i.type!==Te&&(console.warn(\"THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.\"),i.type=Me,g=r.convert(i.type)),i.format===Be&&(v=34041,i.type!==Ce&&(console.warn(\"THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.\"),i.type=Ce,g=r.convert(i.type))),a.texImage2D(3553,0,v,d.width,d.height,0,m,g,null)}else if(i.isDataTexture)if(x.length>0&&b){for(var w=0,_=x.length;w<_;w++)y=x[w],a.texImage2D(3553,w,v,y.width,y.height,0,m,g,y.data);i.generateMipmaps=!1,t.__maxMipLevel=x.length-1}else a.texImage2D(3553,0,v,d.width,d.height,0,m,g,d.data),t.__maxMipLevel=0;else if(i.isCompressedTexture){for(w=0,_=x.length;w<_;w++)y=x[w],i.format!==De&&i.format!==Ie?a.getCompressedTextureFormats().indexOf(m)>-1?a.compressedTexImage2D(3553,w,v,y.width,y.height,0,y.data):console.warn(\"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()\"):a.texImage2D(3553,w,v,y.width,y.height,0,m,g,y.data);t.__maxMipLevel=x.length-1}else if(i.isDataTexture2DArray)a.texImage3D(35866,0,v,d.width,d.height,d.depth,0,m,g,d.data),t.__maxMipLevel=0;else if(i.isDataTexture3D)a.texImage3D(32879,0,v,d.width,d.height,d.depth,0,m,g,d.data),t.__maxMipLevel=0;else if(x.length>0&&b){for(w=0,_=x.length;w<_;w++)y=x[w],a.texImage2D(3553,w,v,m,g,y);i.generateMipmaps=!1,t.__maxMipLevel=x.length-1}else a.texImage2D(3553,0,v,m,g,d),t.__maxMipLevel=0;l(i,b)&&u(3553,i,d.width,d.height),t.__version=i.version,i.onUpdate&&i.onUpdate(i)}function E(t,n,o,s){var c=r.convert(n.texture.format),d=r.convert(n.texture.type),b=p(c,d);a.texImage2D(s,0,b,n.width,n.height,0,c,d,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,o,s,i.get(n.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function A(t,a,i){if(e.bindRenderbuffer(36161,t),a.depthBuffer&&!a.stencilBuffer){if(i){var n=R(a);e.renderbufferStorageMultisample(36161,n,33189,a.width,a.height)}else e.renderbufferStorage(36161,33189,a.width,a.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(a.depthBuffer&&a.stencilBuffer){if(i){n=R(a);e.renderbufferStorageMultisample(36161,n,35056,a.width,a.height)}else e.renderbufferStorage(36161,34041,a.width,a.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var o=p(r.convert(a.texture.format),r.convert(a.texture.type));if(i){n=R(a);e.renderbufferStorageMultisample(36161,n,o,a.width,a.height)}else e.renderbufferStorage(36161,o,a.width,a.height)}e.bindRenderbuffer(36161,null)}function L(t){var a=i.get(t),n=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(n)throw new Error(\"target.depthTexture not supported in Cube render targets\");!function(t,a){if(a&&a.isWebGLRenderTargetCube)throw new Error(\"Depth Texture with cube render targets is not supported\");if(e.bindFramebuffer(36160,t),!a.depthTexture||!a.depthTexture.isDepthTexture)throw new Error(\"renderTarget.depthTexture must be an instance of THREE.DepthTexture\");i.get(a.depthTexture).__webglTexture&&a.depthTexture.image.width===a.width&&a.depthTexture.image.height===a.height||(a.depthTexture.image.width=a.width,a.depthTexture.image.height=a.height,a.depthTexture.needsUpdate=!0),x(a.depthTexture,0);var n=i.get(a.depthTexture).__webglTexture;if(a.depthTexture.format===Ue)e.framebufferTexture2D(36160,36096,3553,n,0);else{if(a.depthTexture.format!==Be)throw new Error(\"Unknown depthTexture format\");e.framebufferTexture2D(36160,33306,3553,n,0)}}(a.__webglFramebuffer,t)}else if(n){a.__webglDepthbuffer=[];for(var r=0;r<6;r++)e.bindFramebuffer(36160,a.__webglFramebuffer[r]),a.__webglDepthbuffer[r]=e.createRenderbuffer(),A(a.__webglDepthbuffer[r],t)}else e.bindFramebuffer(36160,a.__webglFramebuffer),a.__webglDepthbuffer=e.createRenderbuffer(),A(a.__webglDepthbuffer,t);e.bindFramebuffer(36160,null)}function R(e){return n.isWebGL2&&e.isWebGLMultisampleRenderTarget?Math.min(n.maxSamples,e.samples):0}var P=!1,C=!1;this.allocateTextureUnit=function(){var e=y;return e>=n.maxTextures&&console.warn(\"THREE.WebGLTextures: Trying to use \"+e+\" texture units while this GPU supports only \"+n.maxTextures),y+=1,e},this.resetTextureUnits=function(){y=0},this.setTexture2D=x,this.setTexture2DArray=function(e,t){var n=i.get(e);e.version>0&&n.__version!==e.version?T(n,e,t):(a.activeTexture(33984+t),a.bindTexture(35866,n.__webglTexture))},this.setTexture3D=function(e,t){var n=i.get(e);e.version>0&&n.__version!==e.version?T(n,e,t):(a.activeTexture(33984+t),a.bindTexture(32879,n.__webglTexture))},this.setTextureCube=w,this.setTextureCubeDynamic=_,this.setupRenderTarget=function(s){var c=i.get(s),d=i.get(s.texture);s.addEventListener(\"dispose\",v),d.__webglTexture=e.createTexture(),o.memory.textures++;var b=!0===s.isWebGLRenderTargetCube,f=!0===s.isWebGLMultisampleRenderTarget,m=!0===s.isWebGLMultiviewRenderTarget,g=h(s)||n.isWebGL2;if(b){c.__webglFramebuffer=[];for(var y=0;y<6;y++)c.__webglFramebuffer[y]=e.createFramebuffer()}else if(c.__webglFramebuffer=e.createFramebuffer(),f)if(n.isWebGL2){c.__webglMultisampledFramebuffer=e.createFramebuffer(),c.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,c.__webglColorRenderbuffer);var x=p(r.convert(s.texture.format),r.convert(s.texture.type)),w=R(s);e.renderbufferStorageMultisample(36161,w,x,s.width,s.height),e.bindFramebuffer(36160,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,c.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),s.depthBuffer&&(c.__webglDepthRenderbuffer=e.createRenderbuffer(),A(c.__webglDepthRenderbuffer,s,!0)),e.bindFramebuffer(36160,null)}else console.warn(\"THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.\");else if(m){var _=s.width,S=s.height,T=s.numViews;e.bindFramebuffer(36160,c.__webglFramebuffer);var P=t.get(\"OVR_multiview2\");o.memory.textures+=2;var C=e.createTexture();e.bindTexture(35866,C),e.texParameteri(35866,10240,9728),e.texParameteri(35866,10241,9728),e.texImage3D(35866,0,32856,_,S,T,0,6408,5121,null),P.framebufferTextureMultiviewOVR(36160,36064,C,0,0,T);var O=e.createTexture();e.bindTexture(35866,O),e.texParameteri(35866,10240,9728),e.texParameteri(35866,10241,9728),e.texImage3D(35866,0,35056,_,S,T,0,34041,34042,null),P.framebufferTextureMultiviewOVR(36160,33306,O,0,0,T);var I=new Array(T);for(y=0;y<T;++y)I[y]=e.createFramebuffer(),e.bindFramebuffer(36160,I[y]),e.framebufferTextureLayer(36160,36064,C,0,y);c.__webglColorTexture=C,c.__webglDepthStencilTexture=O,c.__webglViewFramebuffers=I,e.bindFramebuffer(36160,null),e.bindTexture(35866,null)}if(b){a.bindTexture(34067,d.__webglTexture),M(34067,s.texture,g);for(y=0;y<6;y++)E(c.__webglFramebuffer[y],s,36064,34069+y);l(s.texture,g)&&u(34067,s.texture,s.width,s.height),a.bindTexture(34067,null)}else m||(a.bindTexture(3553,d.__webglTexture),M(3553,s.texture,g),E(c.__webglFramebuffer,s,36064,3553),l(s.texture,g)&&u(3553,s.texture,s.width,s.height),a.bindTexture(3553,null));s.depthBuffer&&L(s)},this.updateRenderTargetMipmap=function(e){var t=e.texture;if(l(t,h(e)||n.isWebGL2)){var r=e.isWebGLRenderTargetCube?34067:3553,o=i.get(t).__webglTexture;a.bindTexture(r,o),u(r,t,e.width,e.height),a.bindTexture(r,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(n.isWebGL2){var a=i.get(t);e.bindFramebuffer(36008,a.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,a.__webglFramebuffer);var r=t.width,o=t.height,s=16384;t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024),e.blitFramebuffer(0,0,r,o,0,0,r,o,s,9728)}else console.warn(\"THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.\")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===P&&(console.warn(\"THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead.\"),P=!0),e=e.texture),x(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLRenderTargetCube&&(!1===C&&(console.warn(\"THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead.\"),C=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?w(e,t):_(e,t)}}function _o(e,t,a){return{convert:function(e){var i;if(e===fe)return 10497;if(e===he)return 33071;if(e===le)return 33648;if(e===ue)return 9728;if(e===pe)return 9984;if(e===me)return 9986;if(e===ge)return 9729;if(e===ve)return 9985;if(e===ye)return 9987;if(e===xe)return 5121;if(e===Le)return 32819;if(e===Re)return 32820;if(e===Pe)return 33635;if(e===we)return 5120;if(e===_e)return 5122;if(e===Me)return 5123;if(e===Se)return 5124;if(e===Te)return 5125;if(e===Ee)return 5126;if(e===Ae){if(a.isWebGL2)return 5131;if(null!==(i=t.get(\"OES_texture_half_float\")))return i.HALF_FLOAT_OES}if(e===Oe)return 6406;if(e===Ie)return 6407;if(e===De)return 6408;if(e===Ne)return 6409;if(e===ze)return 6410;if(e===Ue)return 6402;if(e===Be)return 34041;if(e===Fe)return 6403;if(e===T)return 32774;if(e===E)return 32778;if(e===A)return 32779;if(e===P)return 0;if(e===C)return 1;if(e===O)return 768;if(e===I)return 769;if(e===D)return 770;if(e===N)return 771;if(e===z)return 772;if(e===U)return 773;if(e===B)return 774;if(e===F)return 775;if(e===G)return 776;if((e===Ge||e===He||e===Ve||e===ke)&&null!==(i=t.get(\"WEBGL_compressed_texture_s3tc\"))){if(e===Ge)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===He)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===Ve)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===ke)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((e===je||e===We||e===Xe||e===qe)&&null!==(i=t.get(\"WEBGL_compressed_texture_pvrtc\"))){if(e===je)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===We)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===Xe)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===qe)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===Ye&&null!==(i=t.get(\"WEBGL_compressed_texture_etc1\")))return i.COMPRESSED_RGB_ETC1_WEBGL;if((e===Ze||e===Je||e===Ke||e===Qe||e===$e||e===et||e===tt||e===at||e===it||e===nt||e===rt||e===ot||e===st||e===ct)&&null!==(i=t.get(\"WEBGL_compressed_texture_astc\")))return e;if(e===L||e===R){if(a.isWebGL2){if(e===L)return 32775;if(e===R)return 32776}if(null!==(i=t.get(\"EXT_blend_minmax\"))){if(e===L)return i.MIN_EXT;if(e===R)return i.MAX_EXT}}if(e===Ce){if(a.isWebGL2)return 34042;if(null!==(i=t.get(\"WEBGL_depth_texture\")))return i.UNSIGNED_INT_24_8_WEBGL}return 0}}}function Mo(e,t,a,i){jt.call(this,e,t,i),this.depthBuffer=!1,this.stencilBuffer=!1,this.numViews=a}function So(e,t){var a,i,n,r,o,s,c,d=2,b=e.extensions,f=e.properties,h=0;function l(e){return e.isArrayCamera?e.cameras:(o[0]=e,o)}this.isAvailable=function(){if(void 0===c){var e=b.get(\"OVR_multiview2\");if(c=null!==e&&!1===t.getContextAttributes().antialias){h=t.getParameter(e.MAX_VIEWS_OVR),a=new Mo(0,0,d),s=new Ot,r=[],n=[],o=[];for(var i=0;i<h;i++)r[i]=new $t,n[i]=new Ft}}return c},this.attachCamera=function(t){!1!==function(e){if(void 0===e.isArrayCamera)return!0;var t=e.cameras;if(t.length>h)return!1;for(var a=1,i=t.length;a<i;a++)if(t[0].viewport.z!==t[a].viewport.z||t[0].viewport.w!==t[a].viewport.w)return!1;return!0}(t)&&(i=e.getRenderTarget(),function(t){if(i?s.set(i.width,i.height):e.getDrawingBufferSize(s),t.isArrayCamera){var n=t.cameras[0].viewport;a.setSize(n.z,n.w),a.setNumViews(t.cameras.length)}else a.setSize(s.x,s.y),a.setNumViews(d)}(t),e.setRenderTarget(a))},this.detachCamera=function(n){a===e.getRenderTarget()&&(e.setRenderTarget(i),function(e){var i=a,n=i.numViews,r=f.get(i).__webglViewFramebuffers,o=i.width,c=i.height;if(e.isArrayCamera)for(var d=0;d<n;d++){var b=e.cameras[d].viewport,h=b.x,l=b.y,u=h+b.z,p=l+b.w;t.bindFramebuffer(36008,r[d]),t.blitFramebuffer(0,0,o,c,h,l,u,p,16384,9728)}else t.bindFramebuffer(36008,r[0]),t.blitFramebuffer(0,0,o,c,0,0,s.x,s.y,16384,9728)}(n))},this.updateCameraProjectionMatricesUniform=function(e,a){for(var i=l(e),n=0;n<i.length;n++)r[n].copy(i[n].projectionMatrix);a.setValue(t,\"projectionMatrices\",r)},this.updateCameraViewMatricesUniform=function(e,a){for(var i=l(e),n=0;n<i.length;n++)r[n].copy(i[n].matrixWorldInverse);a.setValue(t,\"viewMatrices\",r)},this.updateObjectMatricesUniforms=function(e,a,i){for(var o=l(a),s=0;s<o.length;s++)r[s].multiplyMatrices(o[s].matrixWorldInverse,e.matrixWorld),n[s].getNormalMatrix(r[s]);i.setValue(t,\"modelViewMatrices\",r),i.setValue(t,\"normalMatrices\",n)}}function To(){ga.call(this),this.type=\"Group\"}function Eo(e){fn.call(this),this.cameras=e||[]}Mo.prototype=Object.assign(Object.create(jt.prototype),{constructor:Mo,isWebGLMultiviewRenderTarget:!0,copy:function(e){return jt.prototype.copy.call(this,e),this.numViews=e.numViews,this},setNumViews:function(e){return this.numViews!==e&&(this.numViews=e,this.dispose()),this}}),To.prototype=Object.assign(Object.create(ga.prototype),{constructor:To,isGroup:!0}),Eo.prototype=Object.assign(Object.create(fn.prototype),{constructor:Eo,isArrayCamera:!0});var Ao,Lo=new zt,Ro=new zt;function Po(e,t,a){Lo.setFromMatrixPosition(t.matrixWorld),Ro.setFromMatrixPosition(a.matrixWorld);var i=Lo.distanceTo(Ro),n=t.projectionMatrix.elements,r=a.projectionMatrix.elements,o=n[14]/(n[10]-1),s=n[14]/(n[10]+1),c=(n[9]+1)/n[5],d=(n[9]-1)/n[5],b=(n[8]-1)/n[0],f=(r[8]+1)/r[0],h=o*b,l=o*f,u=i/(-b+f),p=u*-b;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(p),e.translateZ(u),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);var m=o+u,g=s+u,v=h-p,y=l+(i-p),x=c*s/g*m,w=d*s/g*m;e.projectionMatrix.makePerspective(v,y,x,w,m,g)}function Co(e){var t,a,i=this,n=null,r=null,o=null,s=[],c=new $t,d=new $t,b=1,f=\"local-floor\";\"undefined\"!=typeof window&&\"VRFrameData\"in window&&(r=new window.VRFrameData,window.addEventListener(\"vrdisplaypresentchange\",w,!1));var h=new $t,l=new It,u=new zt,p=new fn;p.viewport=new kt,p.layers.enable(1);var m=new fn;m.viewport=new kt,m.layers.enable(2);var g=new Eo([p,m]);function v(){return null!==n&&!0===n.isPresenting}g.layers.enable(1),g.layers.enable(2);var y,x=new Ot;function w(){if(v()){var r=n.getEyeParameters(\"left\");t=2*r.renderWidth*b,a=r.renderHeight*b,y=e.getPixelRatio(),e.getSize(x),e.setDrawingBufferSize(t,a,1),p.viewport.set(0,0,t/2,a),m.viewport.set(t/2,0,t/2,a),T.start(),i.dispatchEvent({type:\"sessionstart\"})}else i.enabled&&e.setDrawingBufferSize(x.width,x.height,y),T.stop(),i.dispatchEvent({type:\"sessionend\"})}var _=[];function M(e){for(var t=navigator.getGamepads&&navigator.getGamepads(),a=0,i=0,n=t.length;a<n;a++){var r=t[a];if(r&&(\"Daydream Controller\"===r.id||\"Gear VR Controller\"===r.id||\"Oculus Go Controller\"===r.id||\"OpenVR Gamepad\"===r.id||r.id.startsWith(\"Oculus Touch\")||r.id.startsWith(\"HTC Vive Focus\")||r.id.startsWith(\"Spatial Controller\"))){if(i===e)return r;i++}}}function S(e,i){null!==i&&4===i.length&&e.set(i[0]*t,i[1]*a,i[2]*t,i[3]*a)}this.enabled=!1,this.getController=function(e){var t=s[e];return void 0===t&&((t=new To).matrixAutoUpdate=!1,t.visible=!1,s[e]=t),t},this.getDevice=function(){return n},this.setDevice=function(e){void 0!==e&&(n=e),T.setContext(e)},this.setFramebufferScaleFactor=function(e){b=e},this.setReferenceSpaceType=function(e){f=e},this.setPoseTarget=function(e){void 0!==e&&(o=e)},this.getCamera=function(e){var t=\"local-floor\"===f?1.6:0;if(!1===v())return e.position.set(0,t,0),e.rotation.set(0,0,0),e;if(n.depthNear=e.near,n.depthFar=e.far,n.getFrameData(r),\"local-floor\"===f){var a=n.stageParameters;a?c.fromArray(a.sittingToStandingTransform):c.makeTranslation(0,t,0)}var i=r.pose,b=null!==o?o:e;b.matrix.copy(c),b.matrix.decompose(b.position,b.quaternion,b.scale),null!==i.orientation&&(l.fromArray(i.orientation),b.quaternion.multiply(l)),null!==i.position&&(l.setFromRotationMatrix(c),u.fromArray(i.position),u.applyQuaternion(l),b.position.add(u)),b.updateMatrixWorld(),p.near=e.near,m.near=e.near,p.far=e.far,m.far=e.far,p.matrixWorldInverse.fromArray(r.leftViewMatrix),m.matrixWorldInverse.fromArray(r.rightViewMatrix),d.getInverse(c),\"local-floor\"===f&&(p.matrixWorldInverse.multiply(d),m.matrixWorldInverse.multiply(d));var y=b.parent;null!==y&&(h.getInverse(y.matrixWorld),p.matrixWorldInverse.multiply(h),m.matrixWorldInverse.multiply(h)),p.matrixWorld.getInverse(p.matrixWorldInverse),m.matrixWorld.getInverse(m.matrixWorldInverse),p.projectionMatrix.fromArray(r.leftProjectionMatrix),m.projectionMatrix.fromArray(r.rightProjectionMatrix),Po(g,p,m);var x=n.getLayers();if(x.length){var w=x[0];S(p.viewport,w.leftBounds),S(m.viewport,w.rightBounds)}return function(){for(var e=0;e<s.length;e++){var t=s[e],a=M(e);if(void 0!==a&&void 0!==a.pose){if(null===a.pose)return;var i=a.pose;!1===i.hasPosition&&t.position.set(.2,-.6,-.05),null!==i.position&&t.position.fromArray(i.position),null!==i.orientation&&t.quaternion.fromArray(i.orientation),t.matrix.compose(t.position,t.quaternion,t.scale),t.matrix.premultiply(c),t.matrix.decompose(t.position,t.quaternion,t.scale),t.matrixWorldNeedsUpdate=!0,t.visible=!0;var n=\"Daydream Controller\"===a.id?0:1;void 0===_[e]&&(_[e]=!1),_[e]!==a.buttons[n].pressed&&(_[e]=a.buttons[n].pressed,!0===_[e]?t.dispatchEvent({type:\"selectstart\"}):(t.dispatchEvent({type:\"selectend\"}),t.dispatchEvent({type:\"select\"})))}else t.visible=!1}}(),g},this.getStandingMatrix=function(){return c},this.isPresenting=v;var T=new An;this.setAnimationLoop=function(e){T.setAnimationLoop(e),v()&&T.start()},this.submitFrame=function(){v()&&n.submitFrame()},this.dispose=function(){\"undefined\"!=typeof window&&window.removeEventListener(\"vrdisplaypresentchange\",w)},this.setFrameOfReferenceType=function(){console.warn(\"THREE.WebVRManager: setFrameOfReferenceType() has been deprecated.\")}}function Oo(e,t){var a=this,i=null,n=null,r=\"local-floor\",o=null,s=[],c=[];function d(){return null!==i&&null!==n}var b=new fn;b.layers.enable(1),b.viewport=new kt;var f=new fn;f.layers.enable(2),f.viewport=new kt;var h=new Eo([b,f]);function l(e){for(var t=0;t<s.length;t++)c[t]===e.inputSource&&s[t].dispatchEvent({type:e.type})}function u(){e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),v.stop(),a.dispatchEvent({type:\"sessionend\"})}function p(e){n=e,v.setContext(i),v.start(),a.dispatchEvent({type:\"sessionstart\"})}function m(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}h.layers.enable(1),h.layers.enable(2),this.enabled=!1,this.getController=function(e){var t=s[e];return void 0===t&&((t=new To).matrixAutoUpdate=!1,t.visible=!1,s[e]=t),t},this.setFramebufferScaleFactor=function(){},this.setReferenceSpaceType=function(e){r=e},this.getSession=function(){return i},this.setSession=function(e){null!==(i=e)&&(i.addEventListener(\"select\",l),i.addEventListener(\"selectstart\",l),i.addEventListener(\"selectend\",l),i.addEventListener(\"end\",u),i.updateRenderState({baseLayer:new XRWebGLLayer(i,t)}),i.requestReferenceSpace(r).then(p),c=i.inputSources,i.addEventListener(\"inputsourceschange\",(function(){c=i.inputSources,console.log(c);for(var e=0;e<s.length;e++){s[e].userData.inputSource=c[e]}})))},this.getCamera=function(e){if(d()){var t=e.parent,a=h.cameras;m(h,t);for(var i=0;i<a.length;i++)m(a[i],t);e.matrixWorld.copy(h.matrixWorld);for(var n=e.children,r=(i=0,n.length);i<r;i++)n[i].updateMatrixWorld(!0);return Po(h,b,f),h}return e},this.isPresenting=d;var g=null;var v=new An;v.setAnimationLoop((function(t,a){if(null!==(o=a.getViewerPose(n))){var r=o.views,d=i.renderState.baseLayer;e.setFramebuffer(d.framebuffer);for(var b=0;b<r.length;b++){var f=r[b],l=d.getViewport(f),u=f.transform.inverse.matrix,p=h.cameras[b];p.matrix.fromArray(u).getInverse(p.matrix),p.projectionMatrix.fromArray(f.projectionMatrix),p.viewport.set(l.x,l.y,l.width,l.height),0===b&&h.matrix.copy(p.matrix)}}for(b=0;b<s.length;b++){var m=s[b],v=c[b];if(v){var y=a.getPose(v.targetRaySpace,n);if(null!==y){m.matrix.fromArray(y.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.visible=!0;continue}}m.visible=!1}g&&g(t)})),this.setAnimationLoop=function(e){g=e},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn(\"THREE.WebXRManager: getStandingMatrix() is no longer needed.\"),new $t},this.getDevice=function(){console.warn(\"THREE.WebXRManager: getDevice() has been deprecated.\")},this.setDevice=function(){console.warn(\"THREE.WebXRManager: setDevice() has been deprecated.\")},this.setFrameOfReferenceType=function(){console.warn(\"THREE.WebXRManager: setFrameOfReferenceType() has been deprecated.\")},this.submitFrame=function(){}}function Io(e){var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"canvas\"),a=void 0!==e.context?e.context:null,i=void 0!==e.alpha&&e.alpha,n=void 0===e.depth||e.depth,r=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,c=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,d=void 0!==e.powerPreference?e.powerPreference:\"default\",b=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,f=null,h=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=$,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var l,p,m,g,v,y,x,w,_,M,S,T,E,A,L,R,P,C,O=this,I=!1,D=null,N=0,z=0,U=null,B=null,F=-1,G={geometry:null,program:null,wireframe:!1},H=null,V=null,k=new kt,j=new kt,W=null,X=t.width,q=t.height,Y=1,Z=new kt(0,0,X,q),J=new kt(0,0,X,q),K=!1,Q=new Mn,ee=new Dn,te=!1,ae=!1,ie=new $t,ne=new zt;function re(){return null===U?Y:1}try{var oe={alpha:i,depth:n,stencil:r,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:c,powerPreference:d,failIfMajorPerformanceCaveat:b,xrCompatible:!0};if(t.addEventListener(\"webglcontextlost\",fe,!1),t.addEventListener(\"webglcontextrestored\",he,!1),null===(l=a||t.getContext(\"webgl\",oe)||t.getContext(\"experimental-webgl\",oe)))throw null!==t.getContext(\"webgl\")?new Error(\"Error creating WebGL context with your selected attributes.\"):new Error(\"Error creating WebGL context.\");void 0===l.getShaderPrecisionFormat&&(l.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw console.error(\"THREE.WebGLRenderer: \"+e.message),e}function se(){p=new Nn(l),!1===(m=new In(l,p,e)).isWebGL2&&(p.get(\"WEBGL_depth_texture\"),p.get(\"OES_texture_float\"),p.get(\"OES_texture_half_float\"),p.get(\"OES_texture_half_float_linear\"),p.get(\"OES_standard_derivatives\"),p.get(\"OES_element_index_uint\"),p.get(\"ANGLE_instanced_arrays\")),p.get(\"OES_texture_float_linear\"),C=new _o(l,p,m),(g=new xo(l,p,C,m)).scissor(j.copy(J).multiplyScalar(Y).floor()),g.viewport(k.copy(Z).multiplyScalar(Y).floor()),v=new Bn(l),y=new io,x=new wo(l,p,g,y,m,C,v),w=new Ln(l),_=new zn(l,w,v),M=new Hn(l,_,w,v),L=new Gn(l),S=new ao(O,p,m),T=new so,E=new uo,A=new Cn(O,g,M,s),R=new On(l,p,v,m),P=new Un(l,p,v,m),v.programs=S.programs,O.capabilities=m,O.extensions=p,O.properties=y,O.renderLists=T,O.state=g,O.info=v}se();var ce=\"undefined\"!=typeof navigator&&\"xr\"in navigator&&\"supportsSession\"in navigator.xr?new Oo(O,l):new Co(O);this.vr=ce;var de=new So(O,l),be=new yo(O,M,m.maxTextureSize);function fe(e){e.preventDefault(),console.log(\"THREE.WebGLRenderer: Context Lost.\"),I=!0}function he(){console.log(\"THREE.WebGLRenderer: Context Restored.\"),I=!1,se()}function le(e){var t=e.target;t.removeEventListener(\"dispose\",le),function(e){ue(e),y.remove(e)}(t)}function ue(e){var t=y.get(e).program;e.program=void 0,void 0!==t&&S.releaseProgram(t)}this.shadowMap=be,this.getContext=function(){return l},this.getContextAttributes=function(){return l.getContextAttributes()},this.forceContextLoss=function(){var e=p.get(\"WEBGL_lose_context\");e&&e.loseContext()},this.forceContextRestore=function(){var e=p.get(\"WEBGL_lose_context\");e&&e.restoreContext()},this.getPixelRatio=function(){return Y},this.setPixelRatio=function(e){void 0!==e&&(Y=e,this.setSize(X,q,!1))},this.getSize=function(e){return void 0===e&&(console.warn(\"WebGLRenderer: .getsize() now requires a Vector2 as an argument\"),e=new Ot),e.set(X,q)},this.setSize=function(e,a,i){ce.isPresenting()?console.warn(\"THREE.WebGLRenderer: Can't change size while VR device is presenting.\"):(X=e,q=a,t.width=Math.floor(e*Y),t.height=Math.floor(a*Y),!1!==i&&(t.style.width=e+\"px\",t.style.height=a+\"px\"),this.setViewport(0,0,e,a))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn(\"WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument\"),e=new Ot),e.set(X*Y,q*Y).floor()},this.setDrawingBufferSize=function(e,a,i){X=e,q=a,Y=i,t.width=Math.floor(e*i),t.height=Math.floor(a*i),this.setViewport(0,0,e,a)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn(\"WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument\"),e=new kt),e.copy(k)},this.getViewport=function(e){return e.copy(Z)},this.setViewport=function(e,t,a,i){e.isVector4?Z.set(e.x,e.y,e.z,e.w):Z.set(e,t,a,i),g.viewport(k.copy(Z).multiplyScalar(Y).floor())},this.getScissor=function(e){return e.copy(J)},this.setScissor=function(e,t,a,i){e.isVector4?J.set(e.x,e.y,e.z,e.w):J.set(e,t,a,i),g.scissor(j.copy(J).multiplyScalar(Y).floor())},this.getScissorTest=function(){return K},this.setScissorTest=function(e){g.setScissorTest(K=e)},this.getClearColor=function(){return A.getClearColor()},this.setClearColor=function(){A.setClearColor.apply(A,arguments)},this.getClearAlpha=function(){return A.getClearAlpha()},this.setClearAlpha=function(){A.setClearAlpha.apply(A,arguments)},this.clear=function(e,t,a){var i=0;(void 0===e||e)&&(i|=16384),(void 0===t||t)&&(i|=256),(void 0===a||a)&&(i|=1024),l.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener(\"webglcontextlost\",fe,!1),t.removeEventListener(\"webglcontextrestored\",he,!1),T.dispose(),E.dispose(),y.dispose(),M.dispose(),ce.dispose(),me.stop()},this.renderBufferImmediate=function(e,t){g.initAttributes();var a=y.get(e);e.hasPositions&&!a.position&&(a.position=l.createBuffer()),e.hasNormals&&!a.normal&&(a.normal=l.createBuffer()),e.hasUvs&&!a.uv&&(a.uv=l.createBuffer()),e.hasColors&&!a.color&&(a.color=l.createBuffer());var i=t.getAttributes();e.hasPositions&&(l.bindBuffer(34962,a.position),l.bufferData(34962,e.positionArray,35048),g.enableAttribute(i.position),l.vertexAttribPointer(i.position,3,5126,!1,0,0)),e.hasNormals&&(l.bindBuffer(34962,a.normal),l.bufferData(34962,e.normalArray,35048),g.enableAttribute(i.normal),l.vertexAttribPointer(i.normal,3,5126,!1,0,0)),e.hasUvs&&(l.bindBuffer(34962,a.uv),l.bufferData(34962,e.uvArray,35048),g.enableAttribute(i.uv),l.vertexAttribPointer(i.uv,2,5126,!1,0,0)),e.hasColors&&(l.bindBuffer(34962,a.color),l.bufferData(34962,e.colorArray,35048),g.enableAttribute(i.color),l.vertexAttribPointer(i.color,3,5126,!1,0,0)),g.disableUnusedAttributes(),l.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,a,i,n,r){var o=n.isMesh&&n.matrixWorld.determinant()<0;g.setMaterial(i,o);var s=_e(e,t,i,n),c=!1;G.geometry===a.id&&G.program===s.id&&G.wireframe===(!0===i.wireframe)||(G.geometry=a.id,G.program=s.id,G.wireframe=!0===i.wireframe,c=!0),n.morphTargetInfluences&&(L.update(n,a,i,s),c=!0);var d,b=a.index,f=a.attributes.position,h=1;!0===i.wireframe&&(b=_.getWireframeAttribute(a),h=2);var u=R;null!==b&&(d=w.get(b),(u=P).setIndex(d)),c&&(!function(e,t,a,i){if(!1===m.isWebGL2&&(e.isInstancedMesh||t.isInstancedBufferGeometry)&&null===p.get(\"ANGLE_instanced_arrays\"))return;g.initAttributes();var n=t.attributes,r=i.getAttributes(),o=a.defaultAttributeValues;for(var s in r){var c=r[s];if(c>=0){var d=n[s];if(void 0!==d){var b=d.normalized,f=d.itemSize;if(void 0===(M=w.get(d)))continue;var h=M.buffer,u=M.type,v=M.bytesPerElement;if(d.isInterleavedBufferAttribute){var y=d.data,x=y.stride,_=d.offset;y&&y.isInstancedInterleavedBuffer?(g.enableAttributeAndDivisor(c,y.meshPerAttribute),void 0===t.maxInstancedCount&&(t.maxInstancedCount=y.meshPerAttribute*y.count)):g.enableAttribute(c),l.bindBuffer(34962,h),l.vertexAttribPointer(c,f,u,b,x*v,_*v)}else d.isInstancedBufferAttribute?(g.enableAttributeAndDivisor(c,d.meshPerAttribute),void 0===t.maxInstancedCount&&(t.maxInstancedCount=d.meshPerAttribute*d.count)):g.enableAttribute(c),l.bindBuffer(34962,h),l.vertexAttribPointer(c,f,u,b,0,0)}else if(\"instanceMatrix\"===s){var M;if(void 0===(M=w.get(e.instanceMatrix)))continue;h=M.buffer,u=M.type;g.enableAttributeAndDivisor(c+0,1),g.enableAttributeAndDivisor(c+1,1),g.enableAttributeAndDivisor(c+2,1),g.enableAttributeAndDivisor(c+3,1),l.bindBuffer(34962,h),l.vertexAttribPointer(c+0,4,u,!1,64,0),l.vertexAttribPointer(c+1,4,u,!1,64,16),l.vertexAttribPointer(c+2,4,u,!1,64,32),l.vertexAttribPointer(c+3,4,u,!1,64,48)}else if(void 0!==o){var S=o[s];if(void 0!==S)switch(S.length){case 2:l.vertexAttrib2fv(c,S);break;case 3:l.vertexAttrib3fv(c,S);break;case 4:l.vertexAttrib4fv(c,S);break;default:l.vertexAttrib1fv(c,S)}}}}g.disableUnusedAttributes()}(n,a,i,s),null!==b&&l.bindBuffer(34963,d.buffer));var v=1/0;null!==b?v=b.count:void 0!==f&&(v=f.count);var y=a.drawRange.start*h,x=a.drawRange.count*h,M=null!==r?r.start*h:0,S=null!==r?r.count*h:1/0,T=Math.max(y,M),E=Math.min(v,y+x,M+S)-1,A=Math.max(0,E-T+1);if(0!==A){if(n.isMesh)if(!0===i.wireframe)g.setLineWidth(i.wireframeLinewidth*re()),u.setMode(1);else switch(n.drawMode){case ft:u.setMode(4);break;case ht:u.setMode(5);break;case lt:u.setMode(6)}else if(n.isLine){var C=i.linewidth;void 0===C&&(C=1),g.setLineWidth(C*re()),n.isLineSegments?u.setMode(1):n.isLineLoop?u.setMode(2):u.setMode(3)}else n.isPoints?u.setMode(0):n.isSprite&&u.setMode(4);n.isInstancedMesh?u.renderInstances(a,T,A,n.count):a.isInstancedBufferGeometry?u.renderInstances(a,T,A,a.maxInstancedCount):u.render(T,A)}},this.compile=function(e,t){(h=E.get(e,t)).init(),e.traverse((function(e){e.isLight&&(h.pushLight(e),e.castShadow&&h.pushShadow(e))})),h.setupLights(t),e.traverse((function(t){if(t.material)if(Array.isArray(t.material))for(var a=0;a<t.material.length;a++)we(t.material[a],e.fog,t);else we(t.material,e.fog,t)}))};var pe=null;var me=new An;function ge(e,t,a,i){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)a=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)h.pushLight(e),e.castShadow&&h.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||Q.intersectsSprite(e)){i&&ne.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ie);var n=M.update(e);(r=e.material).visible&&f.push(e,n,r,a,ne.z,null)}}else if(e.isImmediateRenderObject)i&&ne.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ie),f.push(e,null,e.material,a,ne.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==v.render.frame&&(e.skeleton.update(),e.skeleton.frame=v.render.frame),!e.frustumCulled||Q.intersectsObject(e))){i&&ne.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ie);n=M.update(e);var r=e.material;if(Array.isArray(r))for(var o=n.groups,s=0,c=o.length;s<c;s++){var d=o[s],b=r[d.materialIndex];b&&b.visible&&f.push(e,n,b,a,ne.z,d)}else r.visible&&f.push(e,n,r,a,ne.z,null)}var l=e.children;for(s=0,c=l.length;s<c;s++)ge(l[s],t,a,i)}}function ve(e,t,a,i){for(var n=0,r=e.length;n<r;n++){var o=e[n],s=o.object,c=o.geometry,d=void 0===i?o.material:i,b=o.group;if(a.isArrayCamera)if(V=a,ce.enabled&&de.isAvailable())ye(s,t,a,c,d,b);else for(var f=a.cameras,l=0,u=f.length;l<u;l++){var p=f[l];s.layers.test(p.layers)&&(g.viewport(k.copy(p.viewport)),h.setupLights(p),ye(s,t,p,c,d,b))}else V=null,ye(s,t,a,c,d,b)}}function ye(e,t,a,i,n,r){if(e.onBeforeRender(O,t,a,i,n,r),h=E.get(t,V||a),e.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){g.setMaterial(n);var o=_e(a,t.fog,n,e);G.geometry=null,G.program=null,G.wireframe=!1,function(e,t){e.render((function(e){O.renderBufferImmediate(e,t)}))}(e,o)}else O.renderBufferDirect(a,t.fog,i,n,e,r);e.onAfterRender(O,t,a,i,n,r),h=E.get(t,V||a)}function we(e,t,a){var i=y.get(e),n=h.state.lights,r=h.state.shadowsArray,o=n.state.version,s=S.getParameters(e,n.state,r,t,ee.numPlanes,ee.numIntersection,a),c=S.getProgramCode(e,s),d=i.program,b=!0;if(void 0===d)e.addEventListener(\"dispose\",le);else if(d.code!==c)ue(e);else if(i.lightsStateVersion!==o)i.lightsStateVersion=o,b=!1;else{if(void 0!==s.shaderID)return;b=!1}if(b){if(s.shaderID){var f=En[s.shaderID];i.shader={name:e.type,uniforms:nn(f.uniforms),vertexShader:f.vertexShader,fragmentShader:f.fragmentShader}}else i.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(i.shader,O),c=S.getProgramCode(e,s),d=S.acquireProgram(e,i.shader,s,c),i.program=d,e.program=d}var l=d.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var u=0;u<O.maxMorphTargets;u++)l[\"morphTarget\"+u]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(u=0;u<O.maxMorphNormals;u++)l[\"morphNormal\"+u]>=0&&e.numSupportedMorphNormals++}var p=i.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(i.numClippingPlanes=ee.numPlanes,i.numIntersection=ee.numIntersection,p.clippingPlanes=ee.uniform),i.fog=t,i.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),i.lightsStateVersion=o,i.needsLights&&(p.ambientLightColor.value=n.state.ambient,p.lightProbe.value=n.state.probe,p.directionalLights.value=n.state.directional,p.spotLights.value=n.state.spot,p.rectAreaLights.value=n.state.rectArea,p.pointLights.value=n.state.point,p.hemisphereLights.value=n.state.hemi,p.directionalShadowMap.value=n.state.directionalShadowMap,p.directionalShadowMatrix.value=n.state.directionalShadowMatrix,p.spotShadowMap.value=n.state.spotShadowMap,p.spotShadowMatrix.value=n.state.spotShadowMatrix,p.pointShadowMap.value=n.state.pointShadowMap,p.pointShadowMatrix.value=n.state.pointShadowMatrix);var m=i.program.getUniforms(),g=Br.seqWithValue(m.seq,p);i.uniformsList=g}function _e(e,t,a,i){x.resetTextureUnits();var n=y.get(a),r=h.state.lights;if(te&&(ae||e!==H)){var o=e===H&&a.id===F;ee.setState(a.clippingPlanes,a.clipIntersection,a.clipShadows,e,n,o)}!1===a.needsUpdate&&(void 0===n.program?a.needsUpdate=!0:a.fog&&n.fog!==t?a.needsUpdate=!0:n.needsLights&&n.lightsStateVersion!==r.state.version?a.needsUpdate=!0:void 0===n.numClippingPlanes||n.numClippingPlanes===ee.numPlanes&&n.numIntersection===ee.numIntersection||(a.needsUpdate=!0)),a.needsUpdate&&(we(a,t,i),a.needsUpdate=!1);var s,c,d=!1,b=!1,f=!1,p=n.program,v=p.getUniforms(),w=n.shader.uniforms;if(g.useProgram(p.program)&&(d=!0,b=!0,f=!0),a.id!==F&&(F=a.id,b=!0),d||H!==e){if(p.numMultiviewViews>0?de.updateCameraProjectionMatricesUniform(e,v):v.setValue(l,\"projectionMatrix\",e.projectionMatrix),m.logarithmicDepthBuffer&&v.setValue(l,\"logDepthBufFC\",2/(Math.log(e.far+1)/Math.LN2)),H!==e&&(H=e,b=!0,f=!0),a.isShaderMaterial||a.isMeshPhongMaterial||a.isMeshStandardMaterial||a.envMap){var _=v.map.cameraPosition;void 0!==_&&_.setValue(l,ne.setFromMatrixPosition(e.matrixWorld))}(a.isMeshPhongMaterial||a.isMeshLambertMaterial||a.isMeshBasicMaterial||a.isMeshStandardMaterial||a.isShaderMaterial||a.skinning)&&(p.numMultiviewViews>0?de.updateCameraViewMatricesUniform(e,v):v.setValue(l,\"viewMatrix\",e.matrixWorldInverse))}if(a.skinning){v.setOptional(l,i,\"bindMatrix\"),v.setOptional(l,i,\"bindMatrixInverse\");var M=i.skeleton;if(M){var S=M.bones;if(m.floatVertexTextures){if(void 0===M.boneTexture){var T=Math.sqrt(4*S.length);T=Ct.ceilPowerOfTwo(T),T=Math.max(T,4);var E=new Float32Array(T*T*4);E.set(M.boneMatrices);var A=new mn(E,T,T,De,Ee);M.boneMatrices=E,M.boneTexture=A,M.boneTextureSize=T}v.setValue(l,\"boneTexture\",M.boneTexture,x),v.setValue(l,\"boneTextureSize\",M.boneTextureSize)}else v.setOptional(l,M,\"boneMatrices\")}}return(b||n.receiveShadow!==i.receiveShadow)&&(n.receiveShadow=i.receiveShadow,v.setValue(l,\"receiveShadow\",i.receiveShadow)),b&&(v.setValue(l,\"toneMappingExposure\",O.toneMappingExposure),v.setValue(l,\"toneMappingWhitePoint\",O.toneMappingWhitePoint),n.needsLights&&(c=f,(s=w).ambientLightColor.needsUpdate=c,s.lightProbe.needsUpdate=c,s.directionalLights.needsUpdate=c,s.pointLights.needsUpdate=c,s.spotLights.needsUpdate=c,s.rectAreaLights.needsUpdate=c,s.hemisphereLights.needsUpdate=c),t&&a.fog&&function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}(w,t),a.isMeshBasicMaterial?Me(w,a):a.isMeshLambertMaterial?(Me(w,a),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(w,a)):a.isMeshPhongMaterial?(Me(w,a),a.isMeshToonMaterial?function(e,t){Se(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(w,a):Se(w,a)):a.isMeshStandardMaterial?(Me(w,a),a.isMeshPhysicalMaterial?function(e,t){Te(e,t),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen);t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===u&&e.clearcoatNormalScale.value.negate());e.transparency.value=t.transparency}(w,a):Te(w,a)):a.isMeshMatcapMaterial?(Me(w,a),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===u&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===u&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(w,a)):a.isMeshDepthMaterial?(Me(w,a),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(w,a)):a.isMeshDistanceMaterial?(Me(w,a),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(w,a)):a.isMeshNormalMaterial?(Me(w,a),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===u&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===u&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(w,a)):a.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(w,a),a.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(w,a)):a.isPointsMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*Y,e.scale.value=.5*q,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(w,a):a.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(w,a):a.isShadowMaterial&&(w.color.value.copy(a.color),w.opacity.value=a.opacity),void 0!==w.ltc_1&&(w.ltc_1.value=Tn.LTC_1),void 0!==w.ltc_2&&(w.ltc_2.value=Tn.LTC_2),Br.upload(l,n.uniformsList,w,x)),a.isShaderMaterial&&!0===a.uniformsNeedUpdate&&(Br.upload(l,n.uniformsList,w,x),a.uniformsNeedUpdate=!1),a.isSpriteMaterial&&v.setValue(l,\"center\",i.center),p.numMultiviewViews>0?de.updateObjectMatricesUniforms(i,e,v):(v.setValue(l,\"modelViewMatrix\",i.modelViewMatrix),v.setValue(l,\"normalMatrix\",i.normalMatrix)),v.setValue(l,\"modelMatrix\",i.matrixWorld),p}function Me(e,t){var a;e.opacity.value=t.opacity,t.color&&e.diffuse.value.copy(t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=y.get(t.envMap).__maxMipLevel),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?a=t.map:t.specularMap?a=t.specularMap:t.displacementMap?a=t.displacementMap:t.normalMap?a=t.normalMap:t.bumpMap?a=t.bumpMap:t.roughnessMap?a=t.roughnessMap:t.metalnessMap?a=t.metalnessMap:t.alphaMap?a=t.alphaMap:t.emissiveMap&&(a=t.emissiveMap),void 0!==a&&(a.isWebGLRenderTarget&&(a=a.texture),!0===a.matrixAutoUpdate&&a.updateMatrix(),e.uvTransform.value.copy(a.matrix))}function Se(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===u&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===u&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function Te(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===u&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===u&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}me.setAnimationLoop((function(e){ce.isPresenting()||pe&&pe(e)})),\"undefined\"!=typeof window&&me.setContext(window),this.setAnimationLoop=function(e){pe=e,ce.setAnimationLoop(e),me.start()},this.render=function(e,t){var a,i;if(void 0!==arguments[2]&&(console.warn(\"THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.\"),a=arguments[2]),void 0!==arguments[3]&&(console.warn(\"THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.\"),i=arguments[3]),t&&t.isCamera){if(!I){G.geometry=null,G.program=null,G.wireframe=!1,F=-1,H=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),ce.enabled&&(t=ce.getCamera(t)),(h=E.get(e,t)).init(),e.onBeforeRender(O,e,t,a||U),ie.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),Q.setFromMatrix(ie),ae=this.localClippingEnabled,te=ee.init(this.clippingPlanes,ae,t),(f=T.get(e,t)).init(),ge(e,t,0,O.sortObjects),!0===O.sortObjects&&f.sort(),te&&ee.beginShadows();var n=h.state.shadowsArray;be.render(n,e,t),h.setupLights(t),te&&ee.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==a&&this.setRenderTarget(a),ce.enabled&&de.isAvailable()&&de.attachCamera(t),A.render(f,e,t,i);var r=f.opaque,o=f.transparent;if(e.overrideMaterial){var s=e.overrideMaterial;r.length&&ve(r,e,t,s),o.length&&ve(o,e,t,s)}else r.length&&ve(r,e,t),o.length&&ve(o,e,t);e.onAfterRender(O,e,t),null!==U&&(x.updateRenderTargetMipmap(U),x.updateMultisampleRenderTarget(U)),g.buffers.depth.setTest(!0),g.buffers.depth.setMask(!0),g.buffers.color.setMask(!0),g.setPolygonOffset(!1),ce.enabled&&(de.isAvailable()&&de.detachCamera(t),ce.submitFrame()),f=null,h=null}}else console.error(\"THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.\")},this.setFramebuffer=function(e){D!==e&&l.bindFramebuffer(36160,e),D=e},this.getActiveCubeFace=function(){return N},this.getActiveMipmapLevel=function(){return z},this.getRenderTarget=function(){return U},this.setRenderTarget=function(e,t,a){U=e,N=t,z=a,e&&void 0===y.get(e).__webglFramebuffer&&x.setupRenderTarget(e);var i=D,n=!1;if(e){var r=y.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(i=r[t||0],n=!0):i=e.isWebGLMultisampleRenderTarget?y.get(e).__webglMultisampledFramebuffer:r,k.copy(e.viewport),j.copy(e.scissor),W=e.scissorTest}else k.copy(Z).multiplyScalar(Y).floor(),j.copy(J).multiplyScalar(Y).floor(),W=K;if(B!==i&&(l.bindFramebuffer(36160,i),B=i),g.viewport(k),g.scissor(j),g.setScissorTest(W),n){var o=y.get(e.texture);l.framebufferTexture2D(36160,36064,34069+(t||0),o.__webglTexture,a||0)}},this.readRenderTargetPixels=function(e,t,a,i,n,r,o){if(e&&e.isWebGLRenderTarget){var s=y.get(e).__webglFramebuffer;if(e.isWebGLRenderTargetCube&&void 0!==o&&(s=s[o]),s){var c=!1;s!==B&&(l.bindFramebuffer(36160,s),c=!0);try{var d=e.texture,b=d.format,f=d.type;if(b!==De&&C.convert(b)!==l.getParameter(35739))return void console.error(\"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.\");if(!(f===xe||C.convert(f)===l.getParameter(35738)||f===Ee&&(m.isWebGL2||p.get(\"OES_texture_float\")||p.get(\"WEBGL_color_buffer_float\"))||f===Ae&&(m.isWebGL2?p.get(\"EXT_color_buffer_float\"):p.get(\"EXT_color_buffer_half_float\"))))return void console.error(\"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.\");36053===l.checkFramebufferStatus(36160)?t>=0&&t<=e.width-i&&a>=0&&a<=e.height-n&&l.readPixels(t,a,i,n,C.convert(b),C.convert(f),r):console.error(\"THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.\")}finally{c&&l.bindFramebuffer(36160,B)}}}else console.error(\"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.\")},this.copyFramebufferToTexture=function(e,t,a){var i=t.image.width,n=t.image.height,r=C.convert(t.format);x.setTexture2D(t,0),l.copyTexImage2D(3553,a||0,r,e.x,e.y,i,n,0)},this.copyTextureToTexture=function(e,t,a,i){var n=t.image.width,r=t.image.height,o=C.convert(a.format),s=C.convert(a.type);x.setTexture2D(a,0),t.isDataTexture?l.texSubImage2D(3553,i||0,e.x,e.y,n,r,o,s,t.image.data):l.texSubImage2D(3553,i||0,e.x,e.y,o,s,t.image)},\"undefined\"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent(\"observe\",{detail:this}))}function Do(e,t){this.name=\"\",this.color=new ii(e),this.density=void 0!==t?t:25e-5}function No(e,t,a){this.name=\"\",this.color=new ii(e),this.near=void 0!==t?t:1,this.far=void 0!==a?a:1e3}function zo(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Uo(e,t,a,i){this.data=e,this.itemSize=t,this.offset=a,this.normalized=!0===i}function Bo(e){di.call(this),this.type=\"SpriteMaterial\",this.color=new ii(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}Object.assign(Co.prototype,Lt.prototype),Object.assign(Oo.prototype,Lt.prototype),Object.assign(Do.prototype,{isFogExp2:!0,clone:function(){return new Do(this.color,this.density)},toJSON:function(){return{type:\"FogExp2\",color:this.color.getHex(),density:this.density}}}),Object.assign(No.prototype,{isFog:!0,clone:function(){return new No(this.color,this.near,this.far)},toJSON:function(){return{type:\"Fog\",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(zo.prototype,\"needsUpdate\",{set:function(e){!0===e&&this.version++}}),Object.assign(zo.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,a){e*=this.stride,a*=t.stride;for(var i=0,n=this.stride;i<n;i++)this.array[e+i]=t.array[a+i];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),Object.defineProperties(Uo.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Uo.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,a){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=a,this},setXYZ:function(e,t,a,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=a,this.data.array[e+2]=i,this},setXYZW:function(e,t,a,i,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=a,this.data.array[e+2]=i,this.data.array[e+3]=n,this}}),Bo.prototype=Object.create(di.prototype),Bo.prototype.constructor=Bo,Bo.prototype.isSpriteMaterial=!0,Bo.prototype.copy=function(e){return di.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};var Fo=new zt,Go=new zt,Ho=new zt,Vo=new Ot,ko=new Ot,jo=new $t,Wo=new zt,Xo=new zt,qo=new zt,Yo=new Ot,Zo=new Ot,Jo=new Ot;function Ko(e){if(ga.call(this),this.type=\"Sprite\",void 0===Ao){Ao=new Pi;var t=new zo(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);Ao.setIndex([0,1,2,0,2,3]),Ao.addAttribute(\"position\",new Uo(t,3,0,!1)),Ao.addAttribute(\"uv\",new Uo(t,2,3,!1))}this.geometry=Ao,this.material=void 0!==e?e:new Bo,this.center=new Ot(.5,.5)}function Qo(e,t,a,i,n,r){Vo.subVectors(e,a).addScalar(.5).multiply(i),void 0!==n?(ko.x=r*Vo.x-n*Vo.y,ko.y=n*Vo.x+r*Vo.y):ko.copy(Vo),e.copy(t),e.x+=ko.x,e.y+=ko.y,e.applyMatrix4(jo)}Ko.prototype=Object.assign(Object.create(ga.prototype),{constructor:Ko,isSprite:!0,raycast:function(e,t){null===e.camera&&console.error('THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites.'),Go.setFromMatrixScale(this.matrixWorld),jo.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Ho.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Go.multiplyScalar(-Ho.z);var a,i,n=this.material.rotation;0!==n&&(i=Math.cos(n),a=Math.sin(n));var r=this.center;Qo(Wo.set(-.5,-.5,0),Ho,r,Go,a,i),Qo(Xo.set(.5,-.5,0),Ho,r,Go,a,i),Qo(qo.set(.5,.5,0),Ho,r,Go,a,i),Yo.set(0,0),Zo.set(1,0),Jo.set(1,1);var o=e.ray.intersectTriangle(Wo,Xo,qo,!1,Fo);if(null!==o||(Qo(Xo.set(-.5,.5,0),Ho,r,Go,a,i),Zo.set(0,1),null!==(o=e.ray.intersectTriangle(Wo,qo,Xo,!1,Fo)))){var s=e.ray.origin.distanceTo(Fo);s<e.near||s>e.far||t.push({distance:s,point:Fo.clone(),uv:$a.getUV(Fo,Wo,Xo,qo,Yo,Zo,Jo,new Ot),face:null,object:this})}},clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return ga.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this}});var $o=new zt,es=new zt;function ts(){ga.call(this),this.type=\"LOD\",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function as(e,t){e&&e.isGeometry&&console.error(\"THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.\"),Yi.call(this,e,t),this.type=\"SkinnedMesh\",this.bindMode=\"attached\",this.bindMatrix=new $t,this.bindMatrixInverse=new $t}ts.prototype=Object.assign(Object.create(ga.prototype),{constructor:ts,isLOD:!0,copy:function(e){ga.prototype.copy.call(this,e,!1);for(var t=e.levels,a=0,i=t.length;a<i;a++){var n=t[a];this.addLevel(n.object.clone(),n.distance)}return this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var a=this.levels,i=0;i<a.length&&!(t<a[i].distance);i++);return a.splice(i,0,{distance:t,object:e}),this.add(e),this},getObjectForDistance:function(e){for(var t=this.levels,a=1,i=t.length;a<i&&!(e<t[a].distance);a++);return t[a-1].object},raycast:function(e,t){$o.setFromMatrixPosition(this.matrixWorld);var a=e.ray.origin.distanceTo($o);this.getObjectForDistance(a).raycast(e,t)},update:function(e){var t=this.levels;if(t.length>1){$o.setFromMatrixPosition(e.matrixWorld),es.setFromMatrixPosition(this.matrixWorld);var a=$o.distanceTo(es);t[0].object.visible=!0;for(var i=1,n=t.length;i<n&&a>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(;i<n;i++)t[i].object.visible=!1}},toJSON:function(e){var t=ga.prototype.toJSON.call(this,e);t.object.levels=[];for(var a=this.levels,i=0,n=a.length;i<n;i++){var r=a[i];t.object.levels.push({object:r.object.uuid,distance:r.distance})}return t}}),as.prototype=Object.assign(Object.create(Yi.prototype),{constructor:as,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new kt,t=this.geometry.attributes.skinWeight,a=0,i=t.count;a<i;a++){e.x=t.getX(a),e.y=t.getY(a),e.z=t.getZ(a),e.w=t.getW(a);var n=1/e.manhattanLength();n!==1/0?e.multiplyScalar(n):e.set(1,0,0,0),t.setXYZW(a,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){Yi.prototype.updateMatrixWorld.call(this,e),\"attached\"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):\"detached\"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn(\"THREE.SkinnedMesh: Unrecognized bindMode: \"+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var is=new $t,ns=new $t;function rs(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn(\"THREE.Skeleton boneInverses is the wrong length.\"),this.boneInverses=[];for(var a=0,i=this.bones.length;a<i;a++)this.boneInverses.push(new $t)}}function os(){ga.call(this),this.type=\"Bone\"}function ss(e,t,a){Yi.call(this,e,t),this.instanceMatrix=new fi(new Float32Array(16*a),16),this.count=a}function cs(e){di.call(this),this.type=\"LineBasicMaterial\",this.color=new ii(16777215),this.linewidth=1,this.linecap=\"round\",this.linejoin=\"round\",this.setValues(e)}Object.assign(rs.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var a=new $t;this.bones[e]&&a.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(a)}},pose:function(){var e,t,a;for(t=0,a=this.bones.length;t<a;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,a=this.bones.length;t<a;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){for(var e=this.bones,t=this.boneInverses,a=this.boneMatrices,i=this.boneTexture,n=0,r=e.length;n<r;n++){var o=e[n]?e[n].matrixWorld:ns;is.multiplyMatrices(o,t[n]),is.toArray(a,16*n)}void 0!==i&&(i.needsUpdate=!0)},clone:function(){return new rs(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,a=this.bones.length;t<a;t++){var i=this.bones[t];if(i.name===e)return i}}}),os.prototype=Object.assign(Object.create(ga.prototype),{constructor:os,isBone:!0}),ss.prototype=Object.assign(Object.create(Yi.prototype),{constructor:ss,isInstancedMesh:!0,raycast:function(){},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){}}),cs.prototype=Object.create(di.prototype),cs.prototype.constructor=cs,cs.prototype.isLineBasicMaterial=!0,cs.prototype.copy=function(e){return di.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this};var ds=new zt,bs=new zt,fs=new $t,hs=new Va,ls=new Da;function us(e,t,a){1===a&&console.error(\"THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead.\"),ga.call(this),this.type=\"Line\",this.geometry=void 0!==e?e:new Pi,this.material=void 0!==t?t:new cs({color:16777215*Math.random()})}us.prototype=Object.assign(Object.create(ga.prototype),{constructor:us,isLine:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,a=[0],i=1,n=t.count;i<n;i++)ds.fromBufferAttribute(t,i-1),bs.fromBufferAttribute(t,i),a[i]=a[i-1],a[i]+=ds.distanceTo(bs);e.addAttribute(\"lineDistance\",new yi(a,1))}else console.warn(\"THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.\");else if(e.isGeometry){var r=e.vertices;(a=e.lineDistances)[0]=0;for(i=1,n=r.length;i<n;i++)a[i]=a[i-1],a[i]+=r[i-1].distanceTo(r[i])}return this},raycast:function(e,t){var a=e.linePrecision,i=this.geometry,n=this.matrixWorld;if(null===i.boundingSphere&&i.computeBoundingSphere(),ls.copy(i.boundingSphere),ls.applyMatrix4(n),ls.radius+=a,!1!==e.ray.intersectsSphere(ls)){fs.getInverse(n),hs.copy(e.ray).applyMatrix4(fs);var r=a/((this.scale.x+this.scale.y+this.scale.z)/3),o=r*r,s=new zt,c=new zt,d=new zt,b=new zt,f=this&&this.isLineSegments?2:1;if(i.isBufferGeometry){var h=i.index,l=i.attributes.position.array;if(null!==h)for(var u=h.array,p=0,m=u.length-1;p<m;p+=f){var g=u[p],v=u[p+1];if(s.fromArray(l,3*g),c.fromArray(l,3*v),!(hs.distanceSqToSegment(s,c,b,d)>o))b.applyMatrix4(this.matrixWorld),(w=e.ray.origin.distanceTo(b))<e.near||w>e.far||t.push({distance:w,point:d.clone().applyMatrix4(this.matrixWorld),index:p,face:null,faceIndex:null,object:this})}else for(p=0,m=l.length/3-1;p<m;p+=f){if(s.fromArray(l,3*p),c.fromArray(l,3*p+3),!(hs.distanceSqToSegment(s,c,b,d)>o))b.applyMatrix4(this.matrixWorld),(w=e.ray.origin.distanceTo(b))<e.near||w>e.far||t.push({distance:w,point:d.clone().applyMatrix4(this.matrixWorld),index:p,face:null,faceIndex:null,object:this})}}else if(i.isGeometry){var y=i.vertices,x=y.length;for(p=0;p<x-1;p+=f){var w;if(!(hs.distanceSqToSegment(y[p],y[p+1],b,d)>o))b.applyMatrix4(this.matrixWorld),(w=e.ray.origin.distanceTo(b))<e.near||w>e.far||t.push({distance:w,point:d.clone().applyMatrix4(this.matrixWorld),index:p,face:null,faceIndex:null,object:this})}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var ps=new zt,ms=new zt;function gs(e,t){us.call(this,e,t),this.type=\"LineSegments\"}function vs(e,t){us.call(this,e,t),this.type=\"LineLoop\"}function ys(e){di.call(this),this.type=\"PointsMaterial\",this.color=new ii(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}gs.prototype=Object.assign(Object.create(us.prototype),{constructor:gs,isLineSegments:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,a=[],i=0,n=t.count;i<n;i+=2)ps.fromBufferAttribute(t,i),ms.fromBufferAttribute(t,i+1),a[i]=0===i?0:a[i-1],a[i+1]=a[i]+ps.distanceTo(ms);e.addAttribute(\"lineDistance\",new yi(a,1))}else console.warn(\"THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.\");else if(e.isGeometry){var r=e.vertices;for(a=e.lineDistances,i=0,n=r.length;i<n;i+=2)ps.copy(r[i]),ms.copy(r[i+1]),a[i]=0===i?0:a[i-1],a[i+1]=a[i]+ps.distanceTo(ms)}return this}}),vs.prototype=Object.assign(Object.create(us.prototype),{constructor:vs,isLineLoop:!0}),ys.prototype=Object.create(di.prototype),ys.prototype.constructor=ys,ys.prototype.isPointsMaterial=!0,ys.prototype.copy=function(e){return di.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};var xs=new $t,ws=new Va,_s=new Da,Ms=new zt;function Ss(e,t){ga.call(this),this.type=\"Points\",this.geometry=void 0!==e?e:new Pi,this.material=void 0!==t?t:new ys({color:16777215*Math.random()}),this.updateMorphTargets()}function Ts(e,t,a,i,n,r,o){var s=ws.distanceSqToPoint(e);if(s<a){var c=new zt;ws.closestPointToPoint(e,c),c.applyMatrix4(i);var d=n.ray.origin.distanceTo(c);if(d<n.near||d>n.far)return;r.push({distance:d,distanceToRay:Math.sqrt(s),point:c,index:t,face:null,object:o})}}function Es(e,t,a,i,n,r,o,s,c){Vt.call(this,e,t,a,i,n,r,o,s,c),this.format=void 0!==o?o:Ie,this.minFilter=void 0!==r?r:ge,this.magFilter=void 0!==n?n:ge,this.generateMipmaps=!1}function As(e,t,a,i,n,r,o,s,c,d,b,f){Vt.call(this,null,r,o,s,c,d,i,n,b,f),this.image={width:t,height:a},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function Ls(e,t,a,i,n,r,o,s,c){Vt.call(this,e,t,a,i,n,r,o,s,c),this.needsUpdate=!0}function Rs(e,t,a,i,n,r,o,s,c,d){if((d=void 0!==d?d:Ue)!==Ue&&d!==Be)throw new Error(\"DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat\");void 0===a&&d===Ue&&(a=Me),void 0===a&&d===Be&&(a=Ce),Vt.call(this,null,i,n,r,o,s,d,a,c),this.image={width:e,height:t},this.magFilter=void 0!==o?o:ue,this.minFilter=void 0!==s?s:ue,this.flipY=!1,this.generateMipmaps=!1}function Ps(e){Pi.call(this),this.type=\"WireframeGeometry\";var t,a,i,n,r,o,s,c,d,b,f=[],h=[0,0],l={},u=[\"a\",\"b\",\"c\"];if(e&&e.isGeometry){var p=e.faces;for(t=0,i=p.length;t<i;t++){var m=p[t];for(a=0;a<3;a++)s=m[u[a]],c=m[u[(a+1)%3]],h[0]=Math.min(s,c),h[1]=Math.max(s,c),void 0===l[d=h[0]+\",\"+h[1]]&&(l[d]={index1:h[0],index2:h[1]})}for(d in l)o=l[d],b=e.vertices[o.index1],f.push(b.x,b.y,b.z),b=e.vertices[o.index2],f.push(b.x,b.y,b.z)}else if(e&&e.isBufferGeometry){var g,v,y,x,w,_,M;if(b=new zt,null!==e.index){for(g=e.attributes.position,v=e.index,0===(y=e.groups).length&&(y=[{start:0,count:v.count,materialIndex:0}]),n=0,r=y.length;n<r;++n)for(t=w=(x=y[n]).start,i=w+x.count;t<i;t+=3)for(a=0;a<3;a++)s=v.getX(t+a),c=v.getX(t+(a+1)%3),h[0]=Math.min(s,c),h[1]=Math.max(s,c),void 0===l[d=h[0]+\",\"+h[1]]&&(l[d]={index1:h[0],index2:h[1]});for(d in l)o=l[d],b.fromBufferAttribute(g,o.index1),f.push(b.x,b.y,b.z),b.fromBufferAttribute(g,o.index2),f.push(b.x,b.y,b.z)}else for(t=0,i=(g=e.attributes.position).count/3;t<i;t++)for(a=0;a<3;a++)_=3*t+a,b.fromBufferAttribute(g,_),f.push(b.x,b.y,b.z),M=3*t+(a+1)%3,b.fromBufferAttribute(g,M),f.push(b.x,b.y,b.z)}this.addAttribute(\"position\",new yi(f,3))}function Cs(e,t,a){tn.call(this),this.type=\"ParametricGeometry\",this.parameters={func:e,slices:t,stacks:a},this.fromBufferGeometry(new Os(e,t,a)),this.mergeVertices()}function Os(e,t,a){Pi.call(this),this.type=\"ParametricBufferGeometry\",this.parameters={func:e,slices:t,stacks:a};var i,n,r=[],o=[],s=[],c=[],d=new zt,b=new zt,f=new zt,h=new zt,l=new zt;e.length<3&&console.error(\"THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.\");var u=t+1;for(i=0;i<=a;i++){var p=i/a;for(n=0;n<=t;n++){var m=n/t;e(m,p,b),o.push(b.x,b.y,b.z),m-1e-5>=0?(e(m-1e-5,p,f),h.subVectors(b,f)):(e(m+1e-5,p,f),h.subVectors(f,b)),p-1e-5>=0?(e(m,p-1e-5,f),l.subVectors(b,f)):(e(m,p+1e-5,f),l.subVectors(f,b)),d.crossVectors(h,l).normalize(),s.push(d.x,d.y,d.z),c.push(m,p)}}for(i=0;i<a;i++)for(n=0;n<t;n++){var g=i*u+n,v=i*u+n+1,y=(i+1)*u+n+1,x=(i+1)*u+n;r.push(g,v,x),r.push(v,y,x)}this.setIndex(r),this.addAttribute(\"position\",new yi(o,3)),this.addAttribute(\"normal\",new yi(s,3)),this.addAttribute(\"uv\",new yi(c,2))}function Is(e,t,a,i){tn.call(this),this.type=\"PolyhedronGeometry\",this.parameters={vertices:e,indices:t,radius:a,detail:i},this.fromBufferGeometry(new Ds(e,t,a,i)),this.mergeVertices()}function Ds(e,t,a,i){Pi.call(this),this.type=\"PolyhedronBufferGeometry\",this.parameters={vertices:e,indices:t,radius:a,detail:i},a=a||1;var n=[],r=[];function o(e,t,a,i){var n,r,o=Math.pow(2,i),c=[];for(n=0;n<=o;n++){c[n]=[];var d=e.clone().lerp(a,n/o),b=t.clone().lerp(a,n/o),f=o-n;for(r=0;r<=f;r++)c[n][r]=0===r&&n===o?d:d.clone().lerp(b,r/f)}for(n=0;n<o;n++)for(r=0;r<2*(o-n)-1;r++){var h=Math.floor(r/2);r%2==0?(s(c[n][h+1]),s(c[n+1][h]),s(c[n][h])):(s(c[n][h+1]),s(c[n+1][h+1]),s(c[n+1][h]))}}function s(e){n.push(e.x,e.y,e.z)}function c(t,a){var i=3*t;a.x=e[i+0],a.y=e[i+1],a.z=e[i+2]}function d(e,t,a,i){i<0&&1===e.x&&(r[t]=e.x-1),0===a.x&&0===a.z&&(r[t]=i/2/Math.PI+.5)}function b(e){return Math.atan2(e.z,-e.x)}!function(e){for(var a=new zt,i=new zt,n=new zt,r=0;r<t.length;r+=3)c(t[r+0],a),c(t[r+1],i),c(t[r+2],n),o(a,i,n,e)}(i=i||0),function(e){for(var t=new zt,a=0;a<n.length;a+=3)t.x=n[a+0],t.y=n[a+1],t.z=n[a+2],t.normalize().multiplyScalar(e),n[a+0]=t.x,n[a+1]=t.y,n[a+2]=t.z}(a),function(){for(var e=new zt,t=0;t<n.length;t+=3){e.x=n[t+0],e.y=n[t+1],e.z=n[t+2];var a=b(e)/2/Math.PI+.5,i=(o=e,Math.atan2(-o.y,Math.sqrt(o.x*o.x+o.z*o.z))/Math.PI+.5);r.push(a,1-i)}var o;(function(){for(var e=new zt,t=new zt,a=new zt,i=new zt,o=new Ot,s=new Ot,c=new Ot,f=0,h=0;f<n.length;f+=9,h+=6){e.set(n[f+0],n[f+1],n[f+2]),t.set(n[f+3],n[f+4],n[f+5]),a.set(n[f+6],n[f+7],n[f+8]),o.set(r[h+0],r[h+1]),s.set(r[h+2],r[h+3]),c.set(r[h+4],r[h+5]),i.copy(e).add(t).add(a).divideScalar(3);var l=b(i);d(o,h+0,e,l),d(s,h+2,t,l),d(c,h+4,a,l)}})(),function(){for(var e=0;e<r.length;e+=6){var t=r[e+0],a=r[e+2],i=r[e+4],n=Math.max(t,a,i),o=Math.min(t,a,i);n>.9&&o<.1&&(t<.2&&(r[e+0]+=1),a<.2&&(r[e+2]+=1),i<.2&&(r[e+4]+=1))}}()}(),this.addAttribute(\"position\",new yi(n,3)),this.addAttribute(\"normal\",new yi(n.slice(),3)),this.addAttribute(\"uv\",new yi(r,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}function Ns(e,t){tn.call(this),this.type=\"TetrahedronGeometry\",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new zs(e,t)),this.mergeVertices()}function zs(e,t){Ds.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type=\"TetrahedronBufferGeometry\",this.parameters={radius:e,detail:t}}function Us(e,t){tn.call(this),this.type=\"OctahedronGeometry\",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Bs(e,t)),this.mergeVertices()}function Bs(e,t){Ds.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type=\"OctahedronBufferGeometry\",this.parameters={radius:e,detail:t}}function Fs(e,t){tn.call(this),this.type=\"IcosahedronGeometry\",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Gs(e,t)),this.mergeVertices()}function Gs(e,t){var a=(1+Math.sqrt(5))/2,i=[-1,a,0,1,a,0,-1,-a,0,1,-a,0,0,-1,a,0,1,a,0,-1,-a,0,1,-a,a,0,-1,a,0,1,-a,0,-1,-a,0,1];Ds.call(this,i,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type=\"IcosahedronBufferGeometry\",this.parameters={radius:e,detail:t}}function Hs(e,t){tn.call(this),this.type=\"DodecahedronGeometry\",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Vs(e,t)),this.mergeVertices()}function Vs(e,t){var a=(1+Math.sqrt(5))/2,i=1/a,n=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-a,0,-i,a,0,i,-a,0,i,a,-i,-a,0,-i,a,0,i,-a,0,i,a,0,-a,0,-i,a,0,-i,-a,0,i,a,0,i];Ds.call(this,n,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type=\"DodecahedronBufferGeometry\",this.parameters={radius:e,detail:t}}function ks(e,t,a,i,n,r){tn.call(this),this.type=\"TubeGeometry\",this.parameters={path:e,tubularSegments:t,radius:a,radialSegments:i,closed:n},void 0!==r&&console.warn(\"THREE.TubeGeometry: taper has been removed.\");var o=new js(e,t,a,i,n);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function js(e,t,a,i,n){Pi.call(this),this.type=\"TubeBufferGeometry\",this.parameters={path:e,tubularSegments:t,radius:a,radialSegments:i,closed:n},t=t||64,a=a||1,i=i||8,n=n||!1;var r=e.computeFrenetFrames(t,n);this.tangents=r.tangents,this.normals=r.normals,this.binormals=r.binormals;var o,s,c=new zt,d=new zt,b=new Ot,f=new zt,h=[],l=[],u=[],p=[];function m(n){f=e.getPointAt(n/t,f);var o=r.normals[n],b=r.binormals[n];for(s=0;s<=i;s++){var u=s/i*Math.PI*2,p=Math.sin(u),m=-Math.cos(u);d.x=m*o.x+p*b.x,d.y=m*o.y+p*b.y,d.z=m*o.z+p*b.z,d.normalize(),l.push(d.x,d.y,d.z),c.x=f.x+a*d.x,c.y=f.y+a*d.y,c.z=f.z+a*d.z,h.push(c.x,c.y,c.z)}}!function(){for(o=0;o<t;o++)m(o);m(!1===n?t:0),function(){for(o=0;o<=t;o++)for(s=0;s<=i;s++)b.x=o/t,b.y=s/i,u.push(b.x,b.y)}(),function(){for(s=1;s<=t;s++)for(o=1;o<=i;o++){var e=(i+1)*(s-1)+(o-1),a=(i+1)*s+(o-1),n=(i+1)*s+o,r=(i+1)*(s-1)+o;p.push(e,a,r),p.push(a,n,r)}}()}(),this.setIndex(p),this.addAttribute(\"position\",new yi(h,3)),this.addAttribute(\"normal\",new yi(l,3)),this.addAttribute(\"uv\",new yi(u,2))}function Ws(e,t,a,i,n,r,o){tn.call(this),this.type=\"TorusKnotGeometry\",this.parameters={radius:e,tube:t,tubularSegments:a,radialSegments:i,p:n,q:r},void 0!==o&&console.warn(\"THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.\"),this.fromBufferGeometry(new Xs(e,t,a,i,n,r)),this.mergeVertices()}function Xs(e,t,a,i,n,r){Pi.call(this),this.type=\"TorusKnotBufferGeometry\",this.parameters={radius:e,tube:t,tubularSegments:a,radialSegments:i,p:n,q:r},e=e||1,t=t||.4,a=Math.floor(a)||64,i=Math.floor(i)||8,n=n||2,r=r||3;var o,s,c=[],d=[],b=[],f=[],h=new zt,l=new zt,u=new zt,p=new zt,m=new zt,g=new zt,v=new zt;for(o=0;o<=a;++o){var y=o/a*n*Math.PI*2;for(A(y,n,r,e,u),A(y+.01,n,r,e,p),g.subVectors(p,u),v.addVectors(p,u),m.crossVectors(g,v),v.crossVectors(m,g),m.normalize(),v.normalize(),s=0;s<=i;++s){var x=s/i*Math.PI*2,w=-t*Math.cos(x),_=t*Math.sin(x);h.x=u.x+(w*v.x+_*m.x),h.y=u.y+(w*v.y+_*m.y),h.z=u.z+(w*v.z+_*m.z),d.push(h.x,h.y,h.z),l.subVectors(h,u).normalize(),b.push(l.x,l.y,l.z),f.push(o/a),f.push(s/i)}}for(s=1;s<=a;s++)for(o=1;o<=i;o++){var M=(i+1)*(s-1)+(o-1),S=(i+1)*s+(o-1),T=(i+1)*s+o,E=(i+1)*(s-1)+o;c.push(M,S,E),c.push(S,T,E)}function A(e,t,a,i,n){var r=Math.cos(e),o=Math.sin(e),s=a/t*e,c=Math.cos(s);n.x=i*(2+c)*.5*r,n.y=i*(2+c)*o*.5,n.z=i*Math.sin(s)*.5}this.setIndex(c),this.addAttribute(\"position\",new yi(d,3)),this.addAttribute(\"normal\",new yi(b,3)),this.addAttribute(\"uv\",new yi(f,2))}function qs(e,t,a,i,n){tn.call(this),this.type=\"TorusGeometry\",this.parameters={radius:e,tube:t,radialSegments:a,tubularSegments:i,arc:n},this.fromBufferGeometry(new Ys(e,t,a,i,n)),this.mergeVertices()}function Ys(e,t,a,i,n){Pi.call(this),this.type=\"TorusBufferGeometry\",this.parameters={radius:e,tube:t,radialSegments:a,tubularSegments:i,arc:n},e=e||1,t=t||.4,a=Math.floor(a)||8,i=Math.floor(i)||6,n=n||2*Math.PI;var r,o,s=[],c=[],d=[],b=[],f=new zt,h=new zt,l=new zt;for(r=0;r<=a;r++)for(o=0;o<=i;o++){var u=o/i*n,p=r/a*Math.PI*2;h.x=(e+t*Math.cos(p))*Math.cos(u),h.y=(e+t*Math.cos(p))*Math.sin(u),h.z=t*Math.sin(p),c.push(h.x,h.y,h.z),f.x=e*Math.cos(u),f.y=e*Math.sin(u),l.subVectors(h,f).normalize(),d.push(l.x,l.y,l.z),b.push(o/i),b.push(r/a)}for(r=1;r<=a;r++)for(o=1;o<=i;o++){var m=(i+1)*r+o-1,g=(i+1)*(r-1)+o-1,v=(i+1)*(r-1)+o,y=(i+1)*r+o;s.push(m,g,y),s.push(g,v,y)}this.setIndex(s),this.addAttribute(\"position\",new yi(c,3)),this.addAttribute(\"normal\",new yi(d,3)),this.addAttribute(\"uv\",new yi(b,2))}Ss.prototype=Object.assign(Object.create(ga.prototype),{constructor:Ss,isPoints:!0,raycast:function(e,t){var a=this.geometry,i=this.matrixWorld,n=e.params.Points.threshold;if(null===a.boundingSphere&&a.computeBoundingSphere(),_s.copy(a.boundingSphere),_s.applyMatrix4(i),_s.radius+=n,!1!==e.ray.intersectsSphere(_s)){xs.getInverse(i),ws.copy(e.ray).applyMatrix4(xs);var r=n/((this.scale.x+this.scale.y+this.scale.z)/3),o=r*r;if(a.isBufferGeometry){var s=a.index,c=a.attributes.position.array;if(null!==s)for(var d=s.array,b=0,f=d.length;b<f;b++){var h=d[b];Ms.fromArray(c,3*h),Ts(Ms,h,o,i,e,t,this)}else{b=0;for(var l=c.length/3;b<l;b++)Ms.fromArray(c,3*b),Ts(Ms,b,o,i,e,t,this)}}else{var u=a.vertices;for(b=0,l=u.length;b<l;b++)Ts(u[b],b,o,i,e,t,this)}}},updateMorphTargets:function(){var e,t,a,i=this.geometry;if(i.isBufferGeometry){var n=i.morphAttributes,r=Object.keys(n);if(r.length>0){var o=n[r[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=o.length;e<t;e++)a=o[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=e}}else{var s=i.morphTargets;void 0!==s&&s.length>0&&console.error(\"THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.\")}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Es.prototype=Object.assign(Object.create(Vt.prototype),{constructor:Es,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),As.prototype=Object.create(Vt.prototype),As.prototype.constructor=As,As.prototype.isCompressedTexture=!0,Ls.prototype=Object.create(Vt.prototype),Ls.prototype.constructor=Ls,Ls.prototype.isCanvasTexture=!0,Rs.prototype=Object.create(Vt.prototype),Rs.prototype.constructor=Rs,Rs.prototype.isDepthTexture=!0,Ps.prototype=Object.create(Pi.prototype),Ps.prototype.constructor=Ps,Cs.prototype=Object.create(tn.prototype),Cs.prototype.constructor=Cs,Os.prototype=Object.create(Pi.prototype),Os.prototype.constructor=Os,Is.prototype=Object.create(tn.prototype),Is.prototype.constructor=Is,Ds.prototype=Object.create(Pi.prototype),Ds.prototype.constructor=Ds,Ns.prototype=Object.create(tn.prototype),Ns.prototype.constructor=Ns,zs.prototype=Object.create(Ds.prototype),zs.prototype.constructor=zs,Us.prototype=Object.create(tn.prototype),Us.prototype.constructor=Us,Bs.prototype=Object.create(Ds.prototype),Bs.prototype.constructor=Bs,Fs.prototype=Object.create(tn.prototype),Fs.prototype.constructor=Fs,Gs.prototype=Object.create(Ds.prototype),Gs.prototype.constructor=Gs,Hs.prototype=Object.create(tn.prototype),Hs.prototype.constructor=Hs,Vs.prototype=Object.create(Ds.prototype),Vs.prototype.constructor=Vs,ks.prototype=Object.create(tn.prototype),ks.prototype.constructor=ks,js.prototype=Object.create(Pi.prototype),js.prototype.constructor=js,js.prototype.toJSON=function(){var e=Pi.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e},Ws.prototype=Object.create(tn.prototype),Ws.prototype.constructor=Ws,Xs.prototype=Object.create(Pi.prototype),Xs.prototype.constructor=Xs,qs.prototype=Object.create(tn.prototype),qs.prototype.constructor=qs,Ys.prototype=Object.create(Pi.prototype),Ys.prototype.constructor=Ys;var Zs=function(e,t,a){a=a||2;var i,n,r,o,s,c,d,b=t&&t.length,f=b?t[0]*a:e.length,h=Js(e,0,f,a,!0),l=[];if(!h||h.next===h.prev)return l;if(b&&(h=function(e,t,a,i){var n,r,o,s,c,d=[];for(n=0,r=t.length;n<r;n++)o=t[n]*i,s=n<r-1?t[n+1]*i:e.length,(c=Js(e,o,s,i,!1))===c.next&&(c.steiner=!0),d.push(oc(c));for(d.sort(ic),n=0;n<d.length;n++)nc(d[n],a),a=Ks(a,a.next);return a}(e,t,h,a)),e.length>80*a){i=r=e[0],n=o=e[1];for(var u=a;u<f;u+=a)(s=e[u])<i&&(i=s),(c=e[u+1])<n&&(n=c),s>r&&(r=s),c>o&&(o=c);d=0!==(d=Math.max(r-i,o-n))?1/d:0}return Qs(h,l,a,i,n,d),l};function Js(e,t,a,i,n){var r,o;if(n===function(e,t,a,i){for(var n=0,r=t,o=a-i;r<a;r+=i)n+=(e[o]-e[r])*(e[r+1]+e[o+1]),o=r;return n}(e,t,a,i)>0)for(r=t;r<a;r+=i)o=uc(r,e[r],e[r+1],o);else for(r=a-i;r>=t;r-=i)o=uc(r,e[r],e[r+1],o);return o&&bc(o,o.next)&&(pc(o),o=o.next),o}function Ks(e,t){if(!e)return e;t||(t=e);var a,i=e;do{if(a=!1,i.steiner||!bc(i,i.next)&&0!==dc(i.prev,i,i.next))i=i.next;else{if(pc(i),(i=t=i.prev)===i.next)break;a=!0}}while(a||i!==t);return t}function Qs(e,t,a,i,n,r,o){if(e){!o&&r&&function(e,t,a,i){var n=e;do{null===n.z&&(n.z=rc(n.x,n.y,t,a,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==e);n.prevZ.nextZ=null,n.prevZ=null,function(e){var t,a,i,n,r,o,s,c,d=1;do{for(a=e,e=null,r=null,o=0;a;){for(o++,i=a,s=0,t=0;t<d&&(s++,i=i.nextZ);t++);for(c=d;s>0||c>0&&i;)0!==s&&(0===c||!i||a.z<=i.z)?(n=a,a=a.nextZ,s--):(n=i,i=i.nextZ,c--),r?r.nextZ=n:e=n,n.prevZ=r,r=n;a=i}r.nextZ=null,d*=2}while(o>1)}(n)}(e,i,n,r);for(var s,c,d=e;e.prev!==e.next;)if(s=e.prev,c=e.next,r?ec(e,i,n,r):$s(e))t.push(s.i/a),t.push(e.i/a),t.push(c.i/a),pc(e),e=c.next,d=c.next;else if((e=c)===d){o?1===o?Qs(e=tc(e,t,a),t,a,i,n,r,2):2===o&&ac(e,t,a,i,n,r):Qs(Ks(e),t,a,i,n,r,1);break}}}function $s(e){var t=e.prev,a=e,i=e.next;if(dc(t,a,i)>=0)return!1;for(var n=e.next.next;n!==e.prev;){if(sc(t.x,t.y,a.x,a.y,i.x,i.y,n.x,n.y)&&dc(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function ec(e,t,a,i){var n=e.prev,r=e,o=e.next;if(dc(n,r,o)>=0)return!1;for(var s=n.x<r.x?n.x<o.x?n.x:o.x:r.x<o.x?r.x:o.x,c=n.y<r.y?n.y<o.y?n.y:o.y:r.y<o.y?r.y:o.y,d=n.x>r.x?n.x>o.x?n.x:o.x:r.x>o.x?r.x:o.x,b=n.y>r.y?n.y>o.y?n.y:o.y:r.y>o.y?r.y:o.y,f=rc(s,c,t,a,i),h=rc(d,b,t,a,i),l=e.prevZ,u=e.nextZ;l&&l.z>=f&&u&&u.z<=h;){if(l!==e.prev&&l!==e.next&&sc(n.x,n.y,r.x,r.y,o.x,o.y,l.x,l.y)&&dc(l.prev,l,l.next)>=0)return!1;if(l=l.prevZ,u!==e.prev&&u!==e.next&&sc(n.x,n.y,r.x,r.y,o.x,o.y,u.x,u.y)&&dc(u.prev,u,u.next)>=0)return!1;u=u.nextZ}for(;l&&l.z>=f;){if(l!==e.prev&&l!==e.next&&sc(n.x,n.y,r.x,r.y,o.x,o.y,l.x,l.y)&&dc(l.prev,l,l.next)>=0)return!1;l=l.prevZ}for(;u&&u.z<=h;){if(u!==e.prev&&u!==e.next&&sc(n.x,n.y,r.x,r.y,o.x,o.y,u.x,u.y)&&dc(u.prev,u,u.next)>=0)return!1;u=u.nextZ}return!0}function tc(e,t,a){var i=e;do{var n=i.prev,r=i.next.next;!bc(n,r)&&fc(n,i,i.next,r)&&hc(n,r)&&hc(r,n)&&(t.push(n.i/a),t.push(i.i/a),t.push(r.i/a),pc(i),pc(i.next),i=e=r),i=i.next}while(i!==e);return i}function ac(e,t,a,i,n,r){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&cc(o,s)){var c=lc(o,s);return o=Ks(o,o.next),c=Ks(c,c.next),Qs(o,t,a,i,n,r),void Qs(c,t,a,i,n,r)}s=s.next}o=o.next}while(o!==e)}function ic(e,t){return e.x-t.x}function nc(e,t){if(t=function(e,t){var a,i=t,n=e.x,r=e.y,o=-1/0;do{if(r<=i.y&&r>=i.next.y&&i.next.y!==i.y){var s=i.x+(r-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=n&&s>o){if(o=s,s===n){if(r===i.y)return i;if(r===i.next.y)return i.next}a=i.x<i.next.x?i:i.next}}i=i.next}while(i!==t);if(!a)return null;if(n===o)return a.prev;var c,d=a,b=a.x,f=a.y,h=1/0;i=a.next;for(;i!==d;)n>=i.x&&i.x>=b&&n!==i.x&&sc(r<f?n:o,r,b,f,r<f?o:n,r,i.x,i.y)&&((c=Math.abs(r-i.y)/(n-i.x))<h||c===h&&i.x>a.x)&&hc(i,e)&&(a=i,h=c),i=i.next;return a}(e,t)){var a=lc(t,e);Ks(a,a.next)}}function rc(e,t,a,i,n){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-a)*n)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*n)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function oc(e){var t=e,a=e;do{(t.x<a.x||t.x===a.x&&t.y<a.y)&&(a=t),t=t.next}while(t!==e);return a}function sc(e,t,a,i,n,r,o,s){return(n-o)*(t-s)-(e-o)*(r-s)>=0&&(e-o)*(i-s)-(a-o)*(t-s)>=0&&(a-o)*(r-s)-(n-o)*(i-s)>=0}function cc(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var a=e;do{if(a.i!==e.i&&a.next.i!==e.i&&a.i!==t.i&&a.next.i!==t.i&&fc(a,a.next,e,t))return!0;a=a.next}while(a!==e);return!1}(e,t)&&hc(e,t)&&hc(t,e)&&function(e,t){var a=e,i=!1,n=(e.x+t.x)/2,r=(e.y+t.y)/2;do{a.y>r!=a.next.y>r&&a.next.y!==a.y&&n<(a.next.x-a.x)*(r-a.y)/(a.next.y-a.y)+a.x&&(i=!i),a=a.next}while(a!==e);return i}(e,t)}function dc(e,t,a){return(t.y-e.y)*(a.x-t.x)-(t.x-e.x)*(a.y-t.y)}function bc(e,t){return e.x===t.x&&e.y===t.y}function fc(e,t,a,i){return!!(bc(e,a)&&bc(t,i)||bc(e,i)&&bc(a,t))||dc(e,t,a)>0!=dc(e,t,i)>0&&dc(a,i,e)>0!=dc(a,i,t)>0}function hc(e,t){return dc(e.prev,e,e.next)<0?dc(e,t,e.next)>=0&&dc(e,e.prev,t)>=0:dc(e,t,e.prev)<0||dc(e,e.next,t)<0}function lc(e,t){var a=new mc(e.i,e.x,e.y),i=new mc(t.i,t.x,t.y),n=e.next,r=t.prev;return e.next=t,t.prev=e,a.next=n,n.prev=a,i.next=a,a.prev=i,r.next=i,i.prev=r,i}function uc(e,t,a,i){var n=new mc(e,t,a);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function pc(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function mc(e,t,a){this.i=e,this.x=t,this.y=a,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var gc={area:function(e){for(var t=e.length,a=0,i=t-1,n=0;n<t;i=n++)a+=e[i].x*e[n].y-e[n].x*e[i].y;return.5*a},isClockWise:function(e){return gc.area(e)<0},triangulateShape:function(e,t){var a=[],i=[],n=[];vc(e),yc(a,e);var r=e.length;t.forEach(vc);for(var o=0;o<t.length;o++)i.push(r),r+=t[o].length,yc(a,t[o]);var s=Zs(a,i);for(o=0;o<s.length;o+=3)n.push(s.slice(o,o+3));return n}};function vc(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function yc(e,t){for(var a=0;a<t.length;a++)e.push(t[a].x),e.push(t[a].y)}function xc(e,t){tn.call(this),this.type=\"ExtrudeGeometry\",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new wc(e,t)),this.mergeVertices()}function wc(e,t){Pi.call(this),this.type=\"ExtrudeBufferGeometry\",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var a=this,i=[],n=[],r=0,o=e.length;r<o;r++){s(e[r])}function s(e){var r=[],o=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,c=void 0!==t.depth?t.depth:100,d=void 0===t.bevelEnabled||t.bevelEnabled,b=void 0!==t.bevelThickness?t.bevelThickness:6,f=void 0!==t.bevelSize?t.bevelSize:b-2,h=void 0!==t.bevelOffset?t.bevelOffset:0,l=void 0!==t.bevelSegments?t.bevelSegments:3,u=t.extrudePath,p=void 0!==t.UVGenerator?t.UVGenerator:_c;void 0!==t.amount&&(console.warn(\"THREE.ExtrudeBufferGeometry: amount has been renamed to depth.\"),c=t.amount);var m,g,v,y,x,w,_,M,S=!1;u&&(m=u.getSpacedPoints(s),S=!0,d=!1,g=u.computeFrenetFrames(s,!1),v=new zt,y=new zt,x=new zt),d||(l=0,b=0,f=0,h=0);var T=e.extractPoints(o),E=T.shape,A=T.holes;if(!gc.isClockWise(E))for(E=E.reverse(),_=0,M=A.length;_<M;_++)w=A[_],gc.isClockWise(w)&&(A[_]=w.reverse());var L=gc.triangulateShape(E,A),R=E;for(_=0,M=A.length;_<M;_++)w=A[_],E=E.concat(w);function P(e,t,a){return t||console.error(\"THREE.ExtrudeGeometry: vec does not exist\"),t.clone().multiplyScalar(a).add(e)}var C,O,I,D,N,z,U=E.length,B=L.length;function F(e,t,a){var i,n,r,o=e.x-t.x,s=e.y-t.y,c=a.x-e.x,d=a.y-e.y,b=o*o+s*s,f=o*d-s*c;if(Math.abs(f)>Number.EPSILON){var h=Math.sqrt(b),l=Math.sqrt(c*c+d*d),u=t.x-s/h,p=t.y+o/h,m=((a.x-d/l-u)*d-(a.y+c/l-p)*c)/(o*d-s*c),g=(i=u+o*m-e.x)*i+(n=p+s*m-e.y)*n;if(g<=2)return new Ot(i,n);r=Math.sqrt(g/2)}else{var v=!1;o>Number.EPSILON?c>Number.EPSILON&&(v=!0):o<-Number.EPSILON?c<-Number.EPSILON&&(v=!0):Math.sign(s)===Math.sign(d)&&(v=!0),v?(i=-s,n=o,r=Math.sqrt(b)):(i=o,n=s,r=Math.sqrt(b/2))}return new Ot(i/r,n/r)}for(var G=[],H=0,V=R.length,k=V-1,j=H+1;H<V;H++,k++,j++)k===V&&(k=0),j===V&&(j=0),G[H]=F(R[H],R[k],R[j]);var W,X,q=[],Y=G.concat();for(_=0,M=A.length;_<M;_++){for(w=A[_],W=[],H=0,k=(V=w.length)-1,j=H+1;H<V;H++,k++,j++)k===V&&(k=0),j===V&&(j=0),W[H]=F(w[H],w[k],w[j]);q.push(W),Y=Y.concat(W)}for(C=0;C<l;C++){for(I=C/l,D=b*Math.cos(I*Math.PI/2),O=f*Math.sin(I*Math.PI/2)+h,H=0,V=R.length;H<V;H++)J((N=P(R[H],G[H],O)).x,N.y,-D);for(_=0,M=A.length;_<M;_++)for(w=A[_],W=q[_],H=0,V=w.length;H<V;H++)J((N=P(w[H],W[H],O)).x,N.y,-D)}for(O=f+h,H=0;H<U;H++)N=d?P(E[H],Y[H],O):E[H],S?(y.copy(g.normals[0]).multiplyScalar(N.x),v.copy(g.binormals[0]).multiplyScalar(N.y),x.copy(m[0]).add(y).add(v),J(x.x,x.y,x.z)):J(N.x,N.y,0);for(X=1;X<=s;X++)for(H=0;H<U;H++)N=d?P(E[H],Y[H],O):E[H],S?(y.copy(g.normals[X]).multiplyScalar(N.x),v.copy(g.binormals[X]).multiplyScalar(N.y),x.copy(m[X]).add(y).add(v),J(x.x,x.y,x.z)):J(N.x,N.y,c/s*X);for(C=l-1;C>=0;C--){for(I=C/l,D=b*Math.cos(I*Math.PI/2),O=f*Math.sin(I*Math.PI/2)+h,H=0,V=R.length;H<V;H++)J((N=P(R[H],G[H],O)).x,N.y,c+D);for(_=0,M=A.length;_<M;_++)for(w=A[_],W=q[_],H=0,V=w.length;H<V;H++)N=P(w[H],W[H],O),S?J(N.x,N.y+m[s-1].y,m[s-1].x+D):J(N.x,N.y,c+D)}function Z(e,t){var a,i;for(H=e.length;--H>=0;){a=H,(i=H-1)<0&&(i=e.length-1);var n=0,r=s+2*l;for(n=0;n<r;n++){var o=U*n,c=U*(n+1);Q(t+a+o,t+i+o,t+i+c,t+a+c)}}}function J(e,t,a){r.push(e),r.push(t),r.push(a)}function K(e,t,n){$(e),$(t),$(n);var r=i.length/3,o=p.generateTopUV(a,i,r-3,r-2,r-1);ee(o[0]),ee(o[1]),ee(o[2])}function Q(e,t,n,r){$(e),$(t),$(r),$(t),$(n),$(r);var o=i.length/3,s=p.generateSideWallUV(a,i,o-6,o-3,o-2,o-1);ee(s[0]),ee(s[1]),ee(s[3]),ee(s[1]),ee(s[2]),ee(s[3])}function $(e){i.push(r[3*e+0]),i.push(r[3*e+1]),i.push(r[3*e+2])}function ee(e){n.push(e.x),n.push(e.y)}!function(){var e=i.length/3;if(d){var t=0,n=U*t;for(H=0;H<B;H++)K((z=L[H])[2]+n,z[1]+n,z[0]+n);for(n=U*(t=s+2*l),H=0;H<B;H++)K((z=L[H])[0]+n,z[1]+n,z[2]+n)}else{for(H=0;H<B;H++)K((z=L[H])[2],z[1],z[0]);for(H=0;H<B;H++)K((z=L[H])[0]+U*s,z[1]+U*s,z[2]+U*s)}a.addGroup(e,i.length/3-e,0)}(),function(){var e=i.length/3,t=0;for(Z(R,t),t+=R.length,_=0,M=A.length;_<M;_++)Z(w=A[_],t),t+=w.length;a.addGroup(e,i.length/3-e,1)}()}this.addAttribute(\"position\",new yi(i,3)),this.addAttribute(\"uv\",new yi(n,2)),this.computeVertexNormals()}xc.prototype=Object.create(tn.prototype),xc.prototype.constructor=xc,xc.prototype.toJSON=function(){var e=tn.prototype.toJSON.call(this);return Mc(this.parameters.shapes,this.parameters.options,e)},wc.prototype=Object.create(Pi.prototype),wc.prototype.constructor=wc,wc.prototype.toJSON=function(){var e=Pi.prototype.toJSON.call(this);return Mc(this.parameters.shapes,this.parameters.options,e)};var _c={generateTopUV:function(e,t,a,i,n){var r=t[3*a],o=t[3*a+1],s=t[3*i],c=t[3*i+1],d=t[3*n],b=t[3*n+1];return[new Ot(r,o),new Ot(s,c),new Ot(d,b)]},generateSideWallUV:function(e,t,a,i,n,r){var o=t[3*a],s=t[3*a+1],c=t[3*a+2],d=t[3*i],b=t[3*i+1],f=t[3*i+2],h=t[3*n],l=t[3*n+1],u=t[3*n+2],p=t[3*r],m=t[3*r+1],g=t[3*r+2];return Math.abs(s-b)<.01?[new Ot(o,1-c),new Ot(d,1-f),new Ot(h,1-u),new Ot(p,1-g)]:[new Ot(s,1-c),new Ot(b,1-f),new Ot(l,1-u),new Ot(m,1-g)]}};function Mc(e,t,a){if(a.shapes=[],Array.isArray(e))for(var i=0,n=e.length;i<n;i++){var r=e[i];a.shapes.push(r.uuid)}else a.shapes.push(e.uuid);return void 0!==t.extrudePath&&(a.options.extrudePath=t.extrudePath.toJSON()),a}function Sc(e,t){tn.call(this),this.type=\"TextGeometry\",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new Tc(e,t)),this.mergeVertices()}function Tc(e,t){var a=(t=t||{}).font;if(!a||!a.isFont)return console.error(\"THREE.TextGeometry: font parameter is not an instance of THREE.Font.\"),new tn;var i=a.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),wc.call(this,i,t),this.type=\"TextBufferGeometry\"}function Ec(e,t,a,i,n,r,o){tn.call(this),this.type=\"SphereGeometry\",this.parameters={radius:e,widthSegments:t,heightSegments:a,phiStart:i,phiLength:n,thetaStart:r,thetaLength:o},this.fromBufferGeometry(new Ac(e,t,a,i,n,r,o)),this.mergeVertices()}function Ac(e,t,a,i,n,r,o){Pi.call(this),this.type=\"SphereBufferGeometry\",this.parameters={radius:e,widthSegments:t,heightSegments:a,phiStart:i,phiLength:n,thetaStart:r,thetaLength:o},e=e||1,t=Math.max(3,Math.floor(t)||8),a=Math.max(2,Math.floor(a)||6),i=void 0!==i?i:0,n=void 0!==n?n:2*Math.PI,r=void 0!==r?r:0,o=void 0!==o?o:Math.PI;var s,c,d=Math.min(r+o,Math.PI),b=0,f=[],h=new zt,l=new zt,u=[],p=[],m=[],g=[];for(c=0;c<=a;c++){var v=[],y=c/a,x=0;for(0==c&&0==r?x=.5/t:c==a&&d==Math.PI&&(x=-.5/t),s=0;s<=t;s++){var w=s/t;h.x=-e*Math.cos(i+w*n)*Math.sin(r+y*o),h.y=e*Math.cos(r+y*o),h.z=e*Math.sin(i+w*n)*Math.sin(r+y*o),p.push(h.x,h.y,h.z),l.copy(h).normalize(),m.push(l.x,l.y,l.z),g.push(w+x,1-y),v.push(b++)}f.push(v)}for(c=0;c<a;c++)for(s=0;s<t;s++){var _=f[c][s+1],M=f[c][s],S=f[c+1][s],T=f[c+1][s+1];(0!==c||r>0)&&u.push(_,M,T),(c!==a-1||d<Math.PI)&&u.push(M,S,T)}this.setIndex(u),this.addAttribute(\"position\",new yi(p,3)),this.addAttribute(\"normal\",new yi(m,3)),this.addAttribute(\"uv\",new yi(g,2))}function Lc(e,t,a,i,n,r){tn.call(this),this.type=\"RingGeometry\",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:a,phiSegments:i,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new Rc(e,t,a,i,n,r)),this.mergeVertices()}function Rc(e,t,a,i,n,r){Pi.call(this),this.type=\"RingBufferGeometry\",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:a,phiSegments:i,thetaStart:n,thetaLength:r},e=e||.5,t=t||1,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI,a=void 0!==a?Math.max(3,a):8;var o,s,c,d=[],b=[],f=[],h=[],l=e,u=(t-e)/(i=void 0!==i?Math.max(1,i):1),p=new zt,m=new Ot;for(s=0;s<=i;s++){for(c=0;c<=a;c++)o=n+c/a*r,p.x=l*Math.cos(o),p.y=l*Math.sin(o),b.push(p.x,p.y,p.z),f.push(0,0,1),m.x=(p.x/t+1)/2,m.y=(p.y/t+1)/2,h.push(m.x,m.y);l+=u}for(s=0;s<i;s++){var g=s*(a+1);for(c=0;c<a;c++){var v=o=c+g,y=o+a+1,x=o+a+2,w=o+1;d.push(v,y,w),d.push(y,x,w)}}this.setIndex(d),this.addAttribute(\"position\",new yi(b,3)),this.addAttribute(\"normal\",new yi(f,3)),this.addAttribute(\"uv\",new yi(h,2))}function Pc(e,t,a,i){tn.call(this),this.type=\"LatheGeometry\",this.parameters={points:e,segments:t,phiStart:a,phiLength:i},this.fromBufferGeometry(new Cc(e,t,a,i)),this.mergeVertices()}function Cc(e,t,a,i){Pi.call(this),this.type=\"LatheBufferGeometry\",this.parameters={points:e,segments:t,phiStart:a,phiLength:i},t=Math.floor(t)||12,a=a||0,i=i||2*Math.PI,i=Ct.clamp(i,0,2*Math.PI);var n,r,o,s=[],c=[],d=[],b=1/t,f=new zt,h=new Ot;for(r=0;r<=t;r++){var l=a+r*b*i,u=Math.sin(l),p=Math.cos(l);for(o=0;o<=e.length-1;o++)f.x=e[o].x*u,f.y=e[o].y,f.z=e[o].x*p,c.push(f.x,f.y,f.z),h.x=r/t,h.y=o/(e.length-1),d.push(h.x,h.y)}for(r=0;r<t;r++)for(o=0;o<e.length-1;o++){var m=n=o+r*e.length,g=n+e.length,v=n+e.length+1,y=n+1;s.push(m,g,y),s.push(g,v,y)}if(this.setIndex(s),this.addAttribute(\"position\",new yi(c,3)),this.addAttribute(\"uv\",new yi(d,2)),this.computeVertexNormals(),i===2*Math.PI){var x=this.attributes.normal.array,w=new zt,_=new zt,M=new zt;for(n=t*e.length*3,r=0,o=0;r<e.length;r++,o+=3)w.x=x[o+0],w.y=x[o+1],w.z=x[o+2],_.x=x[n+o+0],_.y=x[n+o+1],_.z=x[n+o+2],M.addVectors(w,_).normalize(),x[o+0]=x[n+o+0]=M.x,x[o+1]=x[n+o+1]=M.y,x[o+2]=x[n+o+2]=M.z}}function Oc(e,t){tn.call(this),this.type=\"ShapeGeometry\",\"object\"==typeof t&&(console.warn(\"THREE.ShapeGeometry: Options parameter has been removed.\"),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new Ic(e,t)),this.mergeVertices()}function Ic(e,t){Pi.call(this),this.type=\"ShapeBufferGeometry\",this.parameters={shapes:e,curveSegments:t},t=t||12;var a=[],i=[],n=[],r=[],o=0,s=0;if(!1===Array.isArray(e))d(e);else for(var c=0;c<e.length;c++)d(e[c]),this.addGroup(o,s,c),o+=s,s=0;function d(e){var o,c,d,b=i.length/3,f=e.extractPoints(t),h=f.shape,l=f.holes;for(!1===gc.isClockWise(h)&&(h=h.reverse()),o=0,c=l.length;o<c;o++)d=l[o],!0===gc.isClockWise(d)&&(l[o]=d.reverse());var u=gc.triangulateShape(h,l);for(o=0,c=l.length;o<c;o++)d=l[o],h=h.concat(d);for(o=0,c=h.length;o<c;o++){var p=h[o];i.push(p.x,p.y,0),n.push(0,0,1),r.push(p.x,p.y)}for(o=0,c=u.length;o<c;o++){var m=u[o],g=m[0]+b,v=m[1]+b,y=m[2]+b;a.push(g,v,y),s+=3}}this.setIndex(a),this.addAttribute(\"position\",new yi(i,3)),this.addAttribute(\"normal\",new yi(n,3)),this.addAttribute(\"uv\",new yi(r,2))}function Dc(e,t){if(t.shapes=[],Array.isArray(e))for(var a=0,i=e.length;a<i;a++){var n=e[a];t.shapes.push(n.uuid)}else t.shapes.push(e.uuid);return t}function Nc(e,t){Pi.call(this),this.type=\"EdgesGeometry\",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var a,i,n,r,o=[],s=Math.cos(Ct.DEG2RAD*t),c=[0,0],d={},b=[\"a\",\"b\",\"c\"];e.isBufferGeometry?(r=new tn).fromBufferGeometry(e):r=e.clone(),r.mergeVertices(),r.computeFaceNormals();for(var f=r.vertices,h=r.faces,l=0,u=h.length;l<u;l++)for(var p=h[l],m=0;m<3;m++)a=p[b[m]],i=p[b[(m+1)%3]],c[0]=Math.min(a,i),c[1]=Math.max(a,i),void 0===d[n=c[0]+\",\"+c[1]]?d[n]={index1:c[0],index2:c[1],face1:l,face2:void 0}:d[n].face2=l;for(n in d){var g=d[n];if(void 0===g.face2||h[g.face1].normal.dot(h[g.face2].normal)<=s){var v=f[g.index1];o.push(v.x,v.y,v.z),v=f[g.index2],o.push(v.x,v.y,v.z)}}this.addAttribute(\"position\",new yi(o,3))}function zc(e,t,a,i,n,r,o,s){tn.call(this),this.type=\"CylinderGeometry\",this.parameters={radiusTop:e,radiusBottom:t,height:a,radialSegments:i,heightSegments:n,openEnded:r,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new Uc(e,t,a,i,n,r,o,s)),this.mergeVertices()}function Uc(e,t,a,i,n,r,o,s){Pi.call(this),this.type=\"CylinderBufferGeometry\",this.parameters={radiusTop:e,radiusBottom:t,height:a,radialSegments:i,heightSegments:n,openEnded:r,thetaStart:o,thetaLength:s};var c=this;e=void 0!==e?e:1,t=void 0!==t?t:1,a=a||1,i=Math.floor(i)||8,n=Math.floor(n)||1,r=void 0!==r&&r,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI;var d=[],b=[],f=[],h=[],l=0,u=[],p=a/2,m=0;function g(a){var n,r,u,g=new Ot,v=new zt,y=0,x=!0===a?e:t,w=!0===a?1:-1;for(r=l,n=1;n<=i;n++)b.push(0,p*w,0),f.push(0,w,0),h.push(.5,.5),l++;for(u=l,n=0;n<=i;n++){var _=n/i*s+o,M=Math.cos(_),S=Math.sin(_);v.x=x*S,v.y=p*w,v.z=x*M,b.push(v.x,v.y,v.z),f.push(0,w,0),g.x=.5*M+.5,g.y=.5*S*w+.5,h.push(g.x,g.y),l++}for(n=0;n<i;n++){var T=r+n,E=u+n;!0===a?d.push(E,E+1,T):d.push(E+1,E,T),y+=3}c.addGroup(m,y,!0===a?1:2),m+=y}!function(){var r,g,v=new zt,y=new zt,x=0,w=(t-e)/a;for(g=0;g<=n;g++){var _=[],M=g/n,S=M*(t-e)+e;for(r=0;r<=i;r++){var T=r/i,E=T*s+o,A=Math.sin(E),L=Math.cos(E);y.x=S*A,y.y=-M*a+p,y.z=S*L,b.push(y.x,y.y,y.z),v.set(A,w,L).normalize(),f.push(v.x,v.y,v.z),h.push(T,1-M),_.push(l++)}u.push(_)}for(r=0;r<i;r++)for(g=0;g<n;g++){var R=u[g][r],P=u[g+1][r],C=u[g+1][r+1],O=u[g][r+1];d.push(R,P,O),d.push(P,C,O),x+=6}c.addGroup(m,x,0),m+=x}(),!1===r&&(e>0&&g(!0),t>0&&g(!1)),this.setIndex(d),this.addAttribute(\"position\",new yi(b,3)),this.addAttribute(\"normal\",new yi(f,3)),this.addAttribute(\"uv\",new yi(h,2))}function Bc(e,t,a,i,n,r,o){zc.call(this,0,e,t,a,i,n,r,o),this.type=\"ConeGeometry\",this.parameters={radius:e,height:t,radialSegments:a,heightSegments:i,openEnded:n,thetaStart:r,thetaLength:o}}function Fc(e,t,a,i,n,r,o){Uc.call(this,0,e,t,a,i,n,r,o),this.type=\"ConeBufferGeometry\",this.parameters={radius:e,height:t,radialSegments:a,heightSegments:i,openEnded:n,thetaStart:r,thetaLength:o}}function Gc(e,t,a,i){tn.call(this),this.type=\"CircleGeometry\",this.parameters={radius:e,segments:t,thetaStart:a,thetaLength:i},this.fromBufferGeometry(new Hc(e,t,a,i)),this.mergeVertices()}function Hc(e,t,a,i){Pi.call(this),this.type=\"CircleBufferGeometry\",this.parameters={radius:e,segments:t,thetaStart:a,thetaLength:i},e=e||1,t=void 0!==t?Math.max(3,t):8,a=void 0!==a?a:0,i=void 0!==i?i:2*Math.PI;var n,r,o=[],s=[],c=[],d=[],b=new zt,f=new Ot;for(s.push(0,0,0),c.push(0,0,1),d.push(.5,.5),r=0,n=3;r<=t;r++,n+=3){var h=a+r/t*i;b.x=e*Math.cos(h),b.y=e*Math.sin(h),s.push(b.x,b.y,b.z),c.push(0,0,1),f.x=(s[n]/e+1)/2,f.y=(s[n+1]/e+1)/2,d.push(f.x,f.y)}for(n=1;n<=t;n++)o.push(n,n+1,0);this.setIndex(o),this.addAttribute(\"position\",new yi(s,3)),this.addAttribute(\"normal\",new yi(c,3)),this.addAttribute(\"uv\",new yi(d,2))}Sc.prototype=Object.create(tn.prototype),Sc.prototype.constructor=Sc,Tc.prototype=Object.create(wc.prototype),Tc.prototype.constructor=Tc,Ec.prototype=Object.create(tn.prototype),Ec.prototype.constructor=Ec,Ac.prototype=Object.create(Pi.prototype),Ac.prototype.constructor=Ac,Lc.prototype=Object.create(tn.prototype),Lc.prototype.constructor=Lc,Rc.prototype=Object.create(Pi.prototype),Rc.prototype.constructor=Rc,Pc.prototype=Object.create(tn.prototype),Pc.prototype.constructor=Pc,Cc.prototype=Object.create(Pi.prototype),Cc.prototype.constructor=Cc,Oc.prototype=Object.create(tn.prototype),Oc.prototype.constructor=Oc,Oc.prototype.toJSON=function(){var e=tn.prototype.toJSON.call(this);return Dc(this.parameters.shapes,e)},Ic.prototype=Object.create(Pi.prototype),Ic.prototype.constructor=Ic,Ic.prototype.toJSON=function(){var e=Pi.prototype.toJSON.call(this);return Dc(this.parameters.shapes,e)},Nc.prototype=Object.create(Pi.prototype),Nc.prototype.constructor=Nc,zc.prototype=Object.create(tn.prototype),zc.prototype.constructor=zc,Uc.prototype=Object.create(Pi.prototype),Uc.prototype.constructor=Uc,Bc.prototype=Object.create(zc.prototype),Bc.prototype.constructor=Bc,Fc.prototype=Object.create(Uc.prototype),Fc.prototype.constructor=Fc,Gc.prototype=Object.create(tn.prototype),Gc.prototype.constructor=Gc,Hc.prototype=Object.create(Pi.prototype),Hc.prototype.constructor=Hc;var Vc=Object.freeze({WireframeGeometry:Ps,ParametricGeometry:Cs,ParametricBufferGeometry:Os,TetrahedronGeometry:Ns,TetrahedronBufferGeometry:zs,OctahedronGeometry:Us,OctahedronBufferGeometry:Bs,IcosahedronGeometry:Fs,IcosahedronBufferGeometry:Gs,DodecahedronGeometry:Hs,DodecahedronBufferGeometry:Vs,PolyhedronGeometry:Is,PolyhedronBufferGeometry:Ds,TubeGeometry:ks,TubeBufferGeometry:js,TorusKnotGeometry:Ws,TorusKnotBufferGeometry:Xs,TorusGeometry:qs,TorusBufferGeometry:Ys,TextGeometry:Sc,TextBufferGeometry:Tc,SphereGeometry:Ec,SphereBufferGeometry:Ac,RingGeometry:Lc,RingBufferGeometry:Rc,PlaneGeometry:Rn,PlaneBufferGeometry:Pn,LatheGeometry:Pc,LatheBufferGeometry:Cc,ShapeGeometry:Oc,ShapeBufferGeometry:Ic,ExtrudeGeometry:xc,ExtrudeBufferGeometry:wc,EdgesGeometry:Nc,ConeGeometry:Bc,ConeBufferGeometry:Fc,CylinderGeometry:zc,CylinderBufferGeometry:Uc,CircleGeometry:Gc,CircleBufferGeometry:Hc,BoxGeometry:class extends tn{constructor(e,t,a,i,n,r){super(),this.type=\"BoxGeometry\",this.parameters={width:e,height:t,depth:a,widthSegments:i,heightSegments:n,depthSegments:r},this.fromBufferGeometry(new an(e,t,a,i,n,r)),this.mergeVertices()}},BoxBufferGeometry:an});function kc(e){di.call(this),this.type=\"ShadowMaterial\",this.color=new ii(0),this.transparent=!0,this.setValues(e)}function jc(e){dn.call(this,e),this.type=\"RawShaderMaterial\"}function Wc(e){di.call(this),this.defines={STANDARD:\"\"},this.type=\"MeshStandardMaterial\",this.color=new ii(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ii(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=St,this.normalScale=new Ot(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\"round\",this.wireframeLinejoin=\"round\",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Xc(e){Wc.call(this),this.defines={STANDARD:\"\",PHYSICAL:\"\"},this.type=\"MeshPhysicalMaterial\",this.reflectivity=.5,this.clearcoat=0,this.clearcoatRoughness=0,this.sheen=null,this.clearcoatNormalScale=new Ot(1,1),this.clearcoatNormalMap=null,this.transparency=0,this.setValues(e)}function qc(e){di.call(this),this.type=\"MeshPhongMaterial\",this.color=new ii(16777215),this.specular=new ii(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ii(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=St,this.normalScale=new Ot(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Z,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\"round\",this.wireframeLinejoin=\"round\",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Yc(e){qc.call(this),this.defines={TOON:\"\"},this.type=\"MeshToonMaterial\",this.gradientMap=null,this.setValues(e)}function Zc(e){di.call(this),this.type=\"MeshNormalMaterial\",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=St,this.normalScale=new Ot(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Jc(e){di.call(this),this.type=\"MeshLambertMaterial\",this.color=new ii(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ii(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Z,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\"round\",this.wireframeLinejoin=\"round\",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Kc(e){di.call(this),this.defines={MATCAP:\"\"},this.type=\"MeshMatcapMaterial\",this.color=new ii(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=St,this.normalScale=new Ot(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Qc(e){cs.call(this),this.type=\"LineDashedMaterial\",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}kc.prototype=Object.create(di.prototype),kc.prototype.constructor=kc,kc.prototype.isShadowMaterial=!0,kc.prototype.copy=function(e){return di.prototype.copy.call(this,e),this.color.copy(e.color),this},jc.prototype=Object.create(dn.prototype),jc.prototype.constructor=jc,jc.prototype.isRawShaderMaterial=!0,Wc.prototype=Object.create(di.prototype),Wc.prototype.constructor=Wc,Wc.prototype.isMeshStandardMaterial=!0,Wc.prototype.copy=function(e){return di.prototype.copy.call(this,e),this.defines={STANDARD:\"\"},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Xc.prototype=Object.create(Wc.prototype),Xc.prototype.constructor=Xc,Xc.prototype.isMeshPhysicalMaterial=!0,Xc.prototype.copy=function(e){return Wc.prototype.copy.call(this,e),this.defines={STANDARD:\"\",PHYSICAL:\"\"},this.reflectivity=e.reflectivity,this.clearcoat=e.clearcoat,this.clearcoatRoughness=e.clearcoatRoughness,e.sheen?this.sheen=(this.sheen||new ii).copy(e.sheen):this.sheen=null,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.transparency=e.transparency,this},qc.prototype=Object.create(di.prototype),qc.prototype.constructor=qc,qc.prototype.isMeshPhongMaterial=!0,qc.prototype.copy=function(e){return di.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Yc.prototype=Object.create(qc.prototype),Yc.prototype.constructor=Yc,Yc.prototype.isMeshToonMaterial=!0,Yc.prototype.copy=function(e){return qc.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},Zc.prototype=Object.create(di.prototype),Zc.prototype.constructor=Zc,Zc.prototype.isMeshNormalMaterial=!0,Zc.prototype.copy=function(e){return di.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Jc.prototype=Object.create(di.prototype),Jc.prototype.constructor=Jc,Jc.prototype.isMeshLambertMaterial=!0,Jc.prototype.copy=function(e){return di.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Kc.prototype=Object.create(di.prototype),Kc.prototype.constructor=Kc,Kc.prototype.isMeshMatcapMaterial=!0,Kc.prototype.copy=function(e){return di.prototype.copy.call(this,e),this.defines={MATCAP:\"\"},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Qc.prototype=Object.create(cs.prototype),Qc.prototype.constructor=Qc,Qc.prototype.isLineDashedMaterial=!0,Qc.prototype.copy=function(e){return cs.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var $c=Object.freeze({ShadowMaterial:kc,SpriteMaterial:Bo,RawShaderMaterial:jc,ShaderMaterial:dn,PointsMaterial:ys,MeshPhysicalMaterial:Xc,MeshStandardMaterial:Wc,MeshPhongMaterial:qc,MeshToonMaterial:Yc,MeshNormalMaterial:Zc,MeshLambertMaterial:Jc,MeshDepthMaterial:po,MeshDistanceMaterial:mo,MeshBasicMaterial:bi,MeshMatcapMaterial:Kc,LineDashedMaterial:Qc,LineBasicMaterial:cs,Material:di}),ed={arraySlice:function(e,t,a){return ed.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==a?a:e.length)):e.slice(t,a)},convertArray:function(e,t,a){return!e||!a&&e.constructor===t?e:\"number\"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,a=new Array(t),i=0;i!==t;++i)a[i]=i;return a.sort((function(t,a){return e[t]-e[a]})),a},sortedArray:function(e,t,a){for(var i=e.length,n=new e.constructor(i),r=0,o=0;o!==i;++r)for(var s=a[r]*t,c=0;c!==t;++c)n[o++]=e[s+c];return n},flattenJSON:function(e,t,a,i){for(var n=1,r=e[0];void 0!==r&&void 0===r[i];)r=e[n++];if(void 0!==r){var o=r[i];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=r[i])&&(t.push(r.time),a.push.apply(a,o)),r=e[n++]}while(void 0!==r);else if(void 0!==o.toArray)do{void 0!==(o=r[i])&&(t.push(r.time),o.toArray(a,a.length)),r=e[n++]}while(void 0!==r);else do{void 0!==(o=r[i])&&(t.push(r.time),a.push(o)),r=e[n++]}while(void 0!==r)}}};function td(e,t,a,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(a),this.sampleValues=t,this.valueSize=a}function ad(e,t,a,i){td.call(this,e,t,a,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function id(e,t,a,i){td.call(this,e,t,a,i)}function nd(e,t,a,i){td.call(this,e,t,a,i)}function rd(e,t,a,i){if(void 0===e)throw new Error(\"THREE.KeyframeTrack: track name is undefined\");if(void 0===t||0===t.length)throw new Error(\"THREE.KeyframeTrack: no keyframes in track named \"+e);this.name=e,this.times=ed.convertArray(t,this.TimeBufferType),this.values=ed.convertArray(a,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}function od(e,t,a){rd.call(this,e,t,a)}function sd(e,t,a,i){rd.call(this,e,t,a,i)}function cd(e,t,a,i){rd.call(this,e,t,a,i)}function dd(e,t,a,i){td.call(this,e,t,a,i)}function bd(e,t,a,i){rd.call(this,e,t,a,i)}function fd(e,t,a,i){rd.call(this,e,t,a,i)}function hd(e,t,a,i){rd.call(this,e,t,a,i)}function ld(e,t,a){this.name=e,this.tracks=a,this.duration=void 0!==t?t:-1,this.uuid=Ct.generateUUID(),this.duration<0&&this.resetDuration()}function ud(e){if(void 0===e.type)throw new Error(\"THREE.KeyframeTrack: track type undefined, can not parse\");var t=function(e){switch(e.toLowerCase()){case\"scalar\":case\"double\":case\"float\":case\"number\":case\"integer\":return cd;case\"vector\":case\"vector2\":case\"vector3\":case\"vector4\":return hd;case\"color\":return sd;case\"quaternion\":return bd;case\"bool\":case\"boolean\":return od;case\"string\":return fd}throw new Error(\"THREE.KeyframeTrack: Unsupported typeName: \"+e)}(e.type);if(void 0===e.times){var a=[],i=[];ed.flattenJSON(e.keys,a,i,\"value\"),e.times=a,e.values=i}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(td.prototype,{evaluate:function(e){var t=this.parameterPositions,a=this._cachedIndex,i=t[a],n=t[a-1];e:{t:{var r;a:{i:if(!(e<i)){for(var o=a+2;;){if(void 0===i){if(e<n)break i;return a=t.length,this._cachedIndex=a,this.afterEnd_(a-1,e,n)}if(a===o)break;if(n=i,e<(i=t[++a]))break t}r=t.length;break a}if(e>=n)break e;var s=t[1];e<s&&(a=2,n=s);for(o=a-2;;){if(void 0===n)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(a===o)break;if(i=n,e>=(n=t[--a-1]))break t}r=a,a=0}for(;a<r;){var c=a+r>>>1;e<t[c]?r=c:a=c+1}if(i=t[a],void 0===(n=t[a-1]))return this._cachedIndex=0,this.beforeStart_(0,e,i);if(void 0===i)return a=t.length,this._cachedIndex=a,this.afterEnd_(a-1,n,e)}this._cachedIndex=a,this.intervalChanged_(a,n,i)}return this.interpolate_(a,n,e,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,a=this.sampleValues,i=this.valueSize,n=e*i,r=0;r!==i;++r)t[r]=a[n+r];return t},interpolate_:function(){throw new Error(\"call to abstract method\")},intervalChanged_:function(){}}),\n//!\\ DECLARE ALIAS AFTER assign prototype !\nObject.assign(td.prototype,{beforeStart_:td.prototype.copySampleValue_,afterEnd_:td.prototype.copySampleValue_}),ad.prototype=Object.assign(Object.create(td.prototype),{constructor:ad,DefaultSettings_:{endingStart:bt,endingEnd:bt},intervalChanged_:function(e,t,a){var i=this.parameterPositions,n=e-2,r=e+1,o=i[n],s=i[r];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:n=e,o=2*t-a;break;case 2402:o=t+i[n=i.length-2]-i[n+1];break;default:n=e,o=a}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:r=e,s=2*a-t;break;case 2402:r=1,s=a+i[1]-i[0];break;default:r=e-1,s=t}var c=.5*(a-t),d=this.valueSize;this._weightPrev=c/(t-o),this._weightNext=c/(s-a),this._offsetPrev=n*d,this._offsetNext=r*d},interpolate_:function(e,t,a,i){for(var n=this.resultBuffer,r=this.sampleValues,o=this.valueSize,s=e*o,c=s-o,d=this._offsetPrev,b=this._offsetNext,f=this._weightPrev,h=this._weightNext,l=(a-t)/(i-t),u=l*l,p=u*l,m=-f*p+2*f*u-f*l,g=(1+f)*p+(-1.5-2*f)*u+(-.5+f)*l+1,v=(-1-h)*p+(1.5+h)*u+.5*l,y=h*p-h*u,x=0;x!==o;++x)n[x]=m*r[d+x]+g*r[c+x]+v*r[s+x]+y*r[b+x];return n}}),id.prototype=Object.assign(Object.create(td.prototype),{constructor:id,interpolate_:function(e,t,a,i){for(var n=this.resultBuffer,r=this.sampleValues,o=this.valueSize,s=e*o,c=s-o,d=(a-t)/(i-t),b=1-d,f=0;f!==o;++f)n[f]=r[c+f]*b+r[s+f]*d;return n}}),nd.prototype=Object.assign(Object.create(td.prototype),{constructor:nd,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(rd,{toJSON:function(e){var t,a=e.constructor;if(void 0!==a.toJSON)t=a.toJSON(e);else{t={name:e.name,times:ed.convertArray(e.times,Array),values:ed.convertArray(e.values,Array)};var i=e.getInterpolation();i!==e.DefaultInterpolation&&(t.interpolation=i)}return t.type=e.ValueTypeName,t}}),Object.assign(rd.prototype,{constructor:rd,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(e){return new nd(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new id(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new ad(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var a=\"unsupported interpolation for \"+this.ValueTypeName+\" keyframe track named \"+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(a);this.setInterpolation(this.DefaultInterpolation)}return console.warn(\"THREE.KeyframeTrack:\",a),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,a=0,i=t.length;a!==i;++a)t[a]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,a=0,i=t.length;a!==i;++a)t[a]*=e;return this},trim:function(e,t){for(var a=this.times,i=a.length,n=0,r=i-1;n!==i&&a[n]<e;)++n;for(;-1!==r&&a[r]>t;)--r;if(++r,0!==n||r!==i){n>=r&&(n=(r=Math.max(r,1))-1);var o=this.getValueSize();this.times=ed.arraySlice(a,n,r),this.values=ed.arraySlice(this.values,n*o,r*o)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error(\"THREE.KeyframeTrack: Invalid value size in track.\",this),e=!1);var a=this.times,i=this.values,n=a.length;0===n&&(console.error(\"THREE.KeyframeTrack: Track is empty.\",this),e=!1);for(var r=null,o=0;o!==n;o++){var s=a[o];if(\"number\"==typeof s&&isNaN(s)){console.error(\"THREE.KeyframeTrack: Time is not a valid number.\",this,o,s),e=!1;break}if(null!==r&&r>s){console.error(\"THREE.KeyframeTrack: Out of order keys.\",this,o,s,r),e=!1;break}r=s}if(void 0!==i&&ed.isTypedArray(i)){o=0;for(var c=i.length;o!==c;++o){var d=i[o];if(isNaN(d)){console.error(\"THREE.KeyframeTrack: Value is not a valid number.\",this,o,d),e=!1;break}}}return e},optimize:function(){for(var e=this.times,t=this.values,a=this.getValueSize(),i=2302===this.getInterpolation(),n=1,r=e.length-1,o=1;o<r;++o){var s=!1,c=e[o];if(c!==e[o+1]&&(1!==o||c!==c[0]))if(i)s=!0;else for(var d=o*a,b=d-a,f=d+a,h=0;h!==a;++h){var l=t[d+h];if(l!==t[b+h]||l!==t[f+h]){s=!0;break}}if(s){if(o!==n){e[n]=e[o];var u=o*a,p=n*a;for(h=0;h!==a;++h)t[p+h]=t[u+h]}++n}}if(r>0){e[n]=e[r];for(u=r*a,p=n*a,h=0;h!==a;++h)t[p+h]=t[u+h];++n}return n!==e.length&&(this.times=ed.arraySlice(e,0,n),this.values=ed.arraySlice(t,0,n*a)),this},clone:function(){var e=ed.arraySlice(this.times,0),t=ed.arraySlice(this.values,0),a=new(0,this.constructor)(this.name,e,t);return a.createInterpolant=this.createInterpolant,a}}),od.prototype=Object.assign(Object.create(rd.prototype),{constructor:od,ValueTypeName:\"bool\",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),sd.prototype=Object.assign(Object.create(rd.prototype),{constructor:sd,ValueTypeName:\"color\"}),cd.prototype=Object.assign(Object.create(rd.prototype),{constructor:cd,ValueTypeName:\"number\"}),dd.prototype=Object.assign(Object.create(td.prototype),{constructor:dd,interpolate_:function(e,t,a,i){for(var n=this.resultBuffer,r=this.sampleValues,o=this.valueSize,s=e*o,c=(a-t)/(i-t),d=s+o;s!==d;s+=4)It.slerpFlat(n,0,r,s-o,r,s,c);return n}}),bd.prototype=Object.assign(Object.create(rd.prototype),{constructor:bd,ValueTypeName:\"quaternion\",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(e){return new dd(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),fd.prototype=Object.assign(Object.create(rd.prototype),{constructor:fd,ValueTypeName:\"string\",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),hd.prototype=Object.assign(Object.create(rd.prototype),{constructor:hd,ValueTypeName:\"vector\"}),Object.assign(ld,{parse:function(e){for(var t=[],a=e.tracks,i=1/(e.fps||1),n=0,r=a.length;n!==r;++n)t.push(ud(a[n]).scale(i));return new ld(e.name,e.duration,t)},toJSON:function(e){for(var t=[],a=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid},n=0,r=a.length;n!==r;++n)t.push(rd.toJSON(a[n]));return i},CreateFromMorphTargetSequence:function(e,t,a,i){for(var n=t.length,r=[],o=0;o<n;o++){var s=[],c=[];s.push((o+n-1)%n,o,(o+1)%n),c.push(0,1,0);var d=ed.getKeyframeOrder(s);s=ed.sortedArray(s,1,d),c=ed.sortedArray(c,1,d),i||0!==s[0]||(s.push(n),c.push(c[0])),r.push(new cd(\".morphTargetInfluences[\"+t[o].name+\"]\",s,c).scale(1/a))}return new ld(e,-1,r)},findByName:function(e,t){var a=e;if(!Array.isArray(e)){var i=e;a=i.geometry&&i.geometry.animations||i.animations}for(var n=0;n<a.length;n++)if(a[n].name===t)return a[n];return null},CreateClipsFromMorphTargetSequences:function(e,t,a){for(var i={},n=/^([\\w-]*?)([\\d]+)$/,r=0,o=e.length;r<o;r++){var s=e[r],c=s.name.match(n);if(c&&c.length>1){var d=i[f=c[1]];d||(i[f]=d=[]),d.push(s)}}var b=[];for(var f in i)b.push(ld.CreateFromMorphTargetSequence(f,i[f],t,a));return b},parseAnimation:function(e,t){if(!e)return console.error(\"THREE.AnimationClip: No animation in JSONLoader data.\"),null;for(var a=function(e,t,a,i,n){if(0!==a.length){var r=[],o=[];ed.flattenJSON(a,r,o,i),0!==r.length&&n.push(new e(t,r,o))}},i=[],n=e.name||\"default\",r=e.length||-1,o=e.fps||30,s=e.hierarchy||[],c=0;c<s.length;c++){var d=s[c].keys;if(d&&0!==d.length)if(d[0].morphTargets){for(var b={},f=0;f<d.length;f++)if(d[f].morphTargets)for(var h=0;h<d[f].morphTargets.length;h++)b[d[f].morphTargets[h]]=-1;for(var l in b){var u=[],p=[];for(h=0;h!==d[f].morphTargets.length;++h){var m=d[f];u.push(m.time),p.push(m.morphTarget===l?1:0)}i.push(new cd(\".morphTargetInfluence[\"+l+\"]\",u,p))}r=b.length*(o||1)}else{var g=\".bones[\"+t[c].name+\"]\";a(hd,g+\".position\",d,\"pos\",i),a(bd,g+\".quaternion\",d,\"rot\",i),a(hd,g+\".scale\",d,\"scl\",i)}}return 0===i.length?null:new ld(n,r,i)}}),Object.assign(ld.prototype,{resetDuration:function(){for(var e=0,t=0,a=this.tracks.length;t!==a;++t){var i=this.tracks[t];e=Math.max(e,i.times[i.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new ld(this.name,this.duration,e)}});var pd={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function md(e,t,a){var i=this,n=!1,r=0,o=0,s=void 0,c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=a,this.itemStart=function(e){o++,!1===n&&void 0!==i.onStart&&i.onStart(e,r,o),n=!0},this.itemEnd=function(e){r++,void 0!==i.onProgress&&i.onProgress(e,r,o),r===o&&(n=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this},this.addHandler=function(e,t){return c.push(e,t),this},this.removeHandler=function(e){var t=c.indexOf(e);return-1!==t&&c.splice(t,2),this},this.getHandler=function(e){for(var t=0,a=c.length;t<a;t+=2){var i=c[t],n=c[t+1];if(i.test(e))return n}return null}}var gd=new md;function vd(e){this.manager=void 0!==e?e:gd,this.crossOrigin=\"anonymous\",this.path=\"\",this.resourcePath=\"\"}Object.assign(vd.prototype,{load:function(){},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this}});var yd={};function xd(e){vd.call(this,e)}function wd(e){vd.call(this,e)}function _d(e){vd.call(this,e)}function Md(e){vd.call(this,e)}function Sd(e){vd.call(this,e)}function Td(e){vd.call(this,e)}function Ed(e){vd.call(this,e)}function Ad(){this.type=\"Curve\",this.arcLengthDivisions=200}function Ld(e,t,a,i,n,r,o,s){Ad.call(this),this.type=\"EllipseCurve\",this.aX=e||0,this.aY=t||0,this.xRadius=a||1,this.yRadius=i||1,this.aStartAngle=n||0,this.aEndAngle=r||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function Rd(e,t,a,i,n,r){Ld.call(this,e,t,a,a,i,n,r),this.type=\"ArcCurve\"}function Pd(){var e=0,t=0,a=0,i=0;function n(n,r,o,s){e=n,t=o,a=-3*n+3*r-2*o-s,i=2*n-2*r+o+s}return{initCatmullRom:function(e,t,a,i,r){n(t,a,r*(a-e),r*(i-t))},initNonuniformCatmullRom:function(e,t,a,i,r,o,s){var c=(t-e)/r-(a-e)/(r+o)+(a-t)/o,d=(a-t)/o-(i-t)/(o+s)+(i-a)/s;n(t,a,c*=o,d*=o)},calc:function(n){var r=n*n;return e+t*n+a*r+i*(r*n)}}}xd.prototype=Object.assign(Object.create(vd.prototype),{constructor:xd,load:function(e,t,a,i){void 0===e&&(e=\"\"),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var n=this,r=pd.get(e);if(void 0!==r)return n.manager.itemStart(e),setTimeout((function(){t&&t(r),n.manager.itemEnd(e)}),0),r;if(void 0===yd[e]){var o=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(o){var s=o[1],c=!!o[2],d=o[3];d=decodeURIComponent(d),c&&(d=atob(d));try{var b,f=(this.responseType||\"\").toLowerCase();switch(f){case\"arraybuffer\":case\"blob\":for(var h=new Uint8Array(d.length),l=0;l<d.length;l++)h[l]=d.charCodeAt(l);b=\"blob\"===f?new Blob([h.buffer],{type:s}):h.buffer;break;case\"document\":var u=new DOMParser;b=u.parseFromString(d,s);break;case\"json\":b=JSON.parse(d);break;default:b=d}setTimeout((function(){t&&t(b),n.manager.itemEnd(e)}),0)}catch(t){setTimeout((function(){i&&i(t),n.manager.itemError(e),n.manager.itemEnd(e)}),0)}}else{yd[e]=[],yd[e].push({onLoad:t,onProgress:a,onError:i});var p=new XMLHttpRequest;for(var m in p.open(\"GET\",e,!0),p.addEventListener(\"load\",(function(t){var a=this.response;pd.add(e,a);var i=yd[e];if(delete yd[e],200===this.status||0===this.status){0===this.status&&console.warn(\"THREE.FileLoader: HTTP Status 0 received.\");for(var r=0,o=i.length;r<o;r++){(s=i[r]).onLoad&&s.onLoad(a)}n.manager.itemEnd(e)}else{for(r=0,o=i.length;r<o;r++){var s;(s=i[r]).onError&&s.onError(t)}n.manager.itemError(e),n.manager.itemEnd(e)}}),!1),p.addEventListener(\"progress\",(function(t){for(var a=yd[e],i=0,n=a.length;i<n;i++){var r=a[i];r.onProgress&&r.onProgress(t)}}),!1),p.addEventListener(\"error\",(function(t){var a=yd[e];delete yd[e];for(var i=0,r=a.length;i<r;i++){var o=a[i];o.onError&&o.onError(t)}n.manager.itemError(e),n.manager.itemEnd(e)}),!1),p.addEventListener(\"abort\",(function(t){var a=yd[e];delete yd[e];for(var i=0,r=a.length;i<r;i++){var o=a[i];o.onError&&o.onError(t)}n.manager.itemError(e),n.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(p.responseType=this.responseType),void 0!==this.withCredentials&&(p.withCredentials=this.withCredentials),p.overrideMimeType&&p.overrideMimeType(void 0!==this.mimeType?this.mimeType:\"text/plain\"),this.requestHeader)p.setRequestHeader(m,this.requestHeader[m]);p.send(null)}return n.manager.itemStart(e),p}yd[e].push({onLoad:t,onProgress:a,onError:i})},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),wd.prototype=Object.assign(Object.create(vd.prototype),{constructor:wd,load:function(e,t,a,i){var n=this,r=new xd(n.manager);r.setPath(n.path),r.load(e,(function(e){t(n.parse(JSON.parse(e)))}),a,i)},parse:function(e){for(var t=[],a=0;a<e.length;a++){var i=ld.parse(e[a]);t.push(i)}return t}}),_d.prototype=Object.assign(Object.create(vd.prototype),{constructor:_d,load:function(e,t,a,i){var n=this,r=[],o=new As;o.image=r;var s=new xd(this.manager);function c(c){s.load(e[c],(function(e){var a=n.parse(e,!0);r[c]={width:a.width,height:a.height,format:a.format,mipmaps:a.mipmaps},6===(d+=1)&&(1===a.mipmapCount&&(o.minFilter=ge),o.format=a.format,o.needsUpdate=!0,t&&t(o))}),a,i)}if(s.setPath(this.path),s.setResponseType(\"arraybuffer\"),Array.isArray(e))for(var d=0,b=0,f=e.length;b<f;++b)c(b);else s.load(e,(function(e){var a=n.parse(e,!0);if(a.isCubemap)for(var i=a.mipmaps.length/a.mipmapCount,s=0;s<i;s++){r[s]={mipmaps:[]};for(var c=0;c<a.mipmapCount;c++)r[s].mipmaps.push(a.mipmaps[s*a.mipmapCount+c]),r[s].format=a.format,r[s].width=a.width,r[s].height=a.height}else o.image.width=a.width,o.image.height=a.height,o.mipmaps=a.mipmaps;1===a.mipmapCount&&(o.minFilter=ge),o.format=a.format,o.needsUpdate=!0,t&&t(o)}),a,i);return o}}),Md.prototype=Object.assign(Object.create(vd.prototype),{constructor:Md,load:function(e,t,a,i){var n=this,r=new mn,o=new xd(this.manager);return o.setResponseType(\"arraybuffer\"),o.setPath(this.path),o.load(e,(function(e){var a=n.parse(e);a&&(void 0!==a.image?r.image=a.image:void 0!==a.data&&(r.image.width=a.width,r.image.height=a.height,r.image.data=a.data),r.wrapS=void 0!==a.wrapS?a.wrapS:he,r.wrapT=void 0!==a.wrapT?a.wrapT:he,r.magFilter=void 0!==a.magFilter?a.magFilter:ge,r.minFilter=void 0!==a.minFilter?a.minFilter:ye,r.anisotropy=void 0!==a.anisotropy?a.anisotropy:1,void 0!==a.format&&(r.format=a.format),void 0!==a.type&&(r.type=a.type),void 0!==a.mipmaps&&(r.mipmaps=a.mipmaps),1===a.mipmapCount&&(r.minFilter=ge),r.needsUpdate=!0,t&&t(r,a))}),a,i),r}}),Sd.prototype=Object.assign(Object.create(vd.prototype),{constructor:Sd,load:function(e,t,a,i){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var n=this,r=pd.get(e);if(void 0!==r)return n.manager.itemStart(e),setTimeout((function(){t&&t(r),n.manager.itemEnd(e)}),0),r;var o=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"img\");function s(){o.removeEventListener(\"load\",s,!1),o.removeEventListener(\"error\",c,!1),pd.add(e,this),t&&t(this),n.manager.itemEnd(e)}function c(t){o.removeEventListener(\"load\",s,!1),o.removeEventListener(\"error\",c,!1),i&&i(t),n.manager.itemError(e),n.manager.itemEnd(e)}return o.addEventListener(\"load\",s,!1),o.addEventListener(\"error\",c,!1),\"data:\"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),n.manager.itemStart(e),o.src=e,o}}),Td.prototype=Object.assign(Object.create(vd.prototype),{constructor:Td,load:function(e,t,a,i){var n=new Vn,r=new Sd(this.manager);r.setCrossOrigin(this.crossOrigin),r.setPath(this.path);var o=0;function s(a){r.load(e[a],(function(e){n.images[a]=e,6===++o&&(n.needsUpdate=!0,t&&t(n))}),void 0,i)}for(var c=0;c<e.length;++c)s(c);return n}}),Ed.prototype=Object.assign(Object.create(vd.prototype),{constructor:Ed,load:function(e,t,a,i){var n=new Vt,r=new Sd(this.manager);return r.setCrossOrigin(this.crossOrigin),r.setPath(this.path),r.load(e,(function(a){n.image=a;var i=e.search(/\\.jpe?g($|\\?)/i)>0||0===e.search(/^data\\:image\\/jpeg/);n.format=i?Ie:De,n.needsUpdate=!0,void 0!==t&&t(n)}),a,i),n}}),Object.assign(Ad.prototype,{getPoint:function(){return console.warn(\"THREE.Curve: .getPoint() not implemented.\"),null},getPointAt:function(e,t){var a=this.getUtoTmapping(e);return this.getPoint(a,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],a=0;a<=e;a++)t.push(this.getPoint(a/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],a=0;a<=e;a++)t.push(this.getPointAt(a/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,a,i=[],n=this.getPoint(0),r=0;for(i.push(0),a=1;a<=e;a++)r+=(t=this.getPoint(a/e)).distanceTo(n),i.push(r),n=t;return this.cacheArcLengths=i,i},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var a,i=this.getLengths(),n=0,r=i.length;a=t||e*i[r-1];for(var o,s=0,c=r-1;s<=c;)if((o=i[n=Math.floor(s+(c-s)/2)]-a)<0)s=n+1;else{if(!(o>0)){c=n;break}c=n-1}if(i[n=c]===a)return n/(r-1);var d=i[n];return(n+(a-d)/(i[n+1]-d))/(r-1)},getTangent:function(e){var t=e-1e-4,a=e+1e-4;t<0&&(t=0),a>1&&(a=1);var i=this.getPoint(t);return this.getPoint(a).clone().sub(i).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var a,i,n,r=new zt,o=[],s=[],c=[],d=new zt,b=new $t;for(a=0;a<=e;a++)i=a/e,o[a]=this.getTangentAt(i),o[a].normalize();s[0]=new zt,c[0]=new zt;var f=Number.MAX_VALUE,h=Math.abs(o[0].x),l=Math.abs(o[0].y),u=Math.abs(o[0].z);for(h<=f&&(f=h,r.set(1,0,0)),l<=f&&(f=l,r.set(0,1,0)),u<=f&&r.set(0,0,1),d.crossVectors(o[0],r).normalize(),s[0].crossVectors(o[0],d),c[0].crossVectors(o[0],s[0]),a=1;a<=e;a++)s[a]=s[a-1].clone(),c[a]=c[a-1].clone(),d.crossVectors(o[a-1],o[a]),d.length()>Number.EPSILON&&(d.normalize(),n=Math.acos(Ct.clamp(o[a-1].dot(o[a]),-1,1)),s[a].applyMatrix4(b.makeRotationAxis(d,n))),c[a].crossVectors(o[a],s[a]);if(!0===t)for(n=Math.acos(Ct.clamp(s[0].dot(s[e]),-1,1)),n/=e,o[0].dot(d.crossVectors(s[0],s[e]))>0&&(n=-n),a=1;a<=e;a++)s[a].applyMatrix4(b.makeRotationAxis(o[a],n*a)),c[a].crossVectors(o[a],s[a]);return{tangents:o,normals:s,binormals:c}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:\"Curve\",generator:\"Curve.toJSON\"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),Ld.prototype=Object.create(Ad.prototype),Ld.prototype.constructor=Ld,Ld.prototype.isEllipseCurve=!0,Ld.prototype.getPoint=function(e,t){for(var a=t||new Ot,i=2*Math.PI,n=this.aEndAngle-this.aStartAngle,r=Math.abs(n)<Number.EPSILON;n<0;)n+=i;for(;n>i;)n-=i;n<Number.EPSILON&&(n=r?0:i),!0!==this.aClockwise||r||(n===i?n=-i:n-=i);var o=this.aStartAngle+e*n,s=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var d=Math.cos(this.aRotation),b=Math.sin(this.aRotation),f=s-this.aX,h=c-this.aY;s=f*d-h*b+this.aX,c=f*b+h*d+this.aY}return a.set(s,c)},Ld.prototype.copy=function(e){return Ad.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Ld.prototype.toJSON=function(){var e=Ad.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},Ld.prototype.fromJSON=function(e){return Ad.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Rd.prototype=Object.create(Ld.prototype),Rd.prototype.constructor=Rd,Rd.prototype.isArcCurve=!0;var Cd=new zt,Od=new Pd,Id=new Pd,Dd=new Pd;function Nd(e,t,a,i){Ad.call(this),this.type=\"CatmullRomCurve3\",this.points=e||[],this.closed=t||!1,this.curveType=a||\"centripetal\",this.tension=i||.5}function zd(e,t,a,i,n){var r=.5*(i-t),o=.5*(n-a),s=e*e;return(2*a-2*i+r+o)*(e*s)+(-3*a+3*i-2*r-o)*s+r*e+a}function Ud(e,t,a,i){return function(e,t){var a=1-e;return a*a*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,a)+function(e,t){return e*e*t}(e,i)}function Bd(e,t,a,i,n){return function(e,t){var a=1-e;return a*a*a*t}(e,t)+function(e,t){var a=1-e;return 3*a*a*e*t}(e,a)+function(e,t){return 3*(1-e)*e*e*t}(e,i)+function(e,t){return e*e*e*t}(e,n)}function Fd(e,t,a,i){Ad.call(this),this.type=\"CubicBezierCurve\",this.v0=e||new Ot,this.v1=t||new Ot,this.v2=a||new Ot,this.v3=i||new Ot}function Gd(e,t,a,i){Ad.call(this),this.type=\"CubicBezierCurve3\",this.v0=e||new zt,this.v1=t||new zt,this.v2=a||new zt,this.v3=i||new zt}function Hd(e,t){Ad.call(this),this.type=\"LineCurve\",this.v1=e||new Ot,this.v2=t||new Ot}function Vd(e,t){Ad.call(this),this.type=\"LineCurve3\",this.v1=e||new zt,this.v2=t||new zt}function kd(e,t,a){Ad.call(this),this.type=\"QuadraticBezierCurve\",this.v0=e||new Ot,this.v1=t||new Ot,this.v2=a||new Ot}function jd(e,t,a){Ad.call(this),this.type=\"QuadraticBezierCurve3\",this.v0=e||new zt,this.v1=t||new zt,this.v2=a||new zt}function Wd(e){Ad.call(this),this.type=\"SplineCurve\",this.points=e||[]}Nd.prototype=Object.create(Ad.prototype),Nd.prototype.constructor=Nd,Nd.prototype.isCatmullRomCurve3=!0,Nd.prototype.getPoint=function(e,t){var a,i,n,r,o=t||new zt,s=this.points,c=s.length,d=(c-(this.closed?0:1))*e,b=Math.floor(d),f=d-b;if(this.closed?b+=b>0?0:(Math.floor(Math.abs(b)/c)+1)*c:0===f&&b===c-1&&(b=c-2,f=1),this.closed||b>0?a=s[(b-1)%c]:(Cd.subVectors(s[0],s[1]).add(s[0]),a=Cd),i=s[b%c],n=s[(b+1)%c],this.closed||b+2<c?r=s[(b+2)%c]:(Cd.subVectors(s[c-1],s[c-2]).add(s[c-1]),r=Cd),\"centripetal\"===this.curveType||\"chordal\"===this.curveType){var h=\"chordal\"===this.curveType?.5:.25,l=Math.pow(a.distanceToSquared(i),h),u=Math.pow(i.distanceToSquared(n),h),p=Math.pow(n.distanceToSquared(r),h);u<1e-4&&(u=1),l<1e-4&&(l=u),p<1e-4&&(p=u),Od.initNonuniformCatmullRom(a.x,i.x,n.x,r.x,l,u,p),Id.initNonuniformCatmullRom(a.y,i.y,n.y,r.y,l,u,p),Dd.initNonuniformCatmullRom(a.z,i.z,n.z,r.z,l,u,p)}else\"catmullrom\"===this.curveType&&(Od.initCatmullRom(a.x,i.x,n.x,r.x,this.tension),Id.initCatmullRom(a.y,i.y,n.y,r.y,this.tension),Dd.initCatmullRom(a.z,i.z,n.z,r.z,this.tension));return o.set(Od.calc(f),Id.calc(f),Dd.calc(f)),o},Nd.prototype.copy=function(e){Ad.prototype.copy.call(this,e),this.points=[];for(var t=0,a=e.points.length;t<a;t++){var i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Nd.prototype.toJSON=function(){var e=Ad.prototype.toJSON.call(this);e.points=[];for(var t=0,a=this.points.length;t<a;t++){var i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},Nd.prototype.fromJSON=function(e){Ad.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,a=e.points.length;t<a;t++){var i=e.points[t];this.points.push((new zt).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Fd.prototype=Object.create(Ad.prototype),Fd.prototype.constructor=Fd,Fd.prototype.isCubicBezierCurve=!0,Fd.prototype.getPoint=function(e,t){var a=t||new Ot,i=this.v0,n=this.v1,r=this.v2,o=this.v3;return a.set(Bd(e,i.x,n.x,r.x,o.x),Bd(e,i.y,n.y,r.y,o.y)),a},Fd.prototype.copy=function(e){return Ad.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Fd.prototype.toJSON=function(){var e=Ad.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Fd.prototype.fromJSON=function(e){return Ad.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Gd.prototype=Object.create(Ad.prototype),Gd.prototype.constructor=Gd,Gd.prototype.isCubicBezierCurve3=!0,Gd.prototype.getPoint=function(e,t){var a=t||new zt,i=this.v0,n=this.v1,r=this.v2,o=this.v3;return a.set(Bd(e,i.x,n.x,r.x,o.x),Bd(e,i.y,n.y,r.y,o.y),Bd(e,i.z,n.z,r.z,o.z)),a},Gd.prototype.copy=function(e){return Ad.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Gd.prototype.toJSON=function(){var e=Ad.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Gd.prototype.fromJSON=function(e){return Ad.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Hd.prototype=Object.create(Ad.prototype),Hd.prototype.constructor=Hd,Hd.prototype.isLineCurve=!0,Hd.prototype.getPoint=function(e,t){var a=t||new Ot;return 1===e?a.copy(this.v2):(a.copy(this.v2).sub(this.v1),a.multiplyScalar(e).add(this.v1)),a},Hd.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Hd.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},Hd.prototype.copy=function(e){return Ad.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Hd.prototype.toJSON=function(){var e=Ad.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Hd.prototype.fromJSON=function(e){return Ad.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Vd.prototype=Object.create(Ad.prototype),Vd.prototype.constructor=Vd,Vd.prototype.isLineCurve3=!0,Vd.prototype.getPoint=function(e,t){var a=t||new zt;return 1===e?a.copy(this.v2):(a.copy(this.v2).sub(this.v1),a.multiplyScalar(e).add(this.v1)),a},Vd.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Vd.prototype.copy=function(e){return Ad.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Vd.prototype.toJSON=function(){var e=Ad.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Vd.prototype.fromJSON=function(e){return Ad.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},kd.prototype=Object.create(Ad.prototype),kd.prototype.constructor=kd,kd.prototype.isQuadraticBezierCurve=!0,kd.prototype.getPoint=function(e,t){var a=t||new Ot,i=this.v0,n=this.v1,r=this.v2;return a.set(Ud(e,i.x,n.x,r.x),Ud(e,i.y,n.y,r.y)),a},kd.prototype.copy=function(e){return Ad.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},kd.prototype.toJSON=function(){var e=Ad.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},kd.prototype.fromJSON=function(e){return Ad.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},jd.prototype=Object.create(Ad.prototype),jd.prototype.constructor=jd,jd.prototype.isQuadraticBezierCurve3=!0,jd.prototype.getPoint=function(e,t){var a=t||new zt,i=this.v0,n=this.v1,r=this.v2;return a.set(Ud(e,i.x,n.x,r.x),Ud(e,i.y,n.y,r.y),Ud(e,i.z,n.z,r.z)),a},jd.prototype.copy=function(e){return Ad.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},jd.prototype.toJSON=function(){var e=Ad.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},jd.prototype.fromJSON=function(e){return Ad.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Wd.prototype=Object.create(Ad.prototype),Wd.prototype.constructor=Wd,Wd.prototype.isSplineCurve=!0,Wd.prototype.getPoint=function(e,t){var a=t||new Ot,i=this.points,n=(i.length-1)*e,r=Math.floor(n),o=n-r,s=i[0===r?r:r-1],c=i[r],d=i[r>i.length-2?i.length-1:r+1],b=i[r>i.length-3?i.length-1:r+2];return a.set(zd(o,s.x,c.x,d.x,b.x),zd(o,s.y,c.y,d.y,b.y)),a},Wd.prototype.copy=function(e){Ad.prototype.copy.call(this,e),this.points=[];for(var t=0,a=e.points.length;t<a;t++){var i=e.points[t];this.points.push(i.clone())}return this},Wd.prototype.toJSON=function(){var e=Ad.prototype.toJSON.call(this);e.points=[];for(var t=0,a=this.points.length;t<a;t++){var i=this.points[t];e.points.push(i.toArray())}return e},Wd.prototype.fromJSON=function(e){Ad.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,a=e.points.length;t<a;t++){var i=e.points[t];this.points.push((new Ot).fromArray(i))}return this};var Xd=Object.freeze({ArcCurve:Rd,CatmullRomCurve3:Nd,CubicBezierCurve:Fd,CubicBezierCurve3:Gd,EllipseCurve:Ld,LineCurve:Hd,LineCurve3:Vd,QuadraticBezierCurve:kd,QuadraticBezierCurve3:jd,SplineCurve:Wd});function qd(){Ad.call(this),this.type=\"CurvePath\",this.curves=[],this.autoClose=!1}function Yd(e){qd.call(this),this.type=\"Path\",this.currentPoint=new Ot,e&&this.setFromPoints(e)}function Zd(e){Yd.call(this,e),this.uuid=Ct.generateUUID(),this.type=\"Shape\",this.holes=[]}function Jd(e,t){ga.call(this),this.type=\"Light\",this.color=new ii(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function Kd(e,t,a){Jd.call(this,e,a),this.type=\"HemisphereLight\",this.castShadow=void 0,this.position.copy(ga.DefaultUp),this.updateMatrix(),this.groundColor=new ii(t)}function Qd(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new Ot(512,512),this.map=null,this.mapPass=null,this.matrix=new $t,this._frustum=new Mn,this._frameExtents=new Ot(1,1),this._viewportCount=1,this._viewports=[new kt(0,0,1,1)]}function $d(){Qd.call(this,new fn(50,1,.5,500))}function eb(e,t,a,i,n,r){Jd.call(this,e,t),this.type=\"SpotLight\",this.position.copy(ga.DefaultUp),this.updateMatrix(),this.target=new ga,Object.defineProperty(this,\"power\",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==a?a:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new $d}function tb(){Qd.call(this,new fn(90,1,.5,500)),this._frameExtents=new Ot(4,2),this._viewportCount=6,this._viewports=[new kt(2,1,1,1),new kt(0,1,1,1),new kt(3,1,1,1),new kt(1,1,1,1),new kt(3,0,1,1),new kt(1,0,1,1)],this._cubeDirections=[new zt(1,0,0),new zt(-1,0,0),new zt(0,0,1),new zt(0,0,-1),new zt(0,1,0),new zt(0,-1,0)],this._cubeUps=[new zt(0,1,0),new zt(0,1,0),new zt(0,1,0),new zt(0,1,0),new zt(0,0,1),new zt(0,0,-1)]}function ab(e,t,a,i){Jd.call(this,e,t),this.type=\"PointLight\",Object.defineProperty(this,\"power\",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==a?a:0,this.decay=void 0!==i?i:1,this.shadow=new tb}function ib(e,t,a,i,n,r){bn.call(this),this.type=\"OrthographicCamera\",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==a?a:1,this.bottom=void 0!==i?i:-1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.updateProjectionMatrix()}function nb(){Qd.call(this,new ib(-5,5,5,-5,.5,500))}function rb(e,t){Jd.call(this,e,t),this.type=\"DirectionalLight\",this.position.copy(ga.DefaultUp),this.updateMatrix(),this.target=new ga,this.shadow=new nb}function ob(e,t){Jd.call(this,e,t),this.type=\"AmbientLight\",this.castShadow=void 0}function sb(e,t,a,i){Jd.call(this,e,t),this.type=\"RectAreaLight\",this.width=void 0!==a?a:10,this.height=void 0!==i?i:10}function cb(e){vd.call(this,e),this.textures={}}qd.prototype=Object.assign(Object.create(Ad.prototype),{constructor:qd,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Hd(t,e))},getPoint:function(e){for(var t=e*this.getLength(),a=this.getCurveLengths(),i=0;i<a.length;){if(a[i]>=t){var n=a[i]-t,r=this.curves[i],o=r.getLength(),s=0===o?0:1-n/o;return r.getPointAt(s)}i++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,a=0,i=this.curves.length;a<i;a++)t+=this.curves[a].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],a=0;a<=e;a++)t.push(this.getPoint(a/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,a=[],i=0,n=this.curves;i<n.length;i++)for(var r=n[i],o=r&&r.isEllipseCurve?2*e:r&&(r.isLineCurve||r.isLineCurve3)?1:r&&r.isSplineCurve?e*r.points.length:e,s=r.getPoints(o),c=0;c<s.length;c++){var d=s[c];t&&t.equals(d)||(a.push(d),t=d)}return this.autoClose&&a.length>1&&!a[a.length-1].equals(a[0])&&a.push(a[0]),a},copy:function(e){Ad.prototype.copy.call(this,e),this.curves=[];for(var t=0,a=e.curves.length;t<a;t++){var i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=Ad.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,a=this.curves.length;t<a;t++){var i=this.curves[t];e.curves.push(i.toJSON())}return e},fromJSON:function(e){Ad.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,a=e.curves.length;t<a;t++){var i=e.curves[t];this.curves.push((new Xd[i.type]).fromJSON(i))}return this}}),Yd.prototype=Object.assign(Object.create(qd.prototype),{constructor:Yd,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,a=e.length;t<a;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var a=new Hd(this.currentPoint.clone(),new Ot(e,t));this.curves.push(a),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,a,i){var n=new kd(this.currentPoint.clone(),new Ot(e,t),new Ot(a,i));this.curves.push(n),this.currentPoint.set(a,i)},bezierCurveTo:function(e,t,a,i,n,r){var o=new Fd(this.currentPoint.clone(),new Ot(e,t),new Ot(a,i),new Ot(n,r));this.curves.push(o),this.currentPoint.set(n,r)},splineThru:function(e){var t=new Wd([this.currentPoint.clone()].concat(e));this.curves.push(t),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,a,i,n,r){var o=this.currentPoint.x,s=this.currentPoint.y;this.absarc(e+o,t+s,a,i,n,r)},absarc:function(e,t,a,i,n,r){this.absellipse(e,t,a,a,i,n,r)},ellipse:function(e,t,a,i,n,r,o,s){var c=this.currentPoint.x,d=this.currentPoint.y;this.absellipse(e+c,t+d,a,i,n,r,o,s)},absellipse:function(e,t,a,i,n,r,o,s){var c=new Ld(e,t,a,i,n,r,o,s);if(this.curves.length>0){var d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);var b=c.getPoint(1);this.currentPoint.copy(b)},copy:function(e){return qd.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=qd.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return qd.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),Zd.prototype=Object.assign(Object.create(Yd.prototype),{constructor:Zd,getPointsHoles:function(e){for(var t=[],a=0,i=this.holes.length;a<i;a++)t[a]=this.holes[a].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Yd.prototype.copy.call(this,e),this.holes=[];for(var t=0,a=e.holes.length;t<a;t++){var i=e.holes[t];this.holes.push(i.clone())}return this},toJSON:function(){var e=Yd.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,a=this.holes.length;t<a;t++){var i=this.holes[t];e.holes.push(i.toJSON())}return e},fromJSON:function(e){Yd.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,a=e.holes.length;t<a;t++){var i=e.holes[t];this.holes.push((new Yd).fromJSON(i))}return this}}),Jd.prototype=Object.assign(Object.create(ga.prototype),{constructor:Jd,isLight:!0,copy:function(e){return ga.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=ga.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),Kd.prototype=Object.assign(Object.create(Jd.prototype),{constructor:Kd,isHemisphereLight:!0,copy:function(e){return Jd.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Qd.prototype,{_projScreenMatrix:new $t,_lightPositionWorld:new zt,_lookTarget:new zt,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){var t=this.camera,a=this.matrix,i=this._projScreenMatrix,n=this._lookTarget,r=this._lightPositionWorld;r.setFromMatrixPosition(e.matrixWorld),t.position.copy(r),n.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(n),t.updateMatrixWorld(),i.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromMatrix(i),a.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),a.multiply(t.projectionMatrix),a.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),$d.prototype=Object.assign(Object.create(Qd.prototype),{constructor:$d,isSpotLightShadow:!0,updateMatrices:function(e,t,a){var i=this.camera,n=2*Ct.RAD2DEG*e.angle,r=this.mapSize.width/this.mapSize.height,o=e.distance||i.far;n===i.fov&&r===i.aspect&&o===i.far||(i.fov=n,i.aspect=r,i.far=o,i.updateProjectionMatrix()),Qd.prototype.updateMatrices.call(this,e,t,a)}}),eb.prototype=Object.assign(Object.create(Jd.prototype),{constructor:eb,isSpotLight:!0,copy:function(e){return Jd.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),tb.prototype=Object.assign(Object.create(Qd.prototype),{constructor:tb,isPointLightShadow:!0,updateMatrices:function(e,t,a){var i=this.camera,n=this.matrix,r=this._lightPositionWorld,o=this._lookTarget,s=this._projScreenMatrix;r.setFromMatrixPosition(e.matrixWorld),i.position.copy(r),o.copy(i.position),o.add(this._cubeDirections[a]),i.up.copy(this._cubeUps[a]),i.lookAt(o),i.updateMatrixWorld(),n.makeTranslation(-r.x,-r.y,-r.z),s.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromMatrix(s)}}),ab.prototype=Object.assign(Object.create(Jd.prototype),{constructor:ab,isPointLight:!0,copy:function(e){return Jd.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),ib.prototype=Object.assign(Object.create(bn.prototype),{constructor:ib,isOrthographicCamera:!0,copy:function(e,t){return bn.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,a,i,n,r){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=a,this.view.offsetY=i,this.view.width=n,this.view.height=r,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),a=(this.right+this.left)/2,i=(this.top+this.bottom)/2,n=a-e,r=a+e,o=i+t,s=i-t;if(null!==this.view&&this.view.enabled){var c=this.zoom/(this.view.width/this.view.fullWidth),d=this.zoom/(this.view.height/this.view.fullHeight),b=(this.right-this.left)/this.view.width,f=(this.top-this.bottom)/this.view.height;r=(n+=b*(this.view.offsetX/c))+b*(this.view.width/c),s=(o-=f*(this.view.offsetY/d))-f*(this.view.height/d)}this.projectionMatrix.makeOrthographic(n,r,o,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=ga.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),nb.prototype=Object.assign(Object.create(Qd.prototype),{constructor:nb,isDirectionalLightShadow:!0,updateMatrices:function(e,t,a){Qd.prototype.updateMatrices.call(this,e,t,a)}}),rb.prototype=Object.assign(Object.create(Jd.prototype),{constructor:rb,isDirectionalLight:!0,copy:function(e){return Jd.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),ob.prototype=Object.assign(Object.create(Jd.prototype),{constructor:ob,isAmbientLight:!0}),sb.prototype=Object.assign(Object.create(Jd.prototype),{constructor:sb,isRectAreaLight:!0,copy:function(e){return Jd.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=Jd.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),cb.prototype=Object.assign(Object.create(vd.prototype),{constructor:cb,load:function(e,t,a,i){var n=this,r=new xd(n.manager);r.setPath(n.path),r.load(e,(function(e){t(n.parse(JSON.parse(e)))}),a,i)},parse:function(e){var t=this.textures;function a(e){return void 0===t[e]&&console.warn(\"THREE.MaterialLoader: Undefined texture\",e),t[e]}var i=new $c[e.type];if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.sheen&&(i.sheen=(new ii).setHex(e.sheen)),void 0!==e.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&i.specular.setHex(e.specular),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearcoat&&(i.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(i.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.vertexColors&&(i.vertexColors=e.vertexColors),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.combine&&(i.combine=e.combine),void 0!==e.side&&(i.side=e.side),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(i.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(i.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(i.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(i.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(i.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(i.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(i.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(i.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),1!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.polygonOffset&&(i.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(i.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(i.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(i.skinning=e.skinning),void 0!==e.morphTargets&&(i.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(i.morphNormals=e.morphNormals),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.toneMapped&&(i.toneMapped=e.toneMapped),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.uniforms)for(var n in e.uniforms){var r=e.uniforms[n];switch(i.uniforms[n]={},r.type){case\"t\":i.uniforms[n].value=a(r.value);break;case\"c\":i.uniforms[n].value=(new ii).setHex(r.value);break;case\"v2\":i.uniforms[n].value=(new Ot).fromArray(r.value);break;case\"v3\":i.uniforms[n].value=(new zt).fromArray(r.value);break;case\"v4\":i.uniforms[n].value=(new kt).fromArray(r.value);break;case\"m3\":i.uniforms[n].value=(new Ft).fromArray(r.value);case\"m4\":i.uniforms[n].value=(new $t).fromArray(r.value);break;default:i.uniforms[n].value=r.value}}if(void 0!==e.defines&&(i.defines=e.defines),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var o in e.extensions)i.extensions[o]=e.extensions[o];if(void 0!==e.shading&&(i.flatShading=1===e.shading),void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=a(e.map)),void 0!==e.matcap&&(i.matcap=a(e.matcap)),void 0!==e.alphaMap&&(i.alphaMap=a(e.alphaMap),i.transparent=!0),void 0!==e.bumpMap&&(i.bumpMap=a(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=a(e.normalMap)),void 0!==e.normalMapType&&(i.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),i.normalScale=(new Ot).fromArray(s)}return void 0!==e.displacementMap&&(i.displacementMap=a(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=a(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=a(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=a(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=a(e.specularMap)),void 0!==e.envMap&&(i.envMap=a(e.envMap)),void 0!==e.envMapIntensity&&(i.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(i.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(i.lightMap=a(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=a(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=a(e.gradientMap)),void 0!==e.clearcoatNormalMap&&(i.clearcoatNormalMap=a(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(i.clearcoatNormalScale=(new Ot).fromArray(e.clearcoatNormalScale)),i},setTextures:function(e){return this.textures=e,this}});var db={decodeText:function(e){if(\"undefined\"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t=\"\",a=0,i=e.length;a<i;a++)t+=String.fromCharCode(e[a]);try{return decodeURIComponent(escape(t))}catch(e){return t}},extractUrlBase:function(e){var t=e.lastIndexOf(\"/\");return-1===t?\"./\":e.substr(0,t+1)}};function bb(){Pi.call(this),this.type=\"InstancedBufferGeometry\",this.maxInstancedCount=void 0}function fb(e,t,a,i){\"number\"==typeof a&&(i=a,a=!1,console.error(\"THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.\")),fi.call(this,e,t,a),this.meshPerAttribute=i||1}function hb(e){vd.call(this,e)}bb.prototype=Object.assign(Object.create(Pi.prototype),{constructor:bb,isInstancedBufferGeometry:!0,copy:function(e){return Pi.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e=Pi.prototype.toJSON.call(this);return e.maxInstancedCount=this.maxInstancedCount,e.isInstancedBufferGeometry=!0,e}}),fb.prototype=Object.assign(Object.create(fi.prototype),{constructor:fb,isInstancedBufferAttribute:!0,copy:function(e){return fi.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){var e=fi.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),hb.prototype=Object.assign(Object.create(vd.prototype),{constructor:hb,load:function(e,t,a,i){var n=this,r=new xd(n.manager);r.setPath(n.path),r.load(e,(function(e){t(n.parse(JSON.parse(e)))}),a,i)},parse:function(e){var t=e.isInstancedBufferGeometry?new bb:new Pi,a=e.data.index;if(void 0!==a){var i=new lb[a.type](a.array);t.setIndex(new fi(i,1))}var n=e.data.attributes;for(var r in n){var o=n[r],s=(i=new lb[o.type](o.array),new(o.isInstancedBufferAttribute?fb:fi)(i,o.itemSize,o.normalized));void 0!==o.name&&(s.name=o.name),t.addAttribute(r,s)}var c=e.data.morphAttributes;if(c)for(var r in c){for(var d=c[r],b=[],f=0,h=d.length;f<h;f++){o=d[f],s=new fi(i=new lb[o.type](o.array),o.itemSize,o.normalized);void 0!==o.name&&(s.name=o.name),b.push(s)}t.morphAttributes[r]=b}var l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l){f=0;for(var u=l.length;f!==u;++f){var p=l[f];t.addGroup(p.start,p.count,p.materialIndex)}}var m=e.data.boundingSphere;if(void 0!==m){var g=new zt;void 0!==m.center&&g.fromArray(m.center),t.boundingSphere=new Da(g,m.radius)}return e.name&&(t.name=e.name),e.userData&&(t.userData=e.userData),t}});var lb={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:\"undefined\"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function ub(e){vd.call(this,e)}ub.prototype=Object.assign(Object.create(vd.prototype),{constructor:ub,load:function(e,t,a,i){var n=this,r=\"\"===this.path?db.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;var o=new xd(n.manager);o.setPath(this.path),o.load(e,(function(a){var r=null;try{r=JSON.parse(a)}catch(t){return void 0!==i&&i(t),void console.error(\"THREE:ObjectLoader: Can't parse \"+e+\".\",t.message)}var o=r.metadata;void 0!==o&&void 0!==o.type&&\"geometry\"!==o.type.toLowerCase()?n.parse(r,t):console.error(\"THREE.ObjectLoader: Can't load \"+e)}),a,i)},parse:function(e,t){var a=this.parseShape(e.shapes),i=this.parseGeometries(e.geometries,a),n=this.parseImages(e.images,(function(){void 0!==t&&t(s)})),r=this.parseTextures(e.textures,n),o=this.parseMaterials(e.materials,r),s=this.parseObject(e.object,i,o);return e.animations&&(s.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(s),s},parseShape:function(e){var t={};if(void 0!==e)for(var a=0,i=e.length;a<i;a++){var n=(new Zd).fromJSON(e[a]);t[n.uuid]=n}return t},parseGeometries:function(e,t){var a={};if(void 0!==e)for(var i=new hb,n=0,r=e.length;n<r;n++){var o,s=e[n];switch(s.type){case\"PlaneGeometry\":case\"PlaneBufferGeometry\":o=new Vc[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case\"BoxGeometry\":case\"BoxBufferGeometry\":case\"CubeGeometry\":o=new Vc[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case\"CircleGeometry\":case\"CircleBufferGeometry\":o=new Vc[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case\"CylinderGeometry\":case\"CylinderBufferGeometry\":o=new Vc[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case\"ConeGeometry\":case\"ConeBufferGeometry\":o=new Vc[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case\"SphereGeometry\":case\"SphereBufferGeometry\":o=new Vc[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case\"DodecahedronGeometry\":case\"DodecahedronBufferGeometry\":case\"IcosahedronGeometry\":case\"IcosahedronBufferGeometry\":case\"OctahedronGeometry\":case\"OctahedronBufferGeometry\":case\"TetrahedronGeometry\":case\"TetrahedronBufferGeometry\":o=new Vc[s.type](s.radius,s.detail);break;case\"RingGeometry\":case\"RingBufferGeometry\":o=new Vc[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case\"TorusGeometry\":case\"TorusBufferGeometry\":o=new Vc[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case\"TorusKnotGeometry\":case\"TorusKnotBufferGeometry\":o=new Vc[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case\"TubeGeometry\":case\"TubeBufferGeometry\":o=new Vc[s.type]((new Xd[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);break;case\"LatheGeometry\":case\"LatheBufferGeometry\":o=new Vc[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case\"PolyhedronGeometry\":case\"PolyhedronBufferGeometry\":o=new Vc[s.type](s.vertices,s.indices,s.radius,s.details);break;case\"ShapeGeometry\":case\"ShapeBufferGeometry\":for(var c=[],d=0,b=s.shapes.length;d<b;d++){var f=t[s.shapes[d]];c.push(f)}o=new Vc[s.type](c,s.curveSegments);break;case\"ExtrudeGeometry\":case\"ExtrudeBufferGeometry\":for(c=[],d=0,b=s.shapes.length;d<b;d++){f=t[s.shapes[d]];c.push(f)}var h=s.options.extrudePath;void 0!==h&&(s.options.extrudePath=(new Xd[h.type]).fromJSON(h)),o=new Vc[s.type](c,s.options);break;case\"BufferGeometry\":case\"InstancedBufferGeometry\":o=i.parse(s);break;case\"Geometry\":if(\"THREE\"in window&&\"LegacyJSONLoader\"in THREE)o=(new THREE.LegacyJSONLoader).parse(s,this.resourcePath).geometry;else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type \"Geometry\".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type \"'+s.type+'\"');continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),a[s.uuid]=o}return a},parseMaterials:function(e,t){var a={},i={};if(void 0!==e){var n=new cb;n.setTextures(t);for(var r=0,o=e.length;r<o;r++){var s=e[r];if(\"MultiMaterial\"===s.type){for(var c=[],d=0;d<s.materials.length;d++){var b=s.materials[d];void 0===a[b.uuid]&&(a[b.uuid]=n.parse(b)),c.push(a[b.uuid])}i[s.uuid]=c}else void 0===a[s.uuid]&&(a[s.uuid]=n.parse(s)),i[s.uuid]=a[s.uuid]}}return i},parseAnimations:function(e){for(var t=[],a=0;a<e.length;a++){var i=e[a],n=ld.parse(i);void 0!==i.uuid&&(n.uuid=i.uuid),t.push(n)}return t},parseImages:function(e,t){var a=this,i={};function n(e){return a.manager.itemStart(e),r.load(e,(function(){a.manager.itemEnd(e)}),void 0,(function(){a.manager.itemError(e),a.manager.itemEnd(e)}))}if(void 0!==e&&e.length>0){var r=new Sd(new md(t));r.setCrossOrigin(this.crossOrigin);for(var o=0,s=e.length;o<s;o++){var c=e[o],d=c.url;if(Array.isArray(d)){i[c.uuid]=[];for(var b=0,f=d.length;b<f;b++){var h=d[b],l=/^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(h)?h:a.resourcePath+h;i[c.uuid].push(n(l))}}else{l=/^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(c.url)?c.url:a.resourcePath+c.url;i[c.uuid]=n(l)}}}return i},parseTextures:function(e,t){function a(e,t){return\"number\"==typeof e?e:(console.warn(\"THREE.ObjectLoader.parseTexture: Constant should be in numeric form.\",e),t[e])}var i={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var o,s=e[n];void 0===s.image&&console.warn('THREE.ObjectLoader: No \"image\" specified for',s.uuid),void 0===t[s.image]&&console.warn(\"THREE.ObjectLoader: Undefined image\",s.image),(o=Array.isArray(t[s.image])?new Vn(t[s.image]):new Vt(t[s.image])).needsUpdate=!0,o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.mapping&&(o.mapping=a(s.mapping,mb)),void 0!==s.offset&&o.offset.fromArray(s.offset),void 0!==s.repeat&&o.repeat.fromArray(s.repeat),void 0!==s.center&&o.center.fromArray(s.center),void 0!==s.rotation&&(o.rotation=s.rotation),void 0!==s.wrap&&(o.wrapS=a(s.wrap[0],gb),o.wrapT=a(s.wrap[1],gb)),void 0!==s.format&&(o.format=s.format),void 0!==s.type&&(o.type=s.type),void 0!==s.encoding&&(o.encoding=s.encoding),void 0!==s.minFilter&&(o.minFilter=a(s.minFilter,vb)),void 0!==s.magFilter&&(o.magFilter=a(s.magFilter,vb)),void 0!==s.anisotropy&&(o.anisotropy=s.anisotropy),void 0!==s.flipY&&(o.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(o.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(o.unpackAlignment=s.unpackAlignment),i[s.uuid]=o}return i},parseObject:function(e,t,a){var i;function n(e){return void 0===t[e]&&console.warn(\"THREE.ObjectLoader: Undefined geometry\",e),t[e]}function r(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],i=0,n=e.length;i<n;i++){var r=e[i];void 0===a[r]&&console.warn(\"THREE.ObjectLoader: Undefined material\",r),t.push(a[r])}return t}return void 0===a[e]&&console.warn(\"THREE.ObjectLoader: Undefined material\",e),a[e]}}switch(e.type){case\"Scene\":i=new va,void 0!==e.background&&Number.isInteger(e.background)&&(i.background=new ii(e.background)),void 0!==e.fog&&(\"Fog\"===e.fog.type?i.fog=new No(e.fog.color,e.fog.near,e.fog.far):\"FogExp2\"===e.fog.type&&(i.fog=new Do(e.fog.color,e.fog.density)));break;case\"PerspectiveCamera\":i=new fn(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(i.focus=e.focus),void 0!==e.zoom&&(i.zoom=e.zoom),void 0!==e.filmGauge&&(i.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(i.filmOffset=e.filmOffset),void 0!==e.view&&(i.view=Object.assign({},e.view));break;case\"OrthographicCamera\":i=new ib(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(i.zoom=e.zoom),void 0!==e.view&&(i.view=Object.assign({},e.view));break;case\"AmbientLight\":i=new ob(e.color,e.intensity);break;case\"DirectionalLight\":i=new rb(e.color,e.intensity);break;case\"PointLight\":i=new ab(e.color,e.intensity,e.distance,e.decay);break;case\"RectAreaLight\":i=new sb(e.color,e.intensity,e.width,e.height);break;case\"SpotLight\":i=new eb(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case\"HemisphereLight\":i=new Kd(e.color,e.groundColor,e.intensity);break;case\"SkinnedMesh\":console.warn(\"THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.\");case\"Mesh\":var o=n(e.geometry),s=r(e.material);i=o.bones&&o.bones.length>0?new as(o,s):new Yi(o,s),void 0!==e.drawMode&&i.setDrawMode(e.drawMode);break;case\"LOD\":i=new ts;break;case\"Line\":i=new us(n(e.geometry),r(e.material),e.mode);break;case\"LineLoop\":i=new vs(n(e.geometry),r(e.material));break;case\"LineSegments\":i=new gs(n(e.geometry),r(e.material));break;case\"PointCloud\":case\"Points\":i=new Ss(n(e.geometry),r(e.material));break;case\"Sprite\":i=new Ko(r(e.material));break;case\"Group\":i=new To;break;default:i=new ga}if(i.uuid=e.uuid,void 0!==e.name&&(i.name=e.name),void 0!==e.matrix?(i.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(i.matrixAutoUpdate=e.matrixAutoUpdate),i.matrixAutoUpdate&&i.matrix.decompose(i.position,i.quaternion,i.scale)):(void 0!==e.position&&i.position.fromArray(e.position),void 0!==e.rotation&&i.rotation.fromArray(e.rotation),void 0!==e.quaternion&&i.quaternion.fromArray(e.quaternion),void 0!==e.scale&&i.scale.fromArray(e.scale)),void 0!==e.castShadow&&(i.castShadow=e.castShadow),void 0!==e.receiveShadow&&(i.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(i.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(i.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&i.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(i.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.frustumCulled&&(i.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(i.renderOrder=e.renderOrder),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.layers&&(i.layers.mask=e.layers),void 0!==e.children)for(var c=e.children,d=0;d<c.length;d++)i.add(this.parseObject(c[d],t,a));if(\"LOD\"===e.type)for(var b=e.levels,f=0;f<b.length;f++){var h=b[f],l=i.getObjectByProperty(\"uuid\",h.object);void 0!==l&&i.addLevel(l,h.distance)}return i}});var pb,mb={UVMapping:300,CubeReflectionMapping:ne,CubeRefractionMapping:re,EquirectangularReflectionMapping:oe,EquirectangularRefractionMapping:se,SphericalReflectionMapping:ce,CubeUVReflectionMapping:de,CubeUVRefractionMapping:be},gb={RepeatWrapping:fe,ClampToEdgeWrapping:he,MirroredRepeatWrapping:le},vb={NearestFilter:ue,NearestMipmapNearestFilter:pe,NearestMipmapLinearFilter:me,LinearFilter:ge,LinearMipmapNearestFilter:ve,LinearMipmapLinearFilter:ye};function yb(e){\"undefined\"==typeof createImageBitmap&&console.warn(\"THREE.ImageBitmapLoader: createImageBitmap() not supported.\"),\"undefined\"==typeof fetch&&console.warn(\"THREE.ImageBitmapLoader: fetch() not supported.\"),vd.call(this,e),this.options=void 0}function xb(){this.type=\"ShapePath\",this.color=new ii,this.subPaths=[],this.currentPath=null}function wb(e){this.type=\"Font\",this.data=e}function _b(e,t,a,i,n){var r=n.glyphs[e]||n.glyphs[\"?\"];if(r){var o,s,c,d,b,f,h,l,u=new xb;if(r.o)for(var p=r._cachedOutline||(r._cachedOutline=r.o.split(\" \")),m=0,g=p.length;m<g;){switch(p[m++]){case\"m\":o=p[m++]*t+a,s=p[m++]*t+i,u.moveTo(o,s);break;case\"l\":o=p[m++]*t+a,s=p[m++]*t+i,u.lineTo(o,s);break;case\"q\":c=p[m++]*t+a,d=p[m++]*t+i,b=p[m++]*t+a,f=p[m++]*t+i,u.quadraticCurveTo(b,f,c,d);break;case\"b\":c=p[m++]*t+a,d=p[m++]*t+i,b=p[m++]*t+a,f=p[m++]*t+i,h=p[m++]*t+a,l=p[m++]*t+i,u.bezierCurveTo(b,f,h,l,c,d)}}return{offsetX:r.ha*t,path:u}}console.error('THREE.Font: character \"'+e+'\" does not exists in font family '+n.familyName+\".\")}function Mb(e){vd.call(this,e)}yb.prototype=Object.assign(Object.create(vd.prototype),{constructor:yb,setOptions:function(e){return this.options=e,this},load:function(e,t,a,i){void 0===e&&(e=\"\"),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var n=this,r=pd.get(e);if(void 0!==r)return n.manager.itemStart(e),setTimeout((function(){t&&t(r),n.manager.itemEnd(e)}),0),r;fetch(e).then((function(e){return e.blob()})).then((function(e){return void 0===n.options?createImageBitmap(e):createImageBitmap(e,n.options)})).then((function(a){pd.add(e,a),t&&t(a),n.manager.itemEnd(e)})).catch((function(t){i&&i(t),n.manager.itemError(e),n.manager.itemEnd(e)})),n.manager.itemStart(e)}}),Object.assign(xb.prototype,{moveTo:function(e,t){this.currentPath=new Yd,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,a,i){this.currentPath.quadraticCurveTo(e,t,a,i)},bezierCurveTo:function(e,t,a,i,n,r){this.currentPath.bezierCurveTo(e,t,a,i,n,r)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function a(e){for(var t=[],a=0,i=e.length;a<i;a++){var n=e[a],r=new Zd;r.curves=n.curves,t.push(r)}return t}function i(e,t){for(var a=t.length,i=!1,n=a-1,r=0;r<a;n=r++){var o=t[n],s=t[r],c=s.x-o.x,d=s.y-o.y;if(Math.abs(d)>Number.EPSILON){if(d<0&&(o=t[r],c=-c,s=t[n],d=-d),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var b=d*(e.x-o.x)-c*(e.y-o.y);if(0===b)return!0;if(b<0)continue;i=!i}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return i}var n=gc.isClockWise,r=this.subPaths;if(0===r.length)return[];if(!0===t)return a(r);var o,s,c,d=[];if(1===r.length)return s=r[0],(c=new Zd).curves=s.curves,d.push(c),d;var b=!n(r[0].getPoints());b=e?!b:b;var f,h,l=[],u=[],p=[],m=0;u[m]=void 0,p[m]=[];for(var g=0,v=r.length;g<v;g++)o=n(f=(s=r[g]).getPoints()),(o=e?!o:o)?(!b&&u[m]&&m++,u[m]={s:new Zd,p:f},u[m].s.curves=s.curves,b&&m++,p[m]=[]):p[m].push({h:s,p:f[0]});if(!u[0])return a(r);if(u.length>1){for(var y=!1,x=[],w=0,_=u.length;w<_;w++)l[w]=[];for(w=0,_=u.length;w<_;w++)for(var M=p[w],S=0;S<M.length;S++){for(var T=M[S],E=!0,A=0;A<u.length;A++)i(T.p,u[A].p)&&(w!==A&&x.push({froms:w,tos:A,hole:S}),E?(E=!1,l[A].push(T)):y=!0);E&&l[w].push(T)}x.length>0&&(y||(p=l))}g=0;for(var L=u.length;g<L;g++){c=u[g].s,d.push(c);for(var R=0,P=(h=p[g]).length;R<P;R++)c.holes.push(h[R].h)}return d}}),Object.assign(wb.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var a=[],i=function(e,t,a){for(var i=Array.from?Array.from(e):String(e).split(\"\"),n=t/a.resolution,r=(a.boundingBox.yMax-a.boundingBox.yMin+a.underlineThickness)*n,o=[],s=0,c=0,d=0;d<i.length;d++){var b=i[d];if(\"\\n\"===b)s=0,c-=r;else{var f=_b(b,n,s,c,a);s+=f.offsetX,o.push(f.path)}}return o}(e,t,this.data),n=0,r=i.length;n<r;n++)Array.prototype.push.apply(a,i[n].toShapes());return a}}),Mb.prototype=Object.assign(Object.create(vd.prototype),{constructor:Mb,load:function(e,t,a,i){var n=this,r=new xd(this.manager);r.setPath(this.path),r.load(e,(function(e){var a;try{a=JSON.parse(e)}catch(t){console.warn(\"THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.\"),a=JSON.parse(e.substring(65,e.length-2))}var i=n.parse(a);t&&t(i)}),a,i)},parse:function(e){return new wb(e)}});var Sb={getContext:function(){return void 0===pb&&(pb=new(window.AudioContext||window.webkitAudioContext)),pb},setContext:function(e){pb=e}};function Tb(e){vd.call(this,e)}function Eb(){this.coefficients=[];for(var e=0;e<9;e++)this.coefficients.push(new zt)}function Ab(e,t){Jd.call(this,void 0,t),this.sh=void 0!==e?e:new Eb}function Lb(e,t,a){Ab.call(this,void 0,a);var i=(new ii).set(e),n=(new ii).set(t),r=new zt(i.r,i.g,i.b),o=new zt(n.r,n.g,n.b),s=Math.sqrt(Math.PI),c=s*Math.sqrt(.75);this.sh.coefficients[0].copy(r).add(o).multiplyScalar(s),this.sh.coefficients[1].copy(r).sub(o).multiplyScalar(c)}function Rb(e,t){Ab.call(this,void 0,t);var a=(new ii).set(e);this.sh.coefficients[0].set(a.r,a.g,a.b).multiplyScalar(2*Math.sqrt(Math.PI))}Tb.prototype=Object.assign(Object.create(vd.prototype),{constructor:Tb,load:function(e,t,a,i){var n=new xd(this.manager);n.setResponseType(\"arraybuffer\"),n.setPath(this.path),n.load(e,(function(e){var a=e.slice(0);Sb.getContext().decodeAudioData(a,(function(e){t(e)}))}),a,i)}}),Object.assign(Eb.prototype,{isSphericalHarmonics3:!0,set:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this},zero:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this},getAt:function(e,t){var a=e.x,i=e.y,n=e.z,r=this.coefficients;return t.copy(r[0]).multiplyScalar(.282095),t.addScale(r[1],.488603*i),t.addScale(r[2],.488603*n),t.addScale(r[3],.488603*a),t.addScale(r[4],a*i*1.092548),t.addScale(r[5],i*n*1.092548),t.addScale(r[6],.315392*(3*n*n-1)),t.addScale(r[7],a*n*1.092548),t.addScale(r[8],.546274*(a*a-i*i)),t},getIrradianceAt:function(e,t){var a=e.x,i=e.y,n=e.z,r=this.coefficients;return t.copy(r[0]).multiplyScalar(.886227),t.addScale(r[1],1.023328*i),t.addScale(r[2],1.023328*n),t.addScale(r[3],1.023328*a),t.addScale(r[4],.858086*a*i),t.addScale(r[5],.858086*i*n),t.addScale(r[6],.743125*n*n-.247708),t.addScale(r[7],.858086*a*n),t.addScale(r[8],.429043*(a*a-i*i)),t},add:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this},scale:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this},lerp:function(e,t){for(var a=0;a<9;a++)this.coefficients[a].lerp(e.coefficients[a],t);return this},equals:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0},copy:function(e){return this.set(e.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(e,t){void 0===t&&(t=0);for(var a=this.coefficients,i=0;i<9;i++)a[i].fromArray(e,t+3*i);return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);for(var a=this.coefficients,i=0;i<9;i++)a[i].toArray(e,t+3*i);return e}}),Object.assign(Eb,{getBasisAt:function(e,t){var a=e.x,i=e.y,n=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*n,t[3]=.488603*a,t[4]=1.092548*a*i,t[5]=1.092548*i*n,t[6]=.315392*(3*n*n-1),t[7]=1.092548*a*n,t[8]=.546274*(a*a-i*i)}}),Ab.prototype=Object.assign(Object.create(Jd.prototype),{constructor:Ab,isLightProbe:!0,copy:function(e){return Jd.prototype.copy.call(this,e),this.sh.copy(e.sh),this.intensity=e.intensity,this},toJSON:function(e){return Jd.prototype.toJSON.call(this,e)}}),Lb.prototype=Object.assign(Object.create(Ab.prototype),{constructor:Lb,isHemisphereLightProbe:!0,copy:function(e){return Ab.prototype.copy.call(this,e),this},toJSON:function(e){return Ab.prototype.toJSON.call(this,e)}}),Rb.prototype=Object.assign(Object.create(Ab.prototype),{constructor:Rb,isAmbientLightProbe:!0,copy:function(e){return Ab.prototype.copy.call(this,e),this},toJSON:function(e){return Ab.prototype.toJSON.call(this,e)}});var Pb=new $t,Cb=new $t;function Ob(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(function(){this.type=\"StereoCamera\",this.aspect=1,this.eyeSep=.064,this.cameraL=new fn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new fn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}.prototype,{update:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;var a,i,n=e.projectionMatrix.clone(),r=t.eyeSep/2,o=r*t.near/t.focus,s=t.near*Math.tan(Ct.DEG2RAD*t.fov*.5)/t.zoom;Cb.elements[12]=-r,Pb.elements[12]=r,a=-s*t.aspect+o,i=s*t.aspect+o,n.elements[0]=2*t.near/(i-a),n.elements[8]=(i+a)/(i-a),this.cameraL.projectionMatrix.copy(n),a=-s*t.aspect-o,i=s*t.aspect-o,n.elements[0]=2*t.near/(i-a),n.elements[8]=(i+a)/(i-a),this.cameraR.projectionMatrix.copy(n)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Cb),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Pb)}}),Object.assign(Ob.prototype,{start:function(){this.startTime=(\"undefined\"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=(\"undefined\"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}});var Ib=new zt,Db=new It,Nb=new zt,zb=new zt;function Ub(){ga.call(this),this.type=\"AudioListener\",this.context=Sb.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Ob}function Bb(e){ga.call(this),this.type=\"Audio\",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.startTime=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType=\"empty\",this.filters=[]}Ub.prototype=Object.assign(Object.create(ga.prototype),{constructor:Ub,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(e){ga.prototype.updateMatrixWorld.call(this,e);var t=this.context.listener,a=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ib,Db,Nb),zb.set(0,0,-1).applyQuaternion(Db),t.positionX){var i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Ib.x,i),t.positionY.linearRampToValueAtTime(Ib.y,i),t.positionZ.linearRampToValueAtTime(Ib.z,i),t.forwardX.linearRampToValueAtTime(zb.x,i),t.forwardY.linearRampToValueAtTime(zb.y,i),t.forwardZ.linearRampToValueAtTime(zb.z,i),t.upX.linearRampToValueAtTime(a.x,i),t.upY.linearRampToValueAtTime(a.y,i),t.upZ.linearRampToValueAtTime(a.z,i)}else t.setPosition(Ib.x,Ib.y,Ib.z),t.setOrientation(zb.x,zb.y,zb.z,a.x,a.y,a.z)}}),Bb.prototype=Object.assign(Object.create(ga.prototype),{constructor:Bb,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType=\"audioNode\",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType=\"mediaNode\",this.source=this.context.createMediaElementSource(e),this.connect(),this},setMediaStreamSource:function(e){return this.hasPlaybackControl=!1,this.sourceType=\"mediaStreamNode\",this.source=this.context.createMediaStreamSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType=\"buffer\",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.onended=this.onEnded.bind(this),this.startTime=this.context.currentTime,e.start(this.startTime,this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn(\"THREE.Audio: this Audio has no playback control.\")}else console.warn(\"THREE.Audio: Audio is already playing.\")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn(\"THREE.Audio: this Audio has no playback control.\")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this;console.warn(\"THREE.Audio: this Audio has no playback control.\")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn(\"THREE.Audio: this Audio has no playback control.\")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn(\"THREE.Audio: this Audio has no playback control.\"),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn(\"THREE.Audio: this Audio has no playback control.\")},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});var Fb=new zt,Gb=new It,Hb=new zt,Vb=new zt;function kb(e){Bb.call(this,e),this.panner=this.context.createPanner(),this.panner.panningModel=\"HRTF\",this.panner.connect(this.gain)}function jb(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function Wb(e,t,a){this.binding=e,this.valueSize=a;var i,n=Float64Array;switch(t){case\"quaternion\":i=this._slerp;break;case\"string\":case\"bool\":n=Array,i=this._select;break;default:i=this._lerp}this.buffer=new n(4*a),this._mixBufferRegion=i,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}kb.prototype=Object.assign(Object.create(Bb.prototype),{constructor:kb,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,a){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=a,this},updateMatrixWorld:function(e){if(ga.prototype.updateMatrixWorld.call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(Fb,Gb,Hb),Vb.set(0,0,1).applyQuaternion(Gb);var t=this.panner;if(t.positionX){var a=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Fb.x,a),t.positionY.linearRampToValueAtTime(Fb.y,a),t.positionZ.linearRampToValueAtTime(Fb.z,a),t.orientationX.linearRampToValueAtTime(Vb.x,a),t.orientationY.linearRampToValueAtTime(Vb.y,a),t.orientationZ.linearRampToValueAtTime(Vb.z,a)}else t.setPosition(Fb.x,Fb.y,Fb.z),t.setOrientation(Vb.x,Vb.y,Vb.z)}}}),Object.assign(jb.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),a=0;a<t.length;a++)e+=t[a];return e/t.length}}),Object.assign(Wb.prototype,{accumulate:function(e,t){var a=this.buffer,i=this.valueSize,n=e*i+i,r=this.cumulativeWeight;if(0===r){for(var o=0;o!==i;++o)a[n+o]=a[o];r=t}else{var s=t/(r+=t);this._mixBufferRegion(a,n,0,s,i)}this.cumulativeWeight=r},apply:function(e){var t=this.valueSize,a=this.buffer,i=e*t+t,n=this.cumulativeWeight,r=this.binding;if(this.cumulativeWeight=0,n<1){var o=3*t;this._mixBufferRegion(a,i,o,1-n,t)}for(var s=t,c=t+t;s!==c;++s)if(a[s]!==a[s+t]){r.setValue(a,i);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,a=this.valueSize,i=3*a;e.getValue(t,i);for(var n=a,r=i;n!==r;++n)t[n]=t[i+n%a];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,a,i,n){if(i>=.5)for(var r=0;r!==n;++r)e[t+r]=e[a+r]},_slerp:function(e,t,a,i){It.slerpFlat(e,t,e,t,e,a,i)},_lerp:function(e,t,a,i,n){for(var r=1-i,o=0;o!==n;++o){var s=t+o;e[s]=e[s]*r+e[a+o]*i}}});var Xb=new RegExp(\"[\\\\[\\\\]\\\\.:\\\\/]\",\"g\"),qb=\"[^\"+\"\\\\[\\\\]\\\\.:\\\\/\".replace(\"\\\\.\",\"\")+\"]\",Yb=/((?:WC+[\\/:])*)/.source.replace(\"WC\",\"[^\\\\[\\\\]\\\\.:\\\\/]\"),Zb=/(WCOD+)?/.source.replace(\"WCOD\",qb),Jb=/(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace(\"WC\",\"[^\\\\[\\\\]\\\\.:\\\\/]\"),Kb=/\\.(WC+)(?:\\[(.+)\\])?/.source.replace(\"WC\",\"[^\\\\[\\\\]\\\\.:\\\\/]\"),Qb=new RegExp(\"^\"+Yb+Zb+Jb+Kb+\"$\"),$b=[\"material\",\"materials\",\"bones\"];function ef(e,t,a){var i=a||tf.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}function tf(e,t,a){this.path=t,this.parsedPath=a||tf.parseTrackName(t),this.node=tf.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function af(e,t,a){this._mixer=e,this._clip=t,this._localRoot=a||null;for(var i=t.tracks,n=i.length,r=new Array(n),o={endingStart:bt,endingEnd:bt},s=0;s!==n;++s){var c=i[s].createInterpolant(null);r[s]=c,c.settings=o}this._interpolantSettings=o,this._interpolants=r,this._propertyBindings=new Array(n),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=dt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function nf(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function rf(e){\"string\"==typeof e&&(console.warn(\"THREE.Uniform: Type parameter is no longer needed.\"),e=arguments[1]),this.value=e}function of(e,t,a){zo.call(this,e,t),this.meshPerAttribute=a||1}function sf(e,t){return e.distance-t.distance}function cf(e,t,a,i){if(!1!==e.visible&&(e.raycast(t,a),!0===i))for(var n=e.children,r=0,o=n.length;r<o;r++)cf(n[r],t,a,!0)}Object.assign(ef.prototype,{getValue:function(e,t){this.bind();var a=this._targetGroup.nCachedObjects_,i=this._bindings[a];void 0!==i&&i.getValue(e,t)},setValue:function(e,t){for(var a=this._bindings,i=this._targetGroup.nCachedObjects_,n=a.length;i!==n;++i)a[i].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,a=e.length;t!==a;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,a=e.length;t!==a;++t)e[t].unbind()}}),Object.assign(tf,{Composite:ef,create:function(e,t,a){return e&&e.isAnimationObjectGroup?new tf.Composite(e,t,a):new tf(e,t,a)},sanitizeNodeName:function(e){return e.replace(/\\s/g,\"_\").replace(Xb,\"\")},parseTrackName:function(e){var t=Qb.exec(e);if(!t)throw new Error(\"PropertyBinding: Cannot parse trackName: \"+e);var a={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=a.nodeName&&a.nodeName.lastIndexOf(\".\");if(void 0!==i&&-1!==i){var n=a.nodeName.substring(i+1);-1!==$b.indexOf(n)&&(a.nodeName=a.nodeName.substring(0,i),a.objectName=n)}if(null===a.propertyName||0===a.propertyName.length)throw new Error(\"PropertyBinding: can not parse propertyName from trackName: \"+e);return a},findNode:function(e,t){if(!t||\"\"===t||\"root\"===t||\".\"===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var a=e.skeleton.getBoneByName(t);if(void 0!==a)return a}if(e.children){var i=function(e){for(var a=0;a<e.length;a++){var n=e[a];if(n.name===t||n.uuid===t)return n;var r=i(n.children);if(r)return r}return null},n=i(e.children);if(n)return n}return null}}),Object.assign(tf.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var a=this.resolvedProperty,i=0,n=a.length;i!==n;++i)e[t++]=a[i]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var a=this.resolvedProperty,i=0,n=a.length;i!==n;++i)a[i]=e[t++]},function(e,t){for(var a=this.resolvedProperty,i=0,n=a.length;i!==n;++i)a[i]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var a=this.resolvedProperty,i=0,n=a.length;i!==n;++i)a[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,a=t.objectName,i=t.propertyName,n=t.propertyIndex;if(e||(e=tf.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(a){var r=t.objectIndex;switch(a){case\"materials\":if(!e.material)return void console.error(\"THREE.PropertyBinding: Can not bind to material as node does not have a material.\",this);if(!e.material.materials)return void console.error(\"THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.\",this);e=e.material.materials;break;case\"bones\":if(!e.skeleton)return void console.error(\"THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.\",this);e=e.skeleton.bones;for(var o=0;o<e.length;o++)if(e[o].name===r){r=o;break}break;default:if(void 0===e[a])return void console.error(\"THREE.PropertyBinding: Can not bind to objectName of node undefined.\",this);e=e[a]}if(void 0!==r){if(void 0===e[r])return void console.error(\"THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.\",this,e);e=e[r]}}var s=e[i];if(void 0!==s){var c=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?c=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate);var d=this.BindingType.Direct;if(void 0!==n){if(\"morphTargetInfluences\"===i){if(!e.geometry)return void console.error(\"THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.\",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error(\"THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.\",this);for(o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(e.geometry.morphAttributes.position[o].name===n){n=o;break}}else{if(!e.geometry.morphTargets)return void console.error(\"THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.\",this);for(o=0;o<this.node.geometry.morphTargets.length;o++)if(e.geometry.morphTargets[o].name===n){n=o;break}}}d=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=n}else void 0!==s.fromArray&&void 0!==s.toArray?(d=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(d=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[d],this.setValue=this.SetterByBindingTypeAndVersioning[d][c]}else{var b=t.nodeName;console.error(\"THREE.PropertyBinding: Trying to update property for track: \"+b+\".\"+i+\" but it wasn't found.\",e)}}else console.error(\"THREE.PropertyBinding: Trying to update node for track: \"+this.path+\" but it wasn't found.\")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),\n//!\\ DECLARE ALIAS AFTER assign prototype !\nObject.assign(tf.prototype,{_getValue_unbound:tf.prototype.getValue,_setValue_unbound:tf.prototype.setValue}),Object.assign(function(){this.uuid=Ct.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,a=arguments.length;t!==a;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,a=this.nCachedObjects_,i=this._indicesByUUID,n=this._paths,r=this._parsedPaths,o=this._bindings,s=o.length,c=void 0,d=0,b=arguments.length;d!==b;++d){var f=arguments[d],h=f.uuid,l=i[h];if(void 0===l){l=t++,i[h]=l,e.push(f);for(var u=0,p=s;u!==p;++u)o[u].push(new tf(f,n[u],r[u]))}else if(l<a){c=e[l];var m=--a,g=e[m];i[g.uuid]=l,e[l]=g,i[h]=m,e[m]=f;for(u=0,p=s;u!==p;++u){var v=o[u],y=v[m],x=v[l];v[l]=y,void 0===x&&(x=new tf(f,n[u],r[u])),v[m]=x}}else e[l]!==c&&console.error(\"THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.\")}this.nCachedObjects_=a},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,a=this._indicesByUUID,i=this._bindings,n=i.length,r=0,o=arguments.length;r!==o;++r){var s=arguments[r],c=s.uuid,d=a[c];if(void 0!==d&&d>=t){var b=t++,f=e[b];a[f.uuid]=d,e[d]=f,a[c]=b,e[b]=s;for(var h=0,l=n;h!==l;++h){var u=i[h],p=u[b],m=u[d];u[d]=p,u[b]=m}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,a=this.nCachedObjects_,i=this._indicesByUUID,n=this._bindings,r=n.length,o=0,s=arguments.length;o!==s;++o){var c=arguments[o],d=c.uuid,b=i[d];if(void 0!==b)if(delete i[d],b<a){var f=--a,h=e[f],l=e[v=--t];i[h.uuid]=b,e[b]=h,i[l.uuid]=f,e[f]=l,e.pop();for(var u=0,p=r;u!==p;++u){var m=(y=n[u])[f],g=y[v];y[b]=m,y[f]=g,y.pop()}}else{var v;i[(l=e[v=--t]).uuid]=b,e[b]=l,e.pop();for(u=0,p=r;u!==p;++u){var y;(y=n[u])[b]=y[v],y.pop()}}}this.nCachedObjects_=a},subscribe_:function(e,t){var a=this._bindingsIndicesByPath,i=a[e],n=this._bindings;if(void 0!==i)return n[i];var r=this._paths,o=this._parsedPaths,s=this._objects,c=s.length,d=this.nCachedObjects_,b=new Array(c);i=n.length,a[e]=i,r.push(e),o.push(t),n.push(b);for(var f=d,h=s.length;f!==h;++f){var l=s[f];b[f]=new tf(l,e,t)}return b},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,a=t[e];if(void 0!==a){var i=this._paths,n=this._parsedPaths,r=this._bindings,o=r.length-1,s=r[o];t[e[o]]=a,r[a]=s,r.pop(),n[a]=n[o],n.pop(),i[a]=i[o],i.pop()}}}),Object.assign(af.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,a){if(e.fadeOut(t),this.fadeIn(t),a){var i=this._clip.duration,n=e._clip.duration,r=n/i,o=i/n;e.warp(1,r,t),this.warp(o,1,t)}return this},crossFadeTo:function(e,t,a){return e.crossFadeFrom(this,t,a)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,a){var i=this._mixer,n=i.time,r=this._timeScaleInterpolant,o=this.timeScale;null===r&&(r=i._lendControlInterpolant(),this._timeScaleInterpolant=r);var s=r.parameterPositions,c=r.sampleValues;return s[0]=n,s[1]=n+a,c[0]=e/o,c[1]=t/o,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,a,i){if(this.enabled){var n=this._startTime;if(null!==n){var r=(e-n)*a;if(r<0||0===a)return;this._startTime=null,t=a*r}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0)for(var c=this._interpolants,d=this._propertyBindings,b=0,f=c.length;b!==f;++b)c[b].evaluate(o),d[b].accumulate(i,s)}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var a=this._weightInterpolant;if(null!==a){var i=a.evaluate(e)[0];t*=i,e>a.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var a=this._timeScaleInterpolant;if(null!==a)t*=a.evaluate(e)[0],e>a.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e,a=this._clip.duration,i=this.loop,n=this._loopCount,r=2202===i;if(0===e)return-1===n?t:r&&1==(1&n)?a-t:t;if(2200===i){-1===n&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=a)t=a;else{if(!(t<0)){this.time=t;break e}t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=t,this._mixer.dispatchEvent({type:\"finished\",action:this,direction:e<0?-1:1})}}else{if(-1===n&&(e>=0?(n=0,this._setEndings(!0,0===this.repetitions,r)):this._setEndings(0===this.repetitions,!0,r)),t>=a||t<0){var o=Math.floor(t/a);t-=a*o,n+=Math.abs(o);var s=this.repetitions-n;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?a:0,this.time=t,this._mixer.dispatchEvent({type:\"finished\",action:this,direction:e>0?1:-1});else{if(1===s){var c=e<0;this._setEndings(c,!c,r)}else this._setEndings(!1,!1,r);this._loopCount=n,this.time=t,this._mixer.dispatchEvent({type:\"loop\",action:this,loopDelta:o})}}else this.time=t;if(r&&1==(1&n))return a-t}return t},_setEndings:function(e,t,a){var i=this._interpolantSettings;a?(i.endingStart=2401,i.endingEnd=2401):(i.endingStart=e?this.zeroSlopeAtStart?2401:bt:2402,i.endingEnd=t?this.zeroSlopeAtEnd?2401:bt:2402)},_scheduleFading:function(e,t,a){var i=this._mixer,n=i.time,r=this._weightInterpolant;null===r&&(r=i._lendControlInterpolant(),this._weightInterpolant=r);var o=r.parameterPositions,s=r.sampleValues;return o[0]=n,s[0]=t,o[1]=n+e,s[1]=a,this}}),nf.prototype=Object.assign(Object.create(Lt.prototype),{constructor:nf,_bindAction:function(e,t){var a=e._localRoot||this._root,i=e._clip.tracks,n=i.length,r=e._propertyBindings,o=e._interpolants,s=a.uuid,c=this._bindingsByRootAndName,d=c[s];void 0===d&&(d={},c[s]=d);for(var b=0;b!==n;++b){var f=i[b],h=f.name,l=d[h];if(void 0!==l)r[b]=l;else{if(void 0!==(l=r[b])){null===l._cacheIndex&&(++l.referenceCount,this._addInactiveBinding(l,s,h));continue}var u=t&&t._propertyBindings[b].binding.parsedPath;++(l=new Wb(tf.create(a,h,u),f.ValueTypeName,f.getValueSize())).referenceCount,this._addInactiveBinding(l,s,h),r[b]=l}o[b].resultBuffer=l.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,a=e._clip.uuid,i=this._actionsByClip[a];this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,a,t)}for(var n=e._propertyBindings,r=0,o=n.length;r!==o;++r){var s=n[r];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,a=0,i=t.length;a!==i;++a){var n=t[a];0==--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,a){var i=this._actions,n=this._actionsByClip,r=n[t];if(void 0===r)r={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,n[t]=r;else{var o=r.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),r.actionByRoot[a]=e},_removeInactiveAction:function(e){var t=this._actions,a=t[t.length-1],i=e._cacheIndex;a._cacheIndex=i,t[i]=a,t.pop(),e._cacheIndex=null;var n=e._clip.uuid,r=this._actionsByClip,o=r[n],s=o.knownActions,c=s[s.length-1],d=e._byClipCacheIndex;c._byClipCacheIndex=d,s[d]=c,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete r[n],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,a=0,i=t.length;a!==i;++a){var n=t[a];0==--n.referenceCount&&this._removeInactiveBinding(n)}},_lendAction:function(e){var t=this._actions,a=e._cacheIndex,i=this._nActiveActions++,n=t[i];e._cacheIndex=i,t[i]=e,n._cacheIndex=a,t[a]=n},_takeBackAction:function(e){var t=this._actions,a=e._cacheIndex,i=--this._nActiveActions,n=t[i];e._cacheIndex=i,t[i]=e,n._cacheIndex=a,t[a]=n},_addInactiveBinding:function(e,t,a){var i=this._bindingsByRootAndName,n=i[t],r=this._bindings;void 0===n&&(n={},i[t]=n),n[a]=e,e._cacheIndex=r.length,r.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,a=e.binding,i=a.rootNode.uuid,n=a.path,r=this._bindingsByRootAndName,o=r[i],s=t[t.length-1],c=e._cacheIndex;s._cacheIndex=c,t[c]=s,t.pop(),delete o[n],0===Object.keys(o).length&&delete r[i]},_lendBinding:function(e){var t=this._bindings,a=e._cacheIndex,i=this._nActiveBindings++,n=t[i];e._cacheIndex=i,t[i]=e,n._cacheIndex=a,t[a]=n},_takeBackBinding:function(e){var t=this._bindings,a=e._cacheIndex,i=--this._nActiveBindings,n=t[i];e._cacheIndex=i,t[i]=e,n._cacheIndex=a,t[a]=n},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,a=e[t];return void 0===a&&((a=new id(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=a),a},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,a=e.__cacheIndex,i=--this._nActiveControlInterpolants,n=t[i];e.__cacheIndex=i,t[i]=e,n.__cacheIndex=a,t[a]=n},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var a=t||this._root,i=a.uuid,n=\"string\"==typeof e?ld.findByName(a,e):e,r=null!==n?n.uuid:e,o=this._actionsByClip[r],s=null;if(void 0!==o){var c=o.actionByRoot[i];if(void 0!==c)return c;s=o.knownActions[0],null===n&&(n=s._clip)}if(null===n)return null;var d=new af(this,n,t);return this._bindAction(d,s),this._addInactiveAction(d,r,i),d},existingAction:function(e,t){var a=t||this._root,i=a.uuid,n=\"string\"==typeof e?ld.findByName(a,e):e,r=n?n.uuid:e,o=this._actionsByClip[r];return void 0!==o&&o.actionByRoot[i]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,a=this._bindings,i=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var n=0;n!==t;++n)e[n].reset();for(n=0;n!==i;++n)a[n].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,a=this._nActiveActions,i=this.time+=e,n=Math.sign(e),r=this._accuIndex^=1,o=0;o!==a;++o){t[o]._update(i,e,n,r)}var s=this._bindings,c=this._nActiveBindings;for(o=0;o!==c;++o)s[o].apply(r);return this},setTime:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,a=e.uuid,i=this._actionsByClip,n=i[a];if(void 0!==n){for(var r=n.knownActions,o=0,s=r.length;o!==s;++o){var c=r[o];this._deactivateAction(c);var d=c._cacheIndex,b=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,b._cacheIndex=d,t[d]=b,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[a]}},uncacheRoot:function(e){var t=e.uuid,a=this._actionsByClip;for(var i in a){var n=a[i].actionByRoot[t];void 0!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}var r=this._bindingsByRootAndName[t];if(void 0!==r)for(var o in r){var s=r[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){var a=this.existingAction(e,t);null!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}}),rf.prototype.clone=function(){return new rf(void 0===this.value.clone?this.value:this.value.clone())},of.prototype=Object.assign(Object.create(zo.prototype),{constructor:of,isInstancedInterleavedBuffer:!0,copy:function(e){return zo.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(function(e,t,a,i){this.ray=new Va(e,t),this.near=a||0,this.far=i||1/0,this.camera=null,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn(\"THREE.Raycaster: params.PointCloud has been renamed to params.Points.\"),this.Points}}})}.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error(\"THREE.Raycaster: Unsupported camera type.\")},intersectObject:function(e,t,a){var i=a||[];return cf(e,this,i,t),i.sort(sf),i},intersectObjects:function(e,t,a){var i=a||[];if(!1===Array.isArray(e))return console.warn(\"THREE.Raycaster.intersectObjects: objects is not an Array.\"),i;for(var n=0,r=e.length;n<r;n++)cf(e[n],this,i,t);return i.sort(sf),i}}),Object.assign(function(e,t,a){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==a?a:0,this}.prototype,{set:function(e,t,a){return this.radius=e,this.phi=t,this.theta=a,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,a){return this.radius=Math.sqrt(e*e+t*t+a*a),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,a),this.phi=Math.acos(Ct.clamp(t/this.radius,-1,1))),this}}),Object.assign(function(e,t,a){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==a?a:0,this}.prototype,{set:function(e,t,a){return this.radius=e,this.theta=t,this.y=a,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,a){return this.radius=Math.sqrt(e*e+a*a),this.theta=Math.atan2(e,a),this.y=t,this}});var df=new Ot;function bf(e,t){this.min=void 0!==e?e:new Ot(1/0,1/0),this.max=void 0!==t?t:new Ot(-1/0,-1/0)}Object.assign(bf.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,a=e.length;t<a;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var a=df.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(a),this.max.copy(e).add(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn(\"THREE.Box2: .getCenter() target is now required\"),e=new Ot),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn(\"THREE.Box2: .getSize() target is now required\"),e=new Ot),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn(\"THREE.Box2: .getParameter() target is now required\"),t=new Ot),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn(\"THREE.Box2: .clampPoint() target is now required\"),t=new Ot),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return df.copy(e).clamp(this.min,this.max).sub(e).length()},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var ff=new zt,hf=new zt;function lf(e,t){this.start=void 0!==e?e:new zt,this.end=void 0!==t?t:new zt}function uf(e){ga.call(this),this.material=e,this.render=function(){}}Object.assign(lf.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn(\"THREE.Line3: .getCenter() target is now required\"),e=new zt),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn(\"THREE.Line3: .delta() target is now required\"),e=new zt),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn(\"THREE.Line3: .at() target is now required\"),t=new zt),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(e,t){ff.subVectors(e,this.start),hf.subVectors(this.end,this.start);var a=hf.dot(hf),i=hf.dot(ff)/a;return t&&(i=Ct.clamp(i,0,1)),i},closestPointToPoint:function(e,t,a){var i=this.closestPointToPointParameter(e,t);return void 0===a&&(console.warn(\"THREE.Line3: .closestPointToPoint() target is now required\"),a=new zt),this.delta(a).multiplyScalar(i).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),uf.prototype=Object.create(ga.prototype),uf.prototype.constructor=uf,uf.prototype.isImmediateRenderObject=!0;var pf=new zt,mf=new zt,gf=new Ft,vf=[\"a\",\"b\",\"c\"];function yf(e,t,a,i){this.object=e,this.size=void 0!==t?t:1;var n=void 0!==a?a:16711680,r=void 0!==i?i:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=3*s.faces.length:s&&s.isBufferGeometry&&(o=s.attributes.normal.count);var c=new Pi,d=new yi(2*o*3,3);c.addAttribute(\"position\",d),gs.call(this,c,new cs({color:n,linewidth:r})),this.matrixAutoUpdate=!1,this.update()}yf.prototype=Object.create(gs.prototype),yf.prototype.constructor=yf,yf.prototype.update=function(){this.object.updateMatrixWorld(!0),gf.getNormalMatrix(this.object.matrixWorld);var e=this.object.matrixWorld,t=this.geometry.attributes.position,a=this.object.geometry;if(a&&a.isGeometry)for(var i=a.vertices,n=a.faces,r=0,o=0,s=n.length;o<s;o++)for(var c=n[o],d=0,b=c.vertexNormals.length;d<b;d++){var f=i[c[vf[d]]],h=c.vertexNormals[d];pf.copy(f).applyMatrix4(e),mf.copy(h).applyMatrix3(gf).normalize().multiplyScalar(this.size).add(pf),t.setXYZ(r,pf.x,pf.y,pf.z),r+=1,t.setXYZ(r,mf.x,mf.y,mf.z),r+=1}else if(a&&a.isBufferGeometry){var l=a.attributes.position,u=a.attributes.normal;for(r=0,d=0,b=l.count;d<b;d++)pf.set(l.getX(d),l.getY(d),l.getZ(d)).applyMatrix4(e),mf.set(u.getX(d),u.getY(d),u.getZ(d)),mf.applyMatrix3(gf).normalize().multiplyScalar(this.size).add(pf),t.setXYZ(r,pf.x,pf.y,pf.z),r+=1,t.setXYZ(r,mf.x,mf.y,mf.z),r+=1}t.needsUpdate=!0};var xf=new zt;function wf(e,t){ga.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var a=new Pi,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],n=0,r=1;n<32;n++,r++){var o=n/32*Math.PI*2,s=r/32*Math.PI*2;i.push(Math.cos(o),Math.sin(o),1,Math.cos(s),Math.sin(s),1)}a.addAttribute(\"position\",new yi(i,3));var c=new cs({fog:!1});this.cone=new gs(a,c),this.add(this.cone),this.update()}wf.prototype=Object.create(ga.prototype),wf.prototype.constructor=wf,wf.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},wf.prototype.update=function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),xf.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(xf),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};var _f=new zt,Mf=new $t,Sf=new $t;function Tf(e){for(var t=function e(t){var a=[];t&&t.isBone&&a.push(t);for(var i=0;i<t.children.length;i++)a.push.apply(a,e(t.children[i]));return a}(e),a=new Pi,i=[],n=[],r=new ii(0,0,1),o=new ii(0,1,0),s=0;s<t.length;s++){var c=t[s];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),n.push(r.r,r.g,r.b),n.push(o.r,o.g,o.b))}a.addAttribute(\"position\",new yi(i,3)),a.addAttribute(\"color\",new yi(n,3));var d=new cs({vertexColors:v,depthTest:!1,depthWrite:!1,transparent:!0});gs.call(this,a,d),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function Ef(e,t,a){this.light=e,this.light.updateMatrixWorld(),this.color=a;var i=new Ac(t,4,2),n=new bi({wireframe:!0,fog:!1});Yi.call(this,i,n),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Af(e,t){this.type=\"RectAreaLightHelper\",this.light=e,this.color=t;var a=new Pi;a.addAttribute(\"position\",new yi([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),a.computeBoundingSphere();var i=new cs({fog:!1});us.call(this,a,i);var n=new Pi;n.addAttribute(\"position\",new yi([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),n.computeBoundingSphere(),this.add(new Yi(n,new bi({side:u,fog:!1}))),this.update()}Tf.prototype=Object.create(gs.prototype),Tf.prototype.constructor=Tf,Tf.prototype.updateMatrixWorld=function(e){var t=this.bones,a=this.geometry,i=a.getAttribute(\"position\");Sf.getInverse(this.root.matrixWorld);for(var n=0,r=0;n<t.length;n++){var o=t[n];o.parent&&o.parent.isBone&&(Mf.multiplyMatrices(Sf,o.matrixWorld),_f.setFromMatrixPosition(Mf),i.setXYZ(r,_f.x,_f.y,_f.z),Mf.multiplyMatrices(Sf,o.parent.matrixWorld),_f.setFromMatrixPosition(Mf),i.setXYZ(r+1,_f.x,_f.y,_f.z),r+=2)}a.getAttribute(\"position\").needsUpdate=!0,ga.prototype.updateMatrixWorld.call(this,e)},Ef.prototype=Object.create(Yi.prototype),Ef.prototype.constructor=Ef,Ef.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Ef.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},Af.prototype=Object.create(us.prototype),Af.prototype.constructor=Af,Af.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var e=this.material.color,t=Math.max(e.r,e.g,e.b);t>1&&e.multiplyScalar(1/t),this.children[0].material.color.copy(this.material.color)}},Af.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()};var Lf=new zt,Rf=new ii,Pf=new ii;function Cf(e,t,a){ga.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=a;var i=new Bs(t);i.rotateY(.5*Math.PI),this.material=new bi({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=v);var n=i.getAttribute(\"position\"),r=new Float32Array(3*n.count);i.addAttribute(\"color\",new fi(r,3)),this.add(new Yi(i,this.material)),this.update()}function Of(e,t){this.lightProbe=e,this.size=t;var a={GAMMA_OUTPUT:\"\"},i=new dn({defines:a,uniforms:{sh:{value:this.lightProbe.sh.coefficients},intensity:{value:this.lightProbe.intensity}},vertexShader:[\"varying vec3 vNormal;\",\"void main() {\",\"\\tvNormal = normalize( normalMatrix * normal );\",\"\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\"}\"].join(\"\\n\"),fragmentShader:[\"#define RECIPROCAL_PI 0.318309886\",\"vec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {\",\"\\t// matrix is assumed to be orthogonal\",\"\\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );\",\"}\",\"vec3 linearToOutput( in vec3 a ) {\",\"\\t#ifdef GAMMA_OUTPUT\",\"\\t\\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );\",\"\\t#else\",\"\\t\\treturn a;\",\"\\t#endif\",\"}\",\"// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf\",\"vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\",\"\\t// normal is assumed to have unit length\",\"\\tfloat x = normal.x, y = normal.y, z = normal.z;\",\"\\t// band 0\",\"\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\",\"\\t// band 1\",\"\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\",\"\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\",\"\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\",\"\\t// band 2\",\"\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\",\"\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\",\"\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\",\"\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\",\"\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\",\"\\treturn result;\",\"}\",\"uniform vec3 sh[ 9 ]; // sh coefficients\",\"uniform float intensity; // light probe intensity\",\"varying vec3 vNormal;\",\"void main() {\",\"\\tvec3 normal = normalize( vNormal );\",\"\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\",\"\\tvec3 irradiance = shGetIrradianceAt( worldNormal, sh );\",\"\\tvec3 outgoingLight = RECIPROCAL_PI * irradiance * intensity;\",\"\\toutgoingLight = linearToOutput( outgoingLight );\",\"\\tgl_FragColor = vec4( outgoingLight, 1.0 );\",\"}\"].join(\"\\n\")}),n=new Ac(1,32,16);Yi.call(this,n,i),this.onBeforeRender()}function If(e,t,a,i){e=e||10,t=t||10,a=new ii(void 0!==a?a:4473924),i=new ii(void 0!==i?i:8947848);for(var n=t/2,r=e/t,o=e/2,s=[],c=[],d=0,b=0,f=-o;d<=t;d++,f+=r){s.push(-o,0,f,o,0,f),s.push(f,0,-o,f,0,o);var h=d===n?a:i;h.toArray(c,b),b+=3,h.toArray(c,b),b+=3,h.toArray(c,b),b+=3,h.toArray(c,b),b+=3}var l=new Pi;l.addAttribute(\"position\",new yi(s,3)),l.addAttribute(\"color\",new yi(c,3));var u=new cs({vertexColors:v});gs.call(this,l,u)}function Df(e,t,a,i,n,r){e=e||10,t=t||16,a=a||8,i=i||64,n=new ii(void 0!==n?n:4473924),r=new ii(void 0!==r?r:8947848);var o,s,c,d,b,f,h,l=[],u=[];for(d=0;d<=t;d++)c=d/t*(2*Math.PI),o=Math.sin(c)*e,s=Math.cos(c)*e,l.push(0,0,0),l.push(o,0,s),h=1&d?n:r,u.push(h.r,h.g,h.b),u.push(h.r,h.g,h.b);for(d=0;d<=a;d++)for(h=1&d?n:r,f=e-e/a*d,b=0;b<i;b++)c=b/i*(2*Math.PI),o=Math.sin(c)*f,s=Math.cos(c)*f,l.push(o,0,s),u.push(h.r,h.g,h.b),c=(b+1)/i*(2*Math.PI),o=Math.sin(c)*f,s=Math.cos(c)*f,l.push(o,0,s),u.push(h.r,h.g,h.b);var p=new Pi;p.addAttribute(\"position\",new yi(l,3)),p.addAttribute(\"color\",new yi(u,3));var m=new cs({vertexColors:v});gs.call(this,p,m)}function Nf(e,t,a,i){this.audio=e,this.range=t||1,this.divisionsInnerAngle=a||16,this.divisionsOuterAngle=i||2;var n=new Pi,r=this.divisionsInnerAngle+2*this.divisionsOuterAngle,o=new Float32Array(3*(3*r+3));n.addAttribute(\"position\",new fi(o,3));var s=new cs({color:65280}),c=new cs({color:16776960});us.call(this,n,[c,s]),this.update()}Cf.prototype=Object.create(ga.prototype),Cf.prototype.constructor=Cf,Cf.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Cf.prototype.update=function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute(\"color\");Rf.copy(this.light.color),Pf.copy(this.light.groundColor);for(var a=0,i=t.count;a<i;a++){var n=a<i/2?Rf:Pf;t.setXYZ(a,n.r,n.g,n.b)}t.needsUpdate=!0}e.lookAt(Lf.setFromMatrixPosition(this.light.matrixWorld).negate())},Of.prototype=Object.create(Yi.prototype),Of.prototype.constructor=Of,Of.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Of.prototype.onBeforeRender=function(){this.position.copy(this.lightProbe.position),this.scale.set(1,1,1).multiplyScalar(this.size),this.material.uniforms.intensity.value=this.lightProbe.intensity},If.prototype=Object.assign(Object.create(gs.prototype),{constructor:If,copy:function(e){return gs.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return(new this.constructor).copy(this)}}),Df.prototype=Object.create(gs.prototype),Df.prototype.constructor=Df,Nf.prototype=Object.create(us.prototype),Nf.prototype.constructor=Nf,Nf.prototype.update=function(){var e,t,a=this.audio,i=this.range,n=this.divisionsInnerAngle,r=this.divisionsOuterAngle,o=Ct.degToRad(a.panner.coneInnerAngle),s=Ct.degToRad(a.panner.coneOuterAngle),c=o/2,d=s/2,b=0,f=0,h=this.geometry,l=h.attributes.position;function u(a,n,r,o){var s=(n-a)/r;for(l.setXYZ(b,0,0,0),f++,e=a;e<n;e+=s)t=b+f,l.setXYZ(t,Math.sin(e)*i,0,Math.cos(e)*i),l.setXYZ(t+1,Math.sin(Math.min(e+s,n))*i,0,Math.cos(Math.min(e+s,n))*i),l.setXYZ(t+2,0,0,0),f+=3;h.addGroup(b,f,o),b+=f,f=0}h.clearGroups(),u(-d,-c,r,0),u(-c,c,n,1),u(c,d,r,0),l.needsUpdate=!0,o===s&&(this.material[0].visible=!1)},Nf.prototype.dispose=function(){this.geometry.dispose(),this.material[0].dispose(),this.material[1].dispose()};var zf=new zt,Uf=new zt,Bf=new Ft;function Ff(e,t,a,i){this.object=e,this.size=void 0!==t?t:1;var n=void 0!==a?a:16776960,r=void 0!==i?i:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=s.faces.length:console.warn(\"THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.\");var c=new Pi,d=new yi(2*o*3,3);c.addAttribute(\"position\",d),gs.call(this,c,new cs({color:n,linewidth:r})),this.matrixAutoUpdate=!1,this.update()}Ff.prototype=Object.create(gs.prototype),Ff.prototype.constructor=Ff,Ff.prototype.update=function(){this.object.updateMatrixWorld(!0),Bf.getNormalMatrix(this.object.matrixWorld);for(var e=this.object.matrixWorld,t=this.geometry.attributes.position,a=this.object.geometry,i=a.vertices,n=a.faces,r=0,o=0,s=n.length;o<s;o++){var c=n[o],d=c.normal;zf.copy(i[c.a]).add(i[c.b]).add(i[c.c]).divideScalar(3).applyMatrix4(e),Uf.copy(d).applyMatrix3(Bf).normalize().multiplyScalar(this.size).add(zf),t.setXYZ(r,zf.x,zf.y,zf.z),r+=1,t.setXYZ(r,Uf.x,Uf.y,Uf.z),r+=1}t.needsUpdate=!0};var Gf=new zt,Hf=new zt,Vf=new zt;function kf(e,t,a){ga.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=a,void 0===t&&(t=1);var i=new Pi;i.addAttribute(\"position\",new yi([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var n=new cs({fog:!1});this.lightPlane=new us(i,n),this.add(this.lightPlane),(i=new Pi).addAttribute(\"position\",new yi([0,0,0,0,0,1],3)),this.targetLine=new us(i,n),this.add(this.targetLine),this.update()}kf.prototype=Object.create(ga.prototype),kf.prototype.constructor=kf,kf.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},kf.prototype.update=function(){Gf.setFromMatrixPosition(this.light.matrixWorld),Hf.setFromMatrixPosition(this.light.target.matrixWorld),Vf.subVectors(Hf,Gf),this.lightPlane.lookAt(Hf),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Hf),this.targetLine.scale.z=Vf.length()};var jf=new zt,Wf=new bn;function Xf(e){var t=new Pi,a=new cs({color:16777215,vertexColors:g}),i=[],n=[],r={},o=new ii(16755200),s=new ii(16711680),c=new ii(43775),d=new ii(16777215),b=new ii(3355443);function f(e,t,a){h(e,a),h(t,a)}function h(e,t){i.push(0,0,0),n.push(t.r,t.g,t.b),void 0===r[e]&&(r[e]=[]),r[e].push(i.length/3-1)}f(\"n1\",\"n2\",o),f(\"n2\",\"n4\",o),f(\"n4\",\"n3\",o),f(\"n3\",\"n1\",o),f(\"f1\",\"f2\",o),f(\"f2\",\"f4\",o),f(\"f4\",\"f3\",o),f(\"f3\",\"f1\",o),f(\"n1\",\"f1\",o),f(\"n2\",\"f2\",o),f(\"n3\",\"f3\",o),f(\"n4\",\"f4\",o),f(\"p\",\"n1\",s),f(\"p\",\"n2\",s),f(\"p\",\"n3\",s),f(\"p\",\"n4\",s),f(\"u1\",\"u2\",c),f(\"u2\",\"u3\",c),f(\"u3\",\"u1\",c),f(\"c\",\"t\",d),f(\"p\",\"c\",b),f(\"cn1\",\"cn2\",b),f(\"cn3\",\"cn4\",b),f(\"cf1\",\"cf2\",b),f(\"cf3\",\"cf4\",b),t.addAttribute(\"position\",new yi(i,3)),t.addAttribute(\"color\",new yi(n,3)),gs.call(this,t,a),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=r,this.update()}function qf(e,t,a,i,n,r,o){jf.set(n,r,o).unproject(i);var s=t[e];if(void 0!==s)for(var c=a.getAttribute(\"position\"),d=0,b=s.length;d<b;d++)c.setXYZ(s[d],jf.x,jf.y,jf.z)}Xf.prototype=Object.create(gs.prototype),Xf.prototype.constructor=Xf,Xf.prototype.update=function(){var e=this.geometry,t=this.pointMap;Wf.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),qf(\"c\",t,e,Wf,0,0,-1),qf(\"t\",t,e,Wf,0,0,1),qf(\"n1\",t,e,Wf,-1,-1,-1),qf(\"n2\",t,e,Wf,1,-1,-1),qf(\"n3\",t,e,Wf,-1,1,-1),qf(\"n4\",t,e,Wf,1,1,-1),qf(\"f1\",t,e,Wf,-1,-1,1),qf(\"f2\",t,e,Wf,1,-1,1),qf(\"f3\",t,e,Wf,-1,1,1),qf(\"f4\",t,e,Wf,1,1,1),qf(\"u1\",t,e,Wf,.7,1.1,-1),qf(\"u2\",t,e,Wf,-.7,1.1,-1),qf(\"u3\",t,e,Wf,0,2,-1),qf(\"cf1\",t,e,Wf,-1,0,1),qf(\"cf2\",t,e,Wf,1,0,1),qf(\"cf3\",t,e,Wf,0,-1,1),qf(\"cf4\",t,e,Wf,0,1,1),qf(\"cn1\",t,e,Wf,-1,0,-1),qf(\"cn2\",t,e,Wf,1,0,-1),qf(\"cn3\",t,e,Wf,0,-1,-1),qf(\"cn4\",t,e,Wf,0,1,-1),e.getAttribute(\"position\").needsUpdate=!0};var Yf=new Ca;function Zf(e,t){this.object=e,void 0===t&&(t=16776960);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),n=new Pi;n.setIndex(new fi(a,1)),n.addAttribute(\"position\",new fi(i,3)),gs.call(this,n,new cs({color:t})),this.matrixAutoUpdate=!1,this.update()}function Jf(e,t){this.type=\"Box3Helper\",this.box=e,t=t||16776960;var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Pi;i.setIndex(new fi(a,1)),i.addAttribute(\"position\",new yi([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),gs.call(this,i,new cs({color:t})),this.geometry.computeBoundingSphere()}function Kf(e,t,a){this.type=\"PlaneHelper\",this.plane=e,this.size=void 0===t?1:t;var i=void 0!==a?a:16776960,n=new Pi;n.addAttribute(\"position\",new yi([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),n.computeBoundingSphere(),us.call(this,n,new cs({color:i}));var r=new Pi;r.addAttribute(\"position\",new yi([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),r.computeBoundingSphere(),this.add(new Yi(r,new bi({color:i,opacity:.2,transparent:!0,depthWrite:!1})))}Zf.prototype=Object.create(gs.prototype),Zf.prototype.constructor=Zf,Zf.prototype.update=function(e){if(void 0!==e&&console.warn(\"THREE.BoxHelper: .update() has no longer arguments.\"),void 0!==this.object&&Yf.setFromObject(this.object),!Yf.isEmpty()){var t=Yf.min,a=Yf.max,i=this.geometry.attributes.position,n=i.array;n[0]=a.x,n[1]=a.y,n[2]=a.z,n[3]=t.x,n[4]=a.y,n[5]=a.z,n[6]=t.x,n[7]=t.y,n[8]=a.z,n[9]=a.x,n[10]=t.y,n[11]=a.z,n[12]=a.x,n[13]=a.y,n[14]=t.z,n[15]=t.x,n[16]=a.y,n[17]=t.z,n[18]=t.x,n[19]=t.y,n[20]=t.z,n[21]=a.x,n[22]=t.y,n[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}},Zf.prototype.setFromObject=function(e){return this.object=e,this.update(),this},Zf.prototype.copy=function(e){return gs.prototype.copy.call(this,e),this.object=e.object,this},Zf.prototype.clone=function(){return(new this.constructor).copy(this)},Jf.prototype=Object.create(gs.prototype),Jf.prototype.constructor=Jf,Jf.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),ga.prototype.updateMatrixWorld.call(this,e))},Kf.prototype=Object.create(us.prototype),Kf.prototype.constructor=Kf,Kf.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?u:l,this.lookAt(this.plane.normal),ga.prototype.updateMatrixWorld.call(this,e)};var Qf,$f,eh=new zt;function th(e,t,a,i,n,r){ga.call(this),void 0===e&&(e=new zt(0,0,1)),void 0===t&&(t=new zt(0,0,0)),void 0===a&&(a=1),void 0===i&&(i=16776960),void 0===n&&(n=.2*a),void 0===r&&(r=.2*n),void 0===Qf&&((Qf=new Pi).addAttribute(\"position\",new yi([0,0,0,0,1,0],3)),($f=new Uc(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new us(Qf,new cs({color:i})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Yi($f,new bi({color:i})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(a,n,r)}function ah(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],a=new Pi;a.addAttribute(\"position\",new yi(t,3)),a.addAttribute(\"color\",new yi([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var i=new cs({vertexColors:v});gs.call(this,a,i)}th.prototype=Object.create(ga.prototype),th.prototype.constructor=th,th.prototype.setDirection=function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{eh.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(eh,t)}},th.prototype.setLength=function(e,t,a){void 0===t&&(t=.2*e),void 0===a&&(a=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(a,t,a),this.cone.position.y=e,this.cone.updateMatrix()},th.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)},th.prototype.copy=function(e){return ga.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},th.prototype.clone=function(){return(new this.constructor).copy(this)},ah.prototype=Object.create(gs.prototype),ah.prototype.constructor=ah;function ih(e){console.warn(\"THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.\"),Nd.call(this,e),this.type=\"catmullrom\"}Ad.create=function(e,t){return console.log(\"THREE.Curve.create() has been deprecated\"),e.prototype=Object.create(Ad.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(qd.prototype,{createPointsGeometry:function(e){console.warn(\"THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.\");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn(\"THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.\");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn(\"THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.\");for(var t=new tn,a=0,i=e.length;a<i;a++){var n=e[a];t.vertices.push(new zt(n.x,n.y,n.z||0))}return t}}),Object.assign(Yd.prototype,{fromPoints:function(e){console.warn(\"THREE.Path: .fromPoints() has been renamed to .setFromPoints().\"),this.setFromPoints(e)}}),Object.create(Nd.prototype),Object.create(Nd.prototype),ih.prototype=Object.create(Nd.prototype),Object.assign(ih.prototype,{initFromArray:function(){console.error(\"THREE.Spline: .initFromArray() has been removed.\")},getControlPointsArray:function(){console.error(\"THREE.Spline: .getControlPointsArray() has been removed.\")},reparametrizeByArcLength:function(){console.error(\"THREE.Spline: .reparametrizeByArcLength() has been removed.\")}}),If.prototype.setColors=function(){console.error(\"THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.\")},Tf.prototype.update=function(){console.error(\"THREE.SkeletonHelper: update() no longer needs to be called.\")},Object.assign(vd.prototype,{extractUrlBase:function(e){return console.warn(\"THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.\"),db.extractUrlBase(e)}}),vd.Handlers={add:function(){console.error(\"THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.\")},get:function(){console.error(\"THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.\")}},Object.assign(ub.prototype,{setTexturePath:function(e){return console.warn(\"THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().\"),this.setResourcePath(e)}}),Object.assign(bf.prototype,{center:function(e){return console.warn(\"THREE.Box2: .center() has been renamed to .getCenter().\"),this.getCenter(e)},empty:function(){return console.warn(\"THREE.Box2: .empty() has been renamed to .isEmpty().\"),this.isEmpty()},isIntersectionBox:function(e){return console.warn(\"THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().\"),this.intersectsBox(e)},size:function(e){return console.warn(\"THREE.Box2: .size() has been renamed to .getSize().\"),this.getSize(e)}}),Object.assign(Ca.prototype,{center:function(e){return console.warn(\"THREE.Box3: .center() has been renamed to .getCenter().\"),this.getCenter(e)},empty:function(){return console.warn(\"THREE.Box3: .empty() has been renamed to .isEmpty().\"),this.isEmpty()},isIntersectionBox:function(e){return console.warn(\"THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().\"),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn(\"THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().\"),this.intersectsSphere(e)},size:function(e){return console.warn(\"THREE.Box3: .size() has been renamed to .getSize().\"),this.getSize(e)}}),lf.prototype.center=function(e){return console.warn(\"THREE.Line3: .center() has been renamed to .getCenter().\"),this.getCenter(e)},Object.assign(Ct,{random16:function(){return console.warn(\"THREE.Math: .random16() has been deprecated. Use Math.random() instead.\"),Math.random()},nearestPowerOfTwo:function(e){return console.warn(\"THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().\"),Ct.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn(\"THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().\"),Ct.ceilPowerOfTwo(e)}}),Object.assign(Ft.prototype,{flattenToArrayOffset:function(e,t){return console.warn(\"THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\"),this.toArray(e,t)},multiplyVector3:function(e){return console.warn(\"THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.\"),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error(\"THREE.Matrix3: .multiplyVector3Array() has been removed.\")},applyToBuffer:function(e){return console.warn(\"THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.\"),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error(\"THREE.Matrix3: .applyToVector3Array() has been removed.\")}}),Object.assign($t.prototype,{extractPosition:function(e){return console.warn(\"THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().\"),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn(\"THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\"),this.toArray(e,t)},getPosition:function(){return console.warn(\"THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.\"),(new zt).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn(\"THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().\"),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn(\"THREE.Matrix4: .multiplyToArray() has been removed.\")},multiplyVector3:function(e){return console.warn(\"THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.\"),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn(\"THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.\"),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error(\"THREE.Matrix4: .multiplyVector3Array() has been removed.\")},rotateAxis:function(e){console.warn(\"THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.\"),e.transformDirection(this)},crossVector:function(e){return console.warn(\"THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.\"),e.applyMatrix4(this)},translate:function(){console.error(\"THREE.Matrix4: .translate() has been removed.\")},rotateX:function(){console.error(\"THREE.Matrix4: .rotateX() has been removed.\")},rotateY:function(){console.error(\"THREE.Matrix4: .rotateY() has been removed.\")},rotateZ:function(){console.error(\"THREE.Matrix4: .rotateZ() has been removed.\")},rotateByAxis:function(){console.error(\"THREE.Matrix4: .rotateByAxis() has been removed.\")},applyToBuffer:function(e){return console.warn(\"THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.\"),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error(\"THREE.Matrix4: .applyToVector3Array() has been removed.\")},makeFrustum:function(e,t,a,i,n,r){return console.warn(\"THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.\"),this.makePerspective(e,t,i,a,n,r)}}),xn.prototype.isIntersectionLine=function(e){return console.warn(\"THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().\"),this.intersectsLine(e)},It.prototype.multiplyVector3=function(e){return console.warn(\"THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.\"),e.applyQuaternion(this)},Object.assign(Va.prototype,{isIntersectionBox:function(e){return console.warn(\"THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().\"),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn(\"THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().\"),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn(\"THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().\"),this.intersectsSphere(e)}}),Object.assign($a.prototype,{area:function(){return console.warn(\"THREE.Triangle: .area() has been renamed to .getArea().\"),this.getArea()},barycoordFromPoint:function(e,t){return console.warn(\"THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().\"),this.getBarycoord(e,t)},midpoint:function(e){return console.warn(\"THREE.Triangle: .midpoint() has been renamed to .getMidpoint().\"),this.getMidpoint(e)},normal:function(e){return console.warn(\"THREE.Triangle: .normal() has been renamed to .getNormal().\"),this.getNormal(e)},plane:function(e){return console.warn(\"THREE.Triangle: .plane() has been renamed to .getPlane().\"),this.getPlane(e)}}),Object.assign($a,{barycoordFromPoint:function(e,t,a,i,n){return console.warn(\"THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().\"),$a.getBarycoord(e,t,a,i,n)},normal:function(e,t,a,i){return console.warn(\"THREE.Triangle: .normal() has been renamed to .getNormal().\"),$a.getNormal(e,t,a,i)}}),Object.assign(Zd.prototype,{extractAllPoints:function(e){return console.warn(\"THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.\"),this.extractPoints(e)},extrude:function(e){return console.warn(\"THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.\"),new xc(this,e)},makeGeometry:function(e){return console.warn(\"THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.\"),new Oc(this,e)}}),Object.assign(Ot.prototype,{fromAttribute:function(e,t,a){return console.warn(\"THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().\"),this.fromBufferAttribute(e,t,a)},distanceToManhattan:function(e){return console.warn(\"THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().\"),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn(\"THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().\"),this.manhattanLength()}}),Object.assign(zt.prototype,{setEulerFromRotationMatrix:function(){console.error(\"THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.\")},setEulerFromQuaternion:function(){console.error(\"THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.\")},getPositionFromMatrix:function(e){return console.warn(\"THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().\"),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn(\"THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().\"),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn(\"THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().\"),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn(\"THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.\"),this.applyMatrix4(e)},fromAttribute:function(e,t,a){return console.warn(\"THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().\"),this.fromBufferAttribute(e,t,a)},distanceToManhattan:function(e){return console.warn(\"THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().\"),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn(\"THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().\"),this.manhattanLength()}}),Object.assign(kt.prototype,{fromAttribute:function(e,t,a){return console.warn(\"THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().\"),this.fromBufferAttribute(e,t,a)},lengthManhattan:function(){return console.warn(\"THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().\"),this.manhattanLength()}}),Object.assign(tn.prototype,{computeTangents:function(){console.error(\"THREE.Geometry: .computeTangents() has been removed.\")},computeLineDistances:function(){console.error(\"THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.\")}}),Object.assign(ga.prototype,{getChildByName:function(e){return console.warn(\"THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().\"),this.getObjectByName(e)},renderDepth:function(){console.warn(\"THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.\")},translate:function(e,t){return console.warn(\"THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.\"),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error(\"THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.\")}}),Object.defineProperties(ga.prototype,{eulerOrder:{get:function(){return console.warn(\"THREE.Object3D: .eulerOrder is now .rotation.order.\"),this.rotation.order},set:function(e){console.warn(\"THREE.Object3D: .eulerOrder is now .rotation.order.\"),this.rotation.order=e}},useQuaternion:{get:function(){console.warn(\"THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.\")},set:function(){console.warn(\"THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.\")}}}),Object.defineProperties(ts.prototype,{objects:{get:function(){return console.warn(\"THREE.LOD: .objects has been renamed to .levels.\"),this.levels}}}),Object.defineProperty(rs.prototype,\"useVertexTexture\",{get:function(){console.warn(\"THREE.Skeleton: useVertexTexture has been removed.\")},set:function(){console.warn(\"THREE.Skeleton: useVertexTexture has been removed.\")}}),as.prototype.initBones=function(){console.error(\"THREE.SkinnedMesh: initBones() has been removed.\")},Object.defineProperty(Ad.prototype,\"__arcLengthDivisions\",{get:function(){return console.warn(\"THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.\"),this.arcLengthDivisions},set:function(e){console.warn(\"THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.\"),this.arcLengthDivisions=e}}),fn.prototype.setLens=function(e,t){console.warn(\"THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup.\"),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Jd.prototype,{onlyShadow:{set:function(){console.warn(\"THREE.Light: .onlyShadow has been removed.\")}},shadowCameraFov:{set:function(e){console.warn(\"THREE.Light: .shadowCameraFov is now .shadow.camera.fov.\"),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn(\"THREE.Light: .shadowCameraLeft is now .shadow.camera.left.\"),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn(\"THREE.Light: .shadowCameraRight is now .shadow.camera.right.\"),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn(\"THREE.Light: .shadowCameraTop is now .shadow.camera.top.\"),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn(\"THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.\"),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn(\"THREE.Light: .shadowCameraNear is now .shadow.camera.near.\"),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn(\"THREE.Light: .shadowCameraFar is now .shadow.camera.far.\"),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn(\"THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.\")}},shadowBias:{set:function(e){console.warn(\"THREE.Light: .shadowBias is now .shadow.bias.\"),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn(\"THREE.Light: .shadowDarkness has been removed.\")}},shadowMapWidth:{set:function(e){console.warn(\"THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.\"),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn(\"THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.\"),this.shadow.mapSize.height=e}}}),Object.defineProperties(fi.prototype,{length:{get:function(){return console.warn(\"THREE.BufferAttribute: .length has been deprecated. Use .count instead.\"),this.array.length}}}),Object.assign(fi.prototype,{copyIndicesArray:function(){console.error(\"THREE.BufferAttribute: .copyIndicesArray() has been removed.\")},setArray:function(e){return console.warn(\"THREE.BufferAttribute: .setArray has been deprecated. Use BufferGeometry .setAttribute to replace/resize attribute buffers\"),this.count=void 0!==e?e.length/this.itemSize:0,this.array=e,this}}),Object.assign(Pi.prototype,{addIndex:function(e){console.warn(\"THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().\"),this.setIndex(e)},addDrawCall:function(e,t,a){void 0!==a&&console.warn(\"THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.\"),console.warn(\"THREE.BufferGeometry: .addDrawCall() is now .addGroup().\"),this.addGroup(e,t)},clearDrawCalls:function(){console.warn(\"THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().\"),this.clearGroups()},computeTangents:function(){console.warn(\"THREE.BufferGeometry: .computeTangents() has been removed.\")},computeOffsets:function(){console.warn(\"THREE.BufferGeometry: .computeOffsets() has been removed.\")}}),Object.defineProperties(Pi.prototype,{drawcalls:{get:function(){return console.error(\"THREE.BufferGeometry: .drawcalls has been renamed to .groups.\"),this.groups}},offsets:{get:function(){return console.warn(\"THREE.BufferGeometry: .offsets has been renamed to .groups.\"),this.groups}}}),Object.assign(zo.prototype,{setArray:function(e){return console.warn(\"THREE.InterleavedBuffer: .setArray has been deprecated. Use BufferGeometry .setAttribute to replace/resize attribute buffers\"),this.count=void 0!==e?e.length/this.stride:0,this.array=e,this}}),Object.assign(wc.prototype,{getArrays:function(){console.error(\"THREE.ExtrudeBufferGeometry: .getArrays() has been removed.\")},addShapeList:function(){console.error(\"THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.\")},addShape:function(){console.error(\"THREE.ExtrudeBufferGeometry: .addShape() has been removed.\")}}),Object.defineProperties(rf.prototype,{dynamic:{set:function(){console.warn(\"THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.\")}},onUpdate:{value:function(){return console.warn(\"THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.\"),this}}}),Object.defineProperties(di.prototype,{wrapAround:{get:function(){console.warn(\"THREE.Material: .wrapAround has been removed.\")},set:function(){console.warn(\"THREE.Material: .wrapAround has been removed.\")}},overdraw:{get:function(){console.warn(\"THREE.Material: .overdraw has been removed.\")},set:function(){console.warn(\"THREE.Material: .overdraw has been removed.\")}},wrapRGB:{get:function(){return console.warn(\"THREE.Material: .wrapRGB has been removed.\"),new ii}},shading:{get:function(){console.error(\"THREE.\"+this.type+\": .shading has been removed. Use the boolean .flatShading instead.\")},set:function(e){console.warn(\"THREE.\"+this.type+\": .shading has been removed. Use the boolean .flatShading instead.\"),this.flatShading=1===e}},stencilMask:{get:function(){return console.warn(\"THREE.\"+this.type+\": .stencilMask has been removed. Use .stencilFuncMask instead.\"),this.stencilFuncMask},set:function(e){console.warn(\"THREE.\"+this.type+\": .stencilMask has been removed. Use .stencilFuncMask instead.\"),this.stencilFuncMask=e}}}),Object.defineProperties(qc.prototype,{metal:{get:function(){return console.warn(\"THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.\"),!1},set:function(){console.warn(\"THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead\")}}}),Object.defineProperties(dn.prototype,{derivatives:{get:function(){return console.warn(\"THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.\"),this.extensions.derivatives},set:function(e){console.warn(\"THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.\"),this.extensions.derivatives=e}}}),Object.assign(Io.prototype,{clearTarget:function(e,t,a,i){console.warn(\"THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.\"),this.setRenderTarget(e),this.clear(t,a,i)},animate:function(e){console.warn(\"THREE.WebGLRenderer: .animate() is now .setAnimationLoop().\"),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn(\"THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().\"),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn(\"THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().\"),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn(\"THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.\"),this.capabilities.precision},resetGLState:function(){return console.warn(\"THREE.WebGLRenderer: .resetGLState() is now .state.reset().\"),this.state.reset()},supportsFloatTextures:function(){return console.warn(\"THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' ).\"),this.extensions.get(\"OES_texture_float\")},supportsHalfFloatTextures:function(){return console.warn(\"THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' ).\"),this.extensions.get(\"OES_texture_half_float\")},supportsStandardDerivatives:function(){return console.warn(\"THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' ).\"),this.extensions.get(\"OES_standard_derivatives\")},supportsCompressedTextureS3TC:function(){return console.warn(\"THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' ).\"),this.extensions.get(\"WEBGL_compressed_texture_s3tc\")},supportsCompressedTexturePVRTC:function(){return console.warn(\"THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' ).\"),this.extensions.get(\"WEBGL_compressed_texture_pvrtc\")},supportsBlendMinMax:function(){return console.warn(\"THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' ).\"),this.extensions.get(\"EXT_blend_minmax\")},supportsVertexTextures:function(){return console.warn(\"THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.\"),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn(\"THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' ).\"),this.extensions.get(\"ANGLE_instanced_arrays\")},enableScissorTest:function(e){console.warn(\"THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().\"),this.setScissorTest(e)},initMaterial:function(){console.warn(\"THREE.WebGLRenderer: .initMaterial() has been removed.\")},addPrePlugin:function(){console.warn(\"THREE.WebGLRenderer: .addPrePlugin() has been removed.\")},addPostPlugin:function(){console.warn(\"THREE.WebGLRenderer: .addPostPlugin() has been removed.\")},updateShadowMap:function(){console.warn(\"THREE.WebGLRenderer: .updateShadowMap() has been removed.\")},setFaceCulling:function(){console.warn(\"THREE.WebGLRenderer: .setFaceCulling() has been removed.\")},allocTextureUnit:function(){console.warn(\"THREE.WebGLRenderer: .allocTextureUnit() has been removed.\")},setTexture:function(){console.warn(\"THREE.WebGLRenderer: .setTexture() has been removed.\")},setTexture2D:function(){console.warn(\"THREE.WebGLRenderer: .setTexture2D() has been removed.\")},setTextureCube:function(){console.warn(\"THREE.WebGLRenderer: .setTextureCube() has been removed.\")},getActiveMipMapLevel:function(){return console.warn(\"THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel().\"),this.getActiveMipmapLevel()}}),Object.defineProperties(Io.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn(\"THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.\"),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn(\"THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.\"),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn(\"THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.\")},set:function(){console.warn(\"THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.\")}},context:{get:function(){return console.warn(\"THREE.WebGLRenderer: .context has been removed. Use .getContext() instead.\"),this.getContext()}}}),Object.defineProperties(yo.prototype,{cullFace:{get:function(){console.warn(\"THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.\")},set:function(){console.warn(\"THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.\")}},renderReverseSided:{get:function(){console.warn(\"THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.\")},set:function(){console.warn(\"THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.\")}},renderSingleSided:{get:function(){console.warn(\"THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.\")},set:function(){console.warn(\"THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.\")}}}),Object.defineProperties(pn.prototype,{activeCubeFace:{set:function(){console.warn(\"THREE.WebGLRenderTargetCube: .activeCubeFace has been removed. It is now the second parameter of WebGLRenderer.setRenderTarget().\")}},activeMipMapLevel:{set:function(){console.warn(\"THREE.WebGLRenderTargetCube: .activeMipMapLevel has been removed. It is now the third parameter of WebGLRenderer.setRenderTarget().\")}}}),Object.defineProperties(jt.prototype,{wrapS:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.\"),this.texture.wrapS},set:function(e){console.warn(\"THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.\"),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.\"),this.texture.wrapT},set:function(e){console.warn(\"THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.\"),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.\"),this.texture.magFilter},set:function(e){console.warn(\"THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.\"),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.\"),this.texture.minFilter},set:function(e){console.warn(\"THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.\"),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.\"),this.texture.anisotropy},set:function(e){console.warn(\"THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.\"),this.texture.anisotropy=e}},offset:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .offset is now .texture.offset.\"),this.texture.offset},set:function(e){console.warn(\"THREE.WebGLRenderTarget: .offset is now .texture.offset.\"),this.texture.offset=e}},repeat:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .repeat is now .texture.repeat.\"),this.texture.repeat},set:function(e){console.warn(\"THREE.WebGLRenderTarget: .repeat is now .texture.repeat.\"),this.texture.repeat=e}},format:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .format is now .texture.format.\"),this.texture.format},set:function(e){console.warn(\"THREE.WebGLRenderTarget: .format is now .texture.format.\"),this.texture.format=e}},type:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .type is now .texture.type.\"),this.texture.type},set:function(e){console.warn(\"THREE.WebGLRenderTarget: .type is now .texture.type.\"),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.\"),this.texture.generateMipmaps},set:function(e){console.warn(\"THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.\"),this.texture.generateMipmaps=e}}}),Object.defineProperties(Co.prototype,{standing:{set:function(){console.warn(\"THREE.WebVRManager: .standing has been removed.\")}},userHeight:{set:function(){console.warn(\"THREE.WebVRManager: .userHeight has been removed.\")}}}),Bb.prototype.load=function(e){console.warn(\"THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.\");var t=this;return(new Tb).load(e,(function(e){t.setBuffer(e)})),this},jb.prototype.getData=function(){return console.warn(\"THREE.AudioAnalyser: .getData() is now .getFrequencyData().\"),this.getFrequencyData()},un.prototype.updateCubeMap=function(e,t){return console.warn(\"THREE.CubeCamera: .updateCubeMap() is now .update().\"),this.update(e,t)};Gt.crossOrigin=void 0,Gt.loadTexture=function(e,t,a,i){console.warn(\"THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.\");var n=new Ed;n.setCrossOrigin(this.crossOrigin);var r=n.load(e,a,void 0,i);return t&&(r.mapping=t),r},Gt.loadTextureCube=function(e,t,a,i){console.warn(\"THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.\");var n=new Td;n.setCrossOrigin(this.crossOrigin);var r=n.load(e,a,void 0,i);return t&&(r.mapping=t),r},Gt.loadCompressedTexture=function(){console.error(\"THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.\")},Gt.loadCompressedTextureCube=function(){console.error(\"THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.\")};\"undefined\"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent(\"register\",{detail:{revision:\"109\"}}));var nh=function(){function e(e){vd.call(this,e),this.dracoLoader=null,this.ddsLoader=null}function t(){var e={};return{get:function(t){return e[t]},add:function(t,a){e[t]=a},remove:function(t){delete e[t]},removeAll:function(){e={}}}}e.prototype=Object.assign(Object.create(vd.prototype),{constructor:e,load:function(e,t,a,i){var n,r=this;n=\"\"!==this.resourcePath?this.resourcePath:\"\"!==this.path?this.path:db.extractUrlBase(e),r.manager.itemStart(e);var o=function(t){i?i(t):console.error(t),r.manager.itemError(e),r.manager.itemEnd(e)},s=new xd(r.manager);s.setPath(this.path),s.setResponseType(\"arraybuffer\"),\"use-credentials\"===r.crossOrigin&&s.setWithCredentials(!0),s.load(e,(function(a){try{r.parse(a,n,(function(a){t(a),r.manager.itemEnd(e)}),o)}catch(e){o(e)}}),a,o)},setDRACOLoader:function(e){return this.dracoLoader=e,this},setDDSLoader:function(e){return this.ddsLoader=e,this},parse:function(e,t,s,c){var l,u={};if(\"string\"==typeof e)l=e;else if(db.decodeText(new Uint8Array(e,0,4))===o){try{u[a.KHR_BINARY_GLTF]=new d(e)}catch(e){return void(c&&c(e))}l=u[a.KHR_BINARY_GLTF].content}else l=db.decodeText(new Uint8Array(e));var p=JSON.parse(l);if(void 0===p.asset||p.asset.version[0]<2)c&&c(new Error(\"THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported. Use LegacyGLTFLoader instead.\"));else{if(p.extensionsUsed)for(var m=0;m<p.extensionsUsed.length;++m){var g=p.extensionsUsed[m],v=p.extensionsRequired||[];switch(g){case a.KHR_LIGHTS_PUNCTUAL:u[g]=new n(p);break;case a.KHR_MATERIALS_UNLIT:u[g]=new r;break;case a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:u[g]=new h;break;case a.KHR_DRACO_MESH_COMPRESSION:u[g]=new b(p,this.dracoLoader);break;case a.MSFT_TEXTURE_DDS:u[a.MSFT_TEXTURE_DDS]=new i(this.ddsLoader);break;case a.KHR_TEXTURE_TRANSFORM:u[a.KHR_TEXTURE_TRANSFORM]=new f;break;default:v.indexOf(g)>=0&&console.warn('THREE.GLTFLoader: Unknown extension \"'+g+'\".')}}new V(p,u,{path:t||this.resourcePath||\"\",crossOrigin:this.crossOrigin,manager:this.manager}).parse(s,c)}}});var a={KHR_BINARY_GLTF:\"KHR_binary_glTF\",KHR_DRACO_MESH_COMPRESSION:\"KHR_draco_mesh_compression\",KHR_LIGHTS_PUNCTUAL:\"KHR_lights_punctual\",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\"KHR_materials_pbrSpecularGlossiness\",KHR_MATERIALS_UNLIT:\"KHR_materials_unlit\",KHR_TEXTURE_TRANSFORM:\"KHR_texture_transform\",MSFT_TEXTURE_DDS:\"MSFT_texture_dds\"};function i(e){if(!e)throw new Error(\"THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader\");this.name=a.MSFT_TEXTURE_DDS,this.ddsLoader=e}function n(e){this.name=a.KHR_LIGHTS_PUNCTUAL;var t=e.extensions&&e.extensions[a.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=t.lights||[]}function r(){this.name=a.KHR_MATERIALS_UNLIT}n.prototype.loadLight=function(e){var t,a=this.lightDefs[e],i=new ii(16777215);void 0!==a.color&&i.fromArray(a.color);var n=void 0!==a.range?a.range:0;switch(a.type){case\"directional\":(t=new rb(i)).target.position.set(0,0,-1),t.add(t.target);break;case\"point\":(t=new ab(i)).distance=n;break;case\"spot\":(t=new eb(i)).distance=n,a.spot=a.spot||{},a.spot.innerConeAngle=void 0!==a.spot.innerConeAngle?a.spot.innerConeAngle:0,a.spot.outerConeAngle=void 0!==a.spot.outerConeAngle?a.spot.outerConeAngle:Math.PI/4,t.angle=a.spot.outerConeAngle,t.penumbra=1-a.spot.innerConeAngle/a.spot.outerConeAngle,t.target.position.set(0,0,-1),t.add(t.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, \"'+a.type+'\".')}return t.position.set(0,0,0),t.decay=2,void 0!==a.intensity&&(t.intensity=a.intensity),t.name=a.name||\"light_\"+e,Promise.resolve(t)},r.prototype.getMaterialType=function(){return bi},r.prototype.extendParams=function(e,t,a){var i=[];e.color=new ii(1,1,1),e.opacity=1;var n=t.pbrMetallicRoughness;if(n){if(Array.isArray(n.baseColorFactor)){var r=n.baseColorFactor;e.color.fromArray(r),e.opacity=r[3]}void 0!==n.baseColorTexture&&i.push(a.assignTexture(e,\"map\",n.baseColorTexture))}return Promise.all(i)};var o=\"glTF\",s=12,c={JSON:1313821514,BIN:5130562};function d(e){this.name=a.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,s);if(this.header={magic:db.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==o)throw new Error(\"THREE.GLTFLoader: Unsupported glTF-Binary header.\");if(this.header.version<2)throw new Error(\"THREE.GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.\");for(var i=new DataView(e,s),n=0;n<i.byteLength;){var r=i.getUint32(n,!0);n+=4;var d=i.getUint32(n,!0);if(n+=4,d===c.JSON){var b=new Uint8Array(e,s+n,r);this.content=db.decodeText(b)}else if(d===c.BIN){var f=s+n;this.body=e.slice(f,f+r)}n+=r}if(null===this.content)throw new Error(\"THREE.GLTFLoader: JSON content not found.\")}function b(e,t){if(!t)throw new Error(\"THREE.GLTFLoader: No DRACOLoader instance provided.\");this.name=a.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t}function f(){this.name=a.KHR_TEXTURE_TRANSFORM}function h(){return{name:a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:[\"color\",\"map\",\"lightMap\",\"lightMapIntensity\",\"aoMap\",\"aoMapIntensity\",\"emissive\",\"emissiveIntensity\",\"emissiveMap\",\"bumpMap\",\"bumpScale\",\"normalMap\",\"displacementMap\",\"displacementScale\",\"displacementBias\",\"specularMap\",\"specular\",\"glossinessMap\",\"glossiness\",\"alphaMap\",\"envMap\",\"envMapIntensity\",\"refractionRatio\"],getMaterialType:function(){return dn},extendParams:function(e,t,a){var i=t.extensions[this.name],n=En.standard,r=on.clone(n.uniforms),o=[\"#ifdef USE_SPECULARMAP\",\"\\tuniform sampler2D specularMap;\",\"#endif\"].join(\"\\n\"),s=[\"#ifdef USE_GLOSSINESSMAP\",\"\\tuniform sampler2D glossinessMap;\",\"#endif\"].join(\"\\n\"),c=[\"vec3 specularFactor = specular;\",\"#ifdef USE_SPECULARMAP\",\"\\tvec4 texelSpecular = texture2D( specularMap, vUv );\",\"\\ttexelSpecular = sRGBToLinear( texelSpecular );\",\"\\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture\",\"\\tspecularFactor *= texelSpecular.rgb;\",\"#endif\"].join(\"\\n\"),d=[\"float glossinessFactor = glossiness;\",\"#ifdef USE_GLOSSINESSMAP\",\"\\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );\",\"\\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture\",\"\\tglossinessFactor *= texelGlossiness.a;\",\"#endif\"].join(\"\\n\"),b=[\"PhysicalMaterial material;\",\"material.diffuseColor = diffuseColor.rgb;\",\"material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );\",\"material.specularColor = specularFactor.rgb;\"].join(\"\\n\"),f=n.fragmentShader.replace(\"uniform float roughness;\",\"uniform vec3 specular;\").replace(\"uniform float metalness;\",\"uniform float glossiness;\").replace(\"#include <roughnessmap_pars_fragment>\",o).replace(\"#include <metalnessmap_pars_fragment>\",s).replace(\"#include <roughnessmap_fragment>\",c).replace(\"#include <metalnessmap_fragment>\",d).replace(\"#include <lights_physical_fragment>\",b);delete r.roughness,delete r.metalness,delete r.roughnessMap,delete r.metalnessMap,r.specular={value:(new ii).setHex(1118481)},r.glossiness={value:.5},r.specularMap={value:null},r.glossinessMap={value:null},e.vertexShader=n.vertexShader,e.fragmentShader=f,e.uniforms=r,e.defines={STANDARD:\"\"},e.color=new ii(1,1,1),e.opacity=1;var h=[];if(Array.isArray(i.diffuseFactor)){var l=i.diffuseFactor;e.color.fromArray(l),e.opacity=l[3]}if(void 0!==i.diffuseTexture&&h.push(a.assignTexture(e,\"map\",i.diffuseTexture)),e.emissive=new ii(0,0,0),e.glossiness=void 0!==i.glossinessFactor?i.glossinessFactor:1,e.specular=new ii(1,1,1),Array.isArray(i.specularFactor)&&e.specular.fromArray(i.specularFactor),void 0!==i.specularGlossinessTexture){var u=i.specularGlossinessTexture;h.push(a.assignTexture(e,\"glossinessMap\",u)),h.push(a.assignTexture(e,\"specularMap\",u))}return Promise.all(h)},createMaterial:function(e){var t=new dn({defines:e.defines,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms,fog:!0,lights:!0,opacity:e.opacity,transparent:e.transparent});return t.isGLTFSpecularGlossinessMaterial=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t.extensions.derivatives=!0,t},cloneMaterial:function(e){var t=e.clone();t.isGLTFSpecularGlossinessMaterial=!0;for(var a=this.specularGlossinessParams,i=0,n=a.length;i<n;i++){var r=e[a[i]];t[a[i]]=r&&r.isColor?r.clone():r}return t},refreshUniforms:function(e,t,a,i,n){if(!0===n.isGLTFSpecularGlossinessMaterial){var r,o=n.uniforms,s=n.defines;o.opacity.value=n.opacity,o.diffuse.value.copy(n.color),o.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),o.map.value=n.map,o.specularMap.value=n.specularMap,o.alphaMap.value=n.alphaMap,o.lightMap.value=n.lightMap,o.lightMapIntensity.value=n.lightMapIntensity,o.aoMap.value=n.aoMap,o.aoMapIntensity.value=n.aoMapIntensity,n.map?r=n.map:n.specularMap?r=n.specularMap:n.displacementMap?r=n.displacementMap:n.normalMap?r=n.normalMap:n.bumpMap?r=n.bumpMap:n.glossinessMap?r=n.glossinessMap:n.alphaMap?r=n.alphaMap:n.emissiveMap&&(r=n.emissiveMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),o.uvTransform.value.copy(r.matrix)),n.envMap&&(o.envMap.value=n.envMap,o.envMapIntensity.value=n.envMapIntensity,o.flipEnvMap.value=n.envMap.isCubeTexture?-1:1,o.reflectivity.value=n.reflectivity,o.refractionRatio.value=n.refractionRatio,o.maxMipLevel.value=e.properties.get(n.envMap).__maxMipLevel),o.specular.value.copy(n.specular),o.glossiness.value=n.glossiness,o.glossinessMap.value=n.glossinessMap,o.emissiveMap.value=n.emissiveMap,o.bumpMap.value=n.bumpMap,o.normalMap.value=n.normalMap,o.displacementMap.value=n.displacementMap,o.displacementScale.value=n.displacementScale,o.displacementBias.value=n.displacementBias,null!==o.glossinessMap.value&&void 0===s.USE_GLOSSINESSMAP&&(s.USE_GLOSSINESSMAP=\"\",s.USE_ROUGHNESSMAP=\"\"),null===o.glossinessMap.value&&void 0!==s.USE_GLOSSINESSMAP&&(delete s.USE_GLOSSINESSMAP,delete s.USE_ROUGHNESSMAP)}}}}function u(e,t,a,i){td.call(this,e,t,a,i)}b.prototype.decodePrimitive=function(e,t){var a=this.json,i=this.dracoLoader,n=e.extensions[this.name].bufferView,r=e.extensions[this.name].attributes,o={},s={},c={};for(var d in r){var b=R[d]||d.toLowerCase();o[b]=r[d]}for(d in e.attributes){b=R[d]||d.toLowerCase();if(void 0!==r[d]){var f=a.accessors[e.attributes[d]],h=T[f.componentType];c[b]=h,s[b]=!0===f.normalized}}return t.getDependency(\"bufferView\",n).then((function(e){return new Promise((function(t){i.decodeDracoFile(e,(function(e){for(var a in e.attributes){var i=e.attributes[a],n=s[a];void 0!==n&&(i.normalized=n)}t(e)}),o,c)}))}))},f.prototype.extendTexture=function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in \"'+this.name+'\" extension not yet supported.'),e.needsUpdate=!0,e},u.prototype=Object.create(td.prototype),u.prototype.constructor=u,u.prototype.copySampleValue_=function(e){for(var t=this.resultBuffer,a=this.sampleValues,i=this.valueSize,n=e*i*3+i,r=0;r!==i;r++)t[r]=a[n+r];return t},u.prototype.beforeStart_=u.prototype.copySampleValue_,u.prototype.afterEnd_=u.prototype.copySampleValue_,u.prototype.interpolate_=function(e,t,a,i){for(var n=this.resultBuffer,r=this.sampleValues,o=this.valueSize,s=2*o,c=3*o,d=i-t,b=(a-t)/d,f=b*b,h=f*b,l=e*c,u=l-c,p=-2*h+3*f,m=h-f,g=1-p,v=m-f+b,y=0;y!==o;y++){var x=r[u+y+o],w=r[u+y+s]*d,_=r[l+y+o],M=r[l+y]*d;n[y]=g*x+v*w+p*_+m*M}return n};var m,g=0,y=1,x=2,w=3,_=4,M=5,S=6,T={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},E={9728:ue,9729:ge,9984:pe,9985:ve,9986:me,9987:ye},A={33071:he,33648:le,10497:fe},L={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},R={POSITION:\"position\",NORMAL:\"normal\",TANGENT:\"tangent\",TEXCOORD_0:\"uv\",TEXCOORD_1:\"uv2\",COLOR_0:\"color\",WEIGHTS_0:\"skinWeight\",JOINTS_0:\"skinIndex\"},P={scale:\"scale\",translation:\"position\",rotation:\"quaternion\",weights:\"morphTargetInfluences\"},C={CUBICSPLINE:void 0,LINEAR:2301,STEP:2300},O=\"OPAQUE\",I=\"MASK\",D=\"BLEND\",N={\"image/png\":De,\"image/jpeg\":Ie};function z(e,t){return\"string\"!=typeof e||\"\"===e?\"\":(/^https?:\\/\\//i.test(t)&&/^\\//.test(e)&&(t=t.replace(/(^https?:\\/\\/[^\\/]+).*/i,\"$1\")),/^(https?:)?\\/\\//i.test(e)?e:/^data:.*,.*$/i.test(e)?e:/^blob:.*$/i.test(e)?e:t+e)}function U(e,t,a){for(var i in a.extensions)void 0===e[i]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[i]=a.extensions[i])}function B(e,t){void 0!==t.extras&&(\"object\"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn(\"THREE.GLTFLoader: Ignoring primitive type .extras, \"+t.extras))}function F(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var a=0,i=t.weights.length;a<i;a++)e.morphTargetInfluences[a]=t.weights[a];if(t.extras&&Array.isArray(t.extras.targetNames)){var n=t.extras.targetNames;if(e.morphTargetInfluences.length===n.length){e.morphTargetDictionary={};for(a=0,i=n.length;a<i;a++)e.morphTargetDictionary[n[a]]=a}else console.warn(\"THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.\")}}function G(e){for(var t=\"\",a=Object.keys(e).sort(),i=0,n=a.length;i<n;i++)t+=a[i]+\":\"+e[a[i]]+\";\";return t}function H(e){if(e.isInterleavedBufferAttribute){for(var t=e.count,a=e.itemSize,i=e.array.slice(0,t*a),n=0,r=0;n<t;++n)i[r++]=e.getX(n),a>=2&&(i[r++]=e.getY(n)),a>=3&&(i[r++]=e.getZ(n)),a>=4&&(i[r++]=e.getW(n));return new fi(i,a,e.normalized)}return e.clone()}function V(e,a,i){this.json=e||{},this.extensions=a||{},this.options=i||{},this.cache=new t,this.primitiveCache={},this.textureLoader=new Ed(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new xd(this.options.manager),this.fileLoader.setResponseType(\"arraybuffer\"),\"use-credentials\"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function k(e,t,a){var i=t.attributes,n=[];function r(t,i){return a.getDependency(\"accessor\",t).then((function(t){e.addAttribute(i,t)}))}for(var o in i){var s=R[o]||o.toLowerCase();s in e.attributes||n.push(r(i[o],s))}if(void 0!==t.indices&&!e.index){var c=a.getDependency(\"accessor\",t.indices).then((function(t){e.setIndex(t)}));n.push(c)}return B(e,t),Promise.all(n).then((function(){return void 0!==t.targets?function(e,t,a){for(var i=!1,n=!1,r=0,o=t.length;r<o;r++){if(void 0!==(d=t[r]).POSITION&&(i=!0),void 0!==d.NORMAL&&(n=!0),i&&n)break}if(!i&&!n)return Promise.resolve(e);var s=[],c=[];for(r=0,o=t.length;r<o;r++){var d=t[r];if(i){var b=void 0!==d.POSITION?a.getDependency(\"accessor\",d.POSITION):e.attributes.position;s.push(b)}if(n){b=void 0!==d.NORMAL?a.getDependency(\"accessor\",d.NORMAL):e.attributes.normal;c.push(b)}}return Promise.all([Promise.all(s),Promise.all(c)]).then((function(a){for(var r=a[0],o=a[1],s=0,c=r.length;s<c;s++)e.attributes.position!==r[s]&&(r[s]=H(r[s]));for(s=0,c=o.length;s<c;s++)e.attributes.normal!==o[s]&&(o[s]=H(o[s]));for(s=0,c=t.length;s<c;s++){var d=t[s],b=\"morphTarget\"+s;if(i&&void 0!==d.POSITION){var f=r[s];f.name=b;for(var h=e.attributes.position,l=0,u=f.count;l<u;l++)f.setXYZ(l,f.getX(l)+h.getX(l),f.getY(l)+h.getY(l),f.getZ(l)+h.getZ(l))}if(n&&void 0!==d.NORMAL){var p=o[s];p.name=b;var m=e.attributes.normal;for(l=0,u=p.count;l<u;l++)p.setXYZ(l,p.getX(l)+m.getX(l),p.getY(l)+m.getY(l),p.getZ(l)+m.getZ(l))}}return i&&(e.morphAttributes.position=r),n&&(e.morphAttributes.normal=o),e}))}(e,t.targets,a):e}))}return V.prototype.parse=function(e,t){var a=this,i=this.json,n=this.extensions;this.cache.removeAll(),this.markDefs(),Promise.all([this.getDependencies(\"scene\"),this.getDependencies(\"animation\"),this.getDependencies(\"camera\")]).then((function(t){var r={scene:t[0][i.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:i.asset,parser:a,userData:{}};U(n,r,i),B(r,i),e(r)})).catch(t)},V.prototype.markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],a=this.json.meshes||[],i={},n={},r=0,o=t.length;r<o;r++)for(var s=t[r].joints,c=0,d=s.length;c<d;c++)e[s[c]].isBone=!0;for(var b=0,f=e.length;b<f;b++){var h=e[b];void 0!==h.mesh&&(void 0===i[h.mesh]&&(i[h.mesh]=n[h.mesh]=0),i[h.mesh]++,void 0!==h.skin&&(a[h.mesh].isSkinnedMesh=!0))}this.json.meshReferences=i,this.json.meshUses=n},V.prototype.getDependency=function(e,t){var i=e+\":\"+t,n=this.cache.get(i);if(!n){switch(e){case\"scene\":n=this.loadScene(t);break;case\"node\":n=this.loadNode(t);break;case\"mesh\":n=this.loadMesh(t);break;case\"accessor\":n=this.loadAccessor(t);break;case\"bufferView\":n=this.loadBufferView(t);break;case\"buffer\":n=this.loadBuffer(t);break;case\"material\":n=this.loadMaterial(t);break;case\"texture\":n=this.loadTexture(t);break;case\"skin\":n=this.loadSkin(t);break;case\"animation\":n=this.loadAnimation(t);break;case\"camera\":n=this.loadCamera(t);break;case\"light\":n=this.extensions[a.KHR_LIGHTS_PUNCTUAL].loadLight(t);break;default:throw new Error(\"Unknown type: \"+e)}this.cache.add(i,n)}return n},V.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var a=this,i=this.json[e+(\"mesh\"===e?\"es\":\"s\")]||[];t=Promise.all(i.map((function(t,i){return a.getDependency(e,i)}))),this.cache.add(e,t)}return t},V.prototype.loadBuffer=function(e){var t=this.json.buffers[e],i=this.fileLoader;if(t.type&&\"arraybuffer\"!==t.type)throw new Error(\"THREE.GLTFLoader: \"+t.type+\" buffer type is not supported.\");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[a.KHR_BINARY_GLTF].body);var n=this.options;return new Promise((function(e,a){i.load(z(t.uri,n.path),e,void 0,(function(){a(new Error('THREE.GLTFLoader: Failed to load buffer \"'+t.uri+'\".'))}))}))},V.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency(\"buffer\",t.buffer).then((function(e){var a=t.byteLength||0,i=t.byteOffset||0;return e.slice(i,i+a)}))},V.prototype.loadAccessor=function(e){var t=this,a=this.json,i=this.json.accessors[e];if(void 0===i.bufferView&&void 0===i.sparse)return Promise.resolve(null);var n=[];return void 0!==i.bufferView?n.push(this.getDependency(\"bufferView\",i.bufferView)):n.push(null),void 0!==i.sparse&&(n.push(this.getDependency(\"bufferView\",i.sparse.indices.bufferView)),n.push(this.getDependency(\"bufferView\",i.sparse.values.bufferView))),Promise.all(n).then((function(e){var n,r=e[0],o=L[i.type],s=T[i.componentType],c=s.BYTES_PER_ELEMENT,d=c*o,b=i.byteOffset||0,f=void 0!==i.bufferView?a.bufferViews[i.bufferView].byteStride:void 0,h=!0===i.normalized;if(f&&f!==d){var l=Math.floor(b/f),u=\"InterleavedBuffer:\"+i.bufferView+\":\"+i.componentType+\":\"+l+\":\"+i.count,p=t.cache.get(u);p||(p=new zo(new s(r,l*f,i.count*f/c),f/c),t.cache.add(u,p)),n=new Uo(p,o,b%f/c,h)}else n=new fi(null===r?new s(i.count*o):new s(r,b,i.count*o),o,h);if(void 0!==i.sparse){var m=L.SCALAR,g=T[i.sparse.indices.componentType],v=i.sparse.indices.byteOffset||0,y=i.sparse.values.byteOffset||0,x=new g(e[1],v,i.sparse.count*m),w=new s(e[2],y,i.sparse.count*o);null!==r&&(n=new fi(n.array.slice(),n.itemSize,n.normalized));for(var _=0,M=x.length;_<M;_++){var S=x[_];if(n.setX(S,w[_*o]),o>=2&&n.setY(S,w[_*o+1]),o>=3&&n.setZ(S,w[_*o+2]),o>=4&&n.setW(S,w[_*o+3]),o>=5)throw new Error(\"THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.\")}}return n}))},V.prototype.loadTexture=function(e){var t,i=this,n=this.json,r=this.options,o=this.textureLoader,s=window.URL||window.webkitURL,c=n.textures[e],d=c.extensions||{},b=(t=d[a.MSFT_TEXTURE_DDS]?n.images[d[a.MSFT_TEXTURE_DDS].source]:n.images[c.source]).uri,f=!1;return void 0!==t.bufferView&&(b=i.getDependency(\"bufferView\",t.bufferView).then((function(e){f=!0;var a=new Blob([e],{type:t.mimeType});return b=s.createObjectURL(a)}))),Promise.resolve(b).then((function(e){var t=r.manager.getHandler(e);return t||(t=d[a.MSFT_TEXTURE_DDS]?i.extensions[a.MSFT_TEXTURE_DDS].ddsLoader:o),new Promise((function(a,i){t.load(z(e,r.path),a,void 0,i)}))})).then((function(e){!0===f&&s.revokeObjectURL(b),e.flipY=!1,void 0!==c.name&&(e.name=c.name),t.mimeType in N&&(e.format=N[t.mimeType]);var a=(n.samplers||{})[c.sampler]||{};return e.magFilter=E[a.magFilter]||ge,e.minFilter=E[a.minFilter]||ye,e.wrapS=A[a.wrapS]||fe,e.wrapT=A[a.wrapT]||fe,e}))},V.prototype.assignTexture=function(e,t,i){var n=this;return this.getDependency(\"texture\",i.index).then((function(r){if(!r.isCompressedTexture)switch(t){case\"aoMap\":case\"emissiveMap\":case\"metalnessMap\":case\"normalMap\":case\"roughnessMap\":r.format=Ie}if(n.extensions[a.KHR_TEXTURE_TRANSFORM]){var o=void 0!==i.extensions?i.extensions[a.KHR_TEXTURE_TRANSFORM]:void 0;o&&(r=n.extensions[a.KHR_TEXTURE_TRANSFORM].extendTexture(r,o))}e[t]=r}))},V.prototype.assignFinalMaterial=function(e){var t=e.geometry,i=e.material,n=this.extensions,r=void 0!==t.attributes.tangent,o=void 0!==t.attributes.color,s=void 0===t.attributes.normal,c=!0===e.isSkinnedMesh,d=Object.keys(t.morphAttributes).length>0,b=d&&void 0!==t.morphAttributes.normal;if(e.isPoints){var f=\"PointsMaterial:\"+i.uuid,h=this.cache.get(f);h||(h=new ys,di.prototype.copy.call(h,i),h.color.copy(i.color),h.map=i.map,h.sizeAttenuation=!1,this.cache.add(f,h)),i=h}else if(e.isLine){f=\"LineBasicMaterial:\"+i.uuid;var l=this.cache.get(f);l||(l=new cs,di.prototype.copy.call(l,i),l.color.copy(i.color),this.cache.add(f,l)),i=l}if(r||o||s||c||d){f=\"ClonedMaterial:\"+i.uuid+\":\";i.isGLTFSpecularGlossinessMaterial&&(f+=\"specular-glossiness:\"),c&&(f+=\"skinning:\"),r&&(f+=\"vertex-tangents:\"),o&&(f+=\"vertex-colors:\"),s&&(f+=\"flat-shading:\"),d&&(f+=\"morph-targets:\"),b&&(f+=\"morph-normals:\");var u=this.cache.get(f);u||(u=i.isGLTFSpecularGlossinessMaterial?n[a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].cloneMaterial(i):i.clone(),c&&(u.skinning=!0),r&&(u.vertexTangents=!0),o&&(u.vertexColors=v),s&&(u.flatShading=!0),d&&(u.morphTargets=!0),b&&(u.morphNormals=!0),this.cache.add(f,u)),i=u}i.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&(console.log(\"THREE.GLTFLoader: Duplicating UVs to support aoMap.\"),t.addAttribute(\"uv2\",new fi(t.attributes.uv.array,2))),i.isGLTFSpecularGlossinessMaterial&&(e.onBeforeRender=n[a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].refreshUniforms),e.material=i},V.prototype.loadMaterial=function(e){var t,i=this.json,n=this.extensions,r=i.materials[e],o={},s=r.extensions||{},c=[];if(s[a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var d=n[a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=d.getMaterialType(),c.push(d.extendParams(o,r,this))}else if(s[a.KHR_MATERIALS_UNLIT]){var b=n[a.KHR_MATERIALS_UNLIT];t=b.getMaterialType(),c.push(b.extendParams(o,r,this))}else{t=Wc;var f=r.pbrMetallicRoughness||{};if(o.color=new ii(1,1,1),o.opacity=1,Array.isArray(f.baseColorFactor)){var h=f.baseColorFactor;o.color.fromArray(h),o.opacity=h[3]}void 0!==f.baseColorTexture&&c.push(this.assignTexture(o,\"map\",f.baseColorTexture)),o.metalness=void 0!==f.metallicFactor?f.metallicFactor:1,o.roughness=void 0!==f.roughnessFactor?f.roughnessFactor:1,void 0!==f.metallicRoughnessTexture&&(c.push(this.assignTexture(o,\"metalnessMap\",f.metallicRoughnessTexture)),c.push(this.assignTexture(o,\"roughnessMap\",f.metallicRoughnessTexture)))}!0===r.doubleSided&&(o.side=p);var l=r.alphaMode||O;return l===D?o.transparent=!0:(o.transparent=!1,l===I&&(o.alphaTest=void 0!==r.alphaCutoff?r.alphaCutoff:.5)),void 0!==r.normalTexture&&t!==bi&&(c.push(this.assignTexture(o,\"normalMap\",r.normalTexture)),o.normalScale=new Ot(1,1),void 0!==r.normalTexture.scale&&o.normalScale.set(r.normalTexture.scale,r.normalTexture.scale)),void 0!==r.occlusionTexture&&t!==bi&&(c.push(this.assignTexture(o,\"aoMap\",r.occlusionTexture)),void 0!==r.occlusionTexture.strength&&(o.aoMapIntensity=r.occlusionTexture.strength)),void 0!==r.emissiveFactor&&t!==bi&&(o.emissive=(new ii).fromArray(r.emissiveFactor)),void 0!==r.emissiveTexture&&t!==bi&&c.push(this.assignTexture(o,\"emissiveMap\",r.emissiveTexture)),Promise.all(c).then((function(){var e;return e=t===dn?n[a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(o):new t(o),void 0!==r.name&&(e.name=r.name),e.map&&(e.map.encoding=pt),e.emissiveMap&&(e.emissiveMap.encoding=pt),e.specularMap&&(e.specularMap.encoding=pt),B(e,r),r.extensions&&U(n,e,r),e}))},V.prototype.loadGeometries=function(e){var t=this,i=this.extensions,n=this.primitiveCache;function r(e){return i[a.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(a){return k(a,e,t)}))}for(var o,s,c=[],d=0,b=e.length;d<b;d++){var f,h=e[d],l=(s=void 0,(s=(o=h).extensions&&o.extensions[a.KHR_DRACO_MESH_COMPRESSION])?\"draco:\"+s.bufferView+\":\"+s.indices+\":\"+G(s.attributes):o.indices+\":\"+G(o.attributes)+\":\"+o.mode),u=n[l];if(u)c.push(u.promise);else f=h.extensions&&h.extensions[a.KHR_DRACO_MESH_COMPRESSION]?r(h):k(new Pi,h,t),n[l]={primitive:h,promise:f},c.push(f)}return Promise.all(c)},V.prototype.loadMesh=function(e){for(var t=this,a=this.json.meshes[e],i=a.primitives,n=[],r=0,o=i.length;r<o;r++){var s=void 0===i[r].material?m=m||new Wc({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:l}):this.getDependency(\"material\",i[r].material);n.push(s)}return Promise.all(n).then((function(n){return t.loadGeometries(i).then((function(r){for(var o=[],s=0,c=r.length;s<c;s++){var d,b=r[s],f=i[s],h=n[s];if(f.mode===_||f.mode===M||f.mode===S||void 0===f.mode)!0!==(d=!0===a.isSkinnedMesh?new as(b,h):new Yi(b,h)).isSkinnedMesh||d.geometry.attributes.skinWeight.normalized||d.normalizeSkinWeights(),f.mode===M?d.drawMode=ht:f.mode===S&&(d.drawMode=lt);else if(f.mode===y)d=new gs(b,h);else if(f.mode===w)d=new us(b,h);else if(f.mode===x)d=new vs(b,h);else{if(f.mode!==g)throw new Error(\"THREE.GLTFLoader: Primitive mode unsupported: \"+f.mode);d=new Ss(b,h)}Object.keys(d.geometry.morphAttributes).length>0&&F(d,a),d.name=a.name||\"mesh_\"+e,r.length>1&&(d.name+=\"_\"+s),B(d,a),t.assignFinalMaterial(d),o.push(d)}if(1===o.length)return o[0];var l=new To;for(s=0,c=o.length;s<c;s++)l.add(o[s]);return l}))}))},V.prototype.loadCamera=function(e){var t,a=this.json.cameras[e],i=a[a.type];if(i)return\"perspective\"===a.type?t=new fn(Ct.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):\"orthographic\"===a.type&&(t=new ib(i.xmag/-2,i.xmag/2,i.ymag/2,i.ymag/-2,i.znear,i.zfar)),void 0!==a.name&&(t.name=a.name),B(t,a),Promise.resolve(t);console.warn(\"THREE.GLTFLoader: Missing camera parameters.\")},V.prototype.loadSkin=function(e){var t=this.json.skins[e],a={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(a):this.getDependency(\"accessor\",t.inverseBindMatrices).then((function(e){return a.inverseBindMatrices=e,a}))},V.prototype.loadAnimation=function(e){for(var t=this.json.animations[e],a=[],i=[],n=[],r=[],o=[],s=0,c=t.channels.length;s<c;s++){var d=t.channels[s],b=t.samplers[d.sampler],f=d.target,h=void 0!==f.node?f.node:f.id,l=void 0!==t.parameters?t.parameters[b.input]:b.input,p=void 0!==t.parameters?t.parameters[b.output]:b.output;a.push(this.getDependency(\"node\",h)),i.push(this.getDependency(\"accessor\",l)),n.push(this.getDependency(\"accessor\",p)),r.push(b),o.push(f)}return Promise.all([Promise.all(a),Promise.all(i),Promise.all(n),Promise.all(r),Promise.all(o)]).then((function(a){for(var i=a[0],n=a[1],r=a[2],o=a[3],s=a[4],c=[],d=0,b=i.length;d<b;d++){var f=i[d],h=n[d],l=r[d],p=o[d],m=s[d];if(void 0!==f){var g;switch(f.updateMatrix(),f.matrixAutoUpdate=!0,P[m.path]){case P.weights:g=cd;break;case P.rotation:g=bd;break;case P.position:case P.scale:default:g=hd}var v=f.name?f.name:f.uuid,y=void 0!==p.interpolation?C[p.interpolation]:2301,x=[];P[m.path]===P.weights?f.traverse((function(e){!0===e.isMesh&&e.morphTargetInfluences&&x.push(e.name?e.name:e.uuid)})):x.push(v);var w=l.array;if(l.normalized){var _;if(w.constructor===Int8Array)_=1/127;else if(w.constructor===Uint8Array)_=1/255;else if(w.constructor==Int16Array)_=1/32767;else{if(w.constructor!==Uint16Array)throw new Error(\"THREE.GLTFLoader: Unsupported output accessor component type.\");_=1/65535}for(var M=new Float32Array(w.length),S=0,T=w.length;S<T;S++)M[S]=w[S]*_;w=M}for(S=0,T=x.length;S<T;S++){var E=new g(x[S]+\".\"+P[m.path],h.array,w,y);\"CUBICSPLINE\"===p.interpolation&&(E.createInterpolant=function(e){return new u(this.times,this.values,this.getValueSize()/3,e)},E.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),c.push(E)}}}return new ld(void 0!==t.name?t.name:\"animation_\"+e,void 0,c)}))},V.prototype.loadNode=function(e){var t,i=this.json,n=this.extensions,r=this,o=i.meshReferences,s=i.meshUses,c=i.nodes[e];return(t=[],void 0!==c.mesh&&t.push(r.getDependency(\"mesh\",c.mesh).then((function(e){var t;if(o[c.mesh]>1){var a=s[c.mesh]++;(t=e.clone()).name+=\"_instance_\"+a,t.onBeforeRender=e.onBeforeRender;for(var i=0,n=t.children.length;i<n;i++)t.children[i].name+=\"_instance_\"+a,t.children[i].onBeforeRender=e.children[i].onBeforeRender}else t=e;return void 0!==c.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,a=c.weights.length;t<a;t++)e.morphTargetInfluences[t]=c.weights[t]})),t}))),void 0!==c.camera&&t.push(r.getDependency(\"camera\",c.camera)),c.extensions&&c.extensions[a.KHR_LIGHTS_PUNCTUAL]&&void 0!==c.extensions[a.KHR_LIGHTS_PUNCTUAL].light&&t.push(r.getDependency(\"light\",c.extensions[a.KHR_LIGHTS_PUNCTUAL].light)),Promise.all(t)).then((function(e){var t;if((t=!0===c.isBone?new os:e.length>1?new To:1===e.length?e[0]:new ga)!==e[0])for(var a=0,i=e.length;a<i;a++)t.add(e[a]);if(void 0!==c.name&&(t.userData.name=c.name,t.name=tf.sanitizeNodeName(c.name)),B(t,c),c.extensions&&U(n,t,c),void 0!==c.matrix){var r=new $t;r.fromArray(c.matrix),t.applyMatrix(r)}else void 0!==c.translation&&t.position.fromArray(c.translation),void 0!==c.rotation&&t.quaternion.fromArray(c.rotation),void 0!==c.scale&&t.scale.fromArray(c.scale);return t}))},V.prototype.loadScene=function(){function e(t,a,i,n){var r=i.nodes[t];return n.getDependency(\"node\",t).then((function(e){return void 0===r.skin?e:n.getDependency(\"skin\",r.skin).then((function(e){for(var a=[],i=0,r=(t=e).joints.length;i<r;i++)a.push(n.getDependency(\"node\",t.joints[i]));return Promise.all(a)})).then((function(a){return e.traverse((function(e){if(e.isMesh){for(var i=[],n=[],r=0,o=a.length;r<o;r++){var s=a[r];if(s){i.push(s);var c=new $t;void 0!==t.inverseBindMatrices&&c.fromArray(t.inverseBindMatrices.array,16*r),n.push(c)}else console.warn('THREE.GLTFLoader: Joint \"%s\" could not be found.',t.joints[r])}e.bind(new rs(i,n),e.matrixWorld)}})),e}));var t})).then((function(t){a.add(t);var o=[];if(r.children)for(var s=r.children,c=0,d=s.length;c<d;c++){var b=s[c];o.push(e(b,t,i,n))}return Promise.all(o)}))}return function(t){var a=this.json,i=this.extensions,n=this.json.scenes[t],r=new va;void 0!==n.name&&(r.name=n.name),B(r,n),n.extensions&&U(i,r,n);for(var o=n.nodes||[],s=[],c=0,d=o.length;c<d;c++)s.push(e(o[c],r,a,this));return Promise.all(s).then((function(){return r}))}}(),e}();function rh(){console.log(\"what up \"),console.log(n),this.renderer=new Io({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=f,this.canvas=this.renderer.domElement,document.body.appendChild(this.canvas),console.log(document.body),this.scene=new va,this.camera=new fn(30,window.innerWidth/window.innerHeight,1,1e4),this.camera.position.z=100,this.camera.position.y=100,this.camera.lookAt(0,0,0),window.addEventListener(\"resize\",ch.bind(this),!1);var e=new rb(16777215,1.5);e.position.set(50,50,-50),e.castShadow=!0,e.shadow.mapSize.width=512,e.shadow.mapSize.height=512,e.shadow.camera.near=.5,e.shadow.camera.far=100,e.shadow.camera.left=e.shadow.camera.bottom=-30,e.shadow.camera.right=e.shadow.camera.top=30,this.directionalLight=e,this.scene.add(e),this.terrain=new n(Math.round(43.75),50),this.masterGroup=new To,this.masterGroup.scale.set(2,2,2),this.terrainGeo=new Pi,this.terrainGeo.addAttribute(\"position\",new yi(this.terrain.returnPtArray(),3)),this.terrainGeo.addAttribute(\"uv\",new yi(this.terrain.returnUVArray(),2)),this.terrainGeo.addAttribute(\"normal\",new yi(this.terrain.returnNormalArray(),3)),this.geoPositions=this.terrainGeo.attributes.position,this.geoUVs=this.terrainGeo.attributes.uv,this.terrainGeo.setIndex(this.terrain.returnIndiceArraySnap());var t=(new Ed).load(\"images/Desert_Albedo.png\");t.wrapS=fe,t.wrapT=fe;var a=(new Ed).load(\"images/Desert_Normal.png\");a.wrapS=fe,a.wrapT=fe,this.terrainMat=new Wc({map:t,normalMap:a,normalScale:new Ot(.8,.8),metalness:0,roughness:.75}),this.duneBuggy=new r,this.duneBuggy.rotate(Math.PI),this.buggyScale=.5,this.terrainMesh=new Yi(this.terrainGeo,this.terrainMat),this.terrainMesh.receiveShadow=!0,this.scene.add(this.masterGroup),this.masterGroup.add(this.terrainMesh),(new nh).load(\"models/duneBuggy.glb\",function(e){window.gltf=e,this.buggy_frame=e.scene.getObjectByName(\"Frame\"),this.buggy_frontLeftWheel=e.scene.getObjectByName(\"FrontLeftWheel\"),this.buggy_frontRightWheel=e.scene.getObjectByName(\"FrontRightWheel\"),this.buggy_backLeftWheel=e.scene.getObjectByName(\"BackLeftWheel\"),this.buggy_backRightWheel=e.scene.getObjectByName(\"BackRightWheel\"),this.buggy=new To,this.buggy.scale.set(this.buggyScale,this.buggyScale,this.buggyScale),this.masterGroup.add(this.buggy),this.buggySpin=new To,this.buggySpin.add(this.buggy_frame),this.buggy.add(this.buggySpin),this.buggy.add(this.buggy_frontLeftWheel),this.buggy.add(this.buggy_frontRightWheel),this.buggy.add(this.buggy_backLeftWheel),this.buggy.add(this.buggy_backRightWheel),this.buggy_frame.castShadow=!0,this.buggy_frontLeftWheel.castShadow=!0,this.buggy_frontRightWheel.castShadow=!0,this.buggy_backLeftWheel.castShadow=!0,this.buggy_backRightWheel.castShadow=!0,this.buggy_frontLeftWheel.position.y=this.duneBuggy.frontWheelX,this.buggy_frontRightWheel.position.y=this.duneBuggy.frontWheelX,this.buggy_frontLeftWheel.position.x=-this.duneBuggy.frontWheelSpace,this.buggy_frontRightWheel.position.x=this.duneBuggy.frontWheelSpace,this.buggy_backLeftWheel.position.y=this.duneBuggy.backWheelX,this.buggy_backRightWheel.position.y=this.duneBuggy.backWheelX,this.animate()}.bind(this)),this.currTime=(new Date).getTime(),this.terrain.setPosition(50,50),this.autoDrive=!1,this.accelerate=1,this.dragVector=[0,0],this.touching=!1,this.interaction=new o({onDown:oh.bind(this),onDrag:oh.bind(this),onUp:sh.bind(this)})}console.log(n);function oh(e,t){this.touching=!0,this.dragVector[0]=2*e/window.innerWidth-1}function sh(e,t,a,i){this.touching=!1,this.dragVector=[0,0]}function ch(){this.size=[window.innerWidth,window.innerHeight],this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}rh.prototype.animate=function e(){requestAnimationFrame(e.bind(this));var t=(new Date).getTime(),a=t-this.currTime;this.currTime=t,this.terrain.move(this.duneBuggy.vectorXY[0]*this.duneBuggy.speedXY*a/1e3,-this.duneBuggy.vectorXY[1]*this.duneBuggy.speedXY*a/1e3),this.autoDrive?(this.duneBuggy.accelerationXY_Mult=1,this.duneBuggy.rotate(.65*(Math.sin(3+this.currTime/8e3)+Math.sin(this.currTime/800))*a/1e3)):(this.duneBuggy.accelerationXY_Mult=(this.touching?1:0)+(this.interaction.arrows.up?1:0)-(this.interaction.arrows.down?1:0),this.duneBuggy.rotate(this.dragVector[0]/20+((this.interaction.arrows.left?-1:0)+(this.interaction.arrows.right?1:0))/20)),this.duneBuggy.update(a/1e3,this.terrain.getPt(this.terrain.currentPosition[0]+this.duneBuggy.wheelPositions[0][0]*this.buggyScale,this.terrain.currentPosition[1]-this.duneBuggy.wheelPositions[0][1]*this.buggyScale).z,this.terrain.getPt(this.terrain.currentPosition[0]+this.duneBuggy.wheelPositions[1][0]*this.buggyScale,this.terrain.currentPosition[1]-this.duneBuggy.wheelPositions[1][1]*this.buggyScale).z,this.terrain.getPt(this.terrain.currentPosition[0]+this.duneBuggy.wheelPositions[2][0]*this.buggyScale,this.terrain.currentPosition[1]-this.duneBuggy.wheelPositions[2][1]*this.buggyScale).z,this.terrain.getPt(this.terrain.currentPosition[0]+this.duneBuggy.wheelPositions[3][0]*this.buggyScale,this.terrain.currentPosition[1]-this.duneBuggy.wheelPositions[3][1]*this.buggyScale).z),this.buggySpin.rotation.y=Math.PI-this.duneBuggy.rotation,this.buggy_frame.rotation.x=this.duneBuggy.tilt,this.buggy_frame.rotation.z=this.duneBuggy.roll,this.buggy_frame.position.y=this.duneBuggy.midHeight/this.buggyScale,this.buggy_frontLeftWheel.position.set(this.duneBuggy.wheelPositions[0][0],this.duneBuggy.wheelPositions[0][2]/this.buggyScale,this.duneBuggy.wheelPositions[0][1]),this.buggy_frontRightWheel.position.set(this.duneBuggy.wheelPositions[1][0],this.duneBuggy.wheelPositions[1][2]/this.buggyScale,this.duneBuggy.wheelPositions[1][1]),this.buggy_backLeftWheel.position.set(this.duneBuggy.wheelPositions[2][0],this.duneBuggy.wheelPositions[2][2]/this.buggyScale,this.duneBuggy.wheelPositions[2][1]),this.buggy_backRightWheel.position.set(this.duneBuggy.wheelPositions[3][0],this.duneBuggy.wheelPositions[3][2]/this.buggyScale,this.duneBuggy.wheelPositions[3][1]),this.buggy_frontLeftWheel.rotation.y=Math.PI-this.duneBuggy.rotation,this.buggy_frontRightWheel.rotation.y=Math.PI-this.duneBuggy.rotation,this.buggy_backLeftWheel.rotation.y=Math.PI-this.duneBuggy.rotation,this.buggy_backRightWheel.rotation.y=Math.PI-this.duneBuggy.rotation,this.directionalLight.position.y=50+this.buggy_frame.position.y,this.directionalLight.target.y=this.buggy_frame.position.y,this.geoPositions.set(this.terrain.returnPtArray(),0),this.geoPositions.needsUpdate=!0,this.geoUVs.set(this.terrain.returnUVArray(),0),this.geoUVs.needsUpdate=!0,this.renderer.render(this.scene,this.camera)},rh.prototype.onWindowResize=ch;new rh}]);","extractedComments":[]}